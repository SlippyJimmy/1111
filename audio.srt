1
00:00:00,000 --> 00:00:01,960
Hey guys, this is Mitch with

2
00:00:01,960 --> 00:00:03,940
Fineboy CGI and today we're going

3
00:00:03,940 --> 00:00:05,940
to continue our Nakama tutorial

4
00:00:05,940 --> 00:00:08,600
series where I take you from

5
00:00:08,600 --> 00:00:11,640
zero to understanding all the fundamentals

6
00:00:11,640 --> 00:00:13,460
of Nakama and in this video

7
00:00:13,460 --> 00:00:14,580
we're going to talk about how

8
00:00:14,580 --> 00:00:16,280
to do groups so that's going

9
00:00:16,280 --> 00:00:17,680
to allow you to add users

10
00:00:17,680 --> 00:00:18,100
to like

11
00:00:18,100 --> 00:00:19,440
a guild or like a group

12
00:00:19,440 --> 00:00:21,300
setting then we're going to talk

13
00:00:21,300 --> 00:00:23,620
about doing chats and chatting between

14
00:00:23,620 --> 00:00:25,420
each other so sending messages to

15
00:00:25,420 --> 00:00:28,360
each other and finally due to

16
00:00:28,360 --> 00:00:29,860
popular requests I'm going to talk

17
00:00:29,860 --> 00:00:31,680
about how to host your Nakama

18
00:00:31,680 --> 00:00:33,700
instance out on the internet so

19
00:00:33,700 --> 00:00:35,520
that you can play games with

20
00:00:35,520 --> 00:00:35,780
your

21
00:00:35,780 --> 00:00:37,500
friends or of course you can

22
00:00:37,500 --> 00:00:39,640
release your game out to make

23
00:00:39,640 --> 00:00:41,920
it into a multiplayer game so

24
00:00:41,920 --> 00:00:42,180
that's what

25
00:00:42,180 --> 00:00:42,840
I have in store for you

26
00:00:42,840 --> 00:00:44,560
guys today so let's go ahead

27
00:00:44,560 --> 00:00:48,400
and get started all right so

28
00:00:48,400 --> 00:00:49,520
this tutorial assumes

29
00:00:49,520 --> 00:00:51,620
that you already completed the previous

30
00:00:51,620 --> 00:00:53,820
tutorial where we actually integrated Nakama

31
00:00:53,820 --> 00:00:54,440
for the most

32
00:00:54,440 --> 00:00:56,240
part so this one's going to

33
00:00:56,240 --> 00:00:58,320
be going over more of the

34
00:00:58,320 --> 00:00:59,960
features and things like that that

35
00:00:59,960 --> 00:01:00,120
are

36
00:01:00,120 --> 00:01:02,400
available to you so let's go

37
00:01:02,400 --> 00:01:03,340
ahead and get started with that

38
00:01:03,340 --> 00:01:04,620
and the first thing we're going

39
00:01:04,620 --> 00:01:04,980
to talk

40
00:01:04,980 --> 00:01:07,420
about is creating groups so groups

41
00:01:07,420 --> 00:01:11,680
are basically like a guild or

42
00:01:11,680 --> 00:01:13,500
a team of people that want

43
00:01:13,500 --> 00:01:13,780
to play

44
00:01:13,780 --> 00:01:16,100
with each other multiple times not

45
00:01:16,100 --> 00:01:18,200
necessarily as a party but as

46
00:01:18,200 --> 00:01:19,440
an actual group so after the

47
00:01:19,440 --> 00:01:19,860
game is

48
00:01:19,860 --> 00:01:22,080
ended and everything is done you

49
00:01:22,080 --> 00:01:23,640
still have access to that group

50
00:01:23,640 --> 00:01:25,300
of people so the first thing

51
00:01:25,300 --> 00:01:25,440
that

52
00:01:25,440 --> 00:01:26,300
I'm going to do is I'm

53
00:01:26,300 --> 00:01:27,660
going to come in here and

54
00:01:27,660 --> 00:01:29,300
I'm going to hide our friends

55
00:01:29,300 --> 00:01:29,980
section because we're

56
00:01:29,980 --> 00:01:31,420
actually running out of space here

57
00:01:31,420 --> 00:01:33,120
and I really should name all

58
00:01:33,120 --> 00:01:34,020
of these but that's probably going

59
00:01:34,020 --> 00:01:35,040
to break all of my code

60
00:01:35,040 --> 00:01:36,060
so we'll go ahead and just

61
00:01:36,060 --> 00:01:37,720
hide that panel go ahead and

62
00:01:37,720 --> 00:01:39,140
add in a new panel

63
00:01:40,440 --> 00:01:41,980
like so I'm going to go

64
00:01:41,980 --> 00:01:44,600
over here make it about this

65
00:01:44,600 --> 00:01:46,200
big give or take I'm going

66
00:01:46,200 --> 00:01:47,100
to right click add

67
00:01:47,100 --> 00:01:48,580
a child node we'll add in

68
00:01:48,580 --> 00:01:52,480
a label like that we're going

69
00:01:52,480 --> 00:01:53,820
to make it about this big

70
00:01:53,820 --> 00:01:56,600
and we'll have a

71
00:01:57,260 --> 00:01:59,980
name parameter there we'll go ahead

72
00:01:59,980 --> 00:02:03,420
and duplicate it and say description

73
00:02:07,440 --> 00:02:08,860
and then we'll come in here

74
00:02:08,860 --> 00:02:10,080
right click add in a child

75
00:02:10,080 --> 00:02:11,660
node and we'll add in a

76
00:02:11,660 --> 00:02:13,780
line edit like so

77
00:02:13,780 --> 00:02:16,060
and we'll make it about this

78
00:02:16,060 --> 00:02:17,620
big give or take we'll control

79
00:02:17,620 --> 00:02:19,640
duplicate that and we'll make it

80
00:02:19,640 --> 00:02:19,960
about

81
00:02:19,960 --> 00:02:22,120
this big I mean technically the

82
00:02:22,120 --> 00:02:23,780
description should be a little bit

83
00:02:23,780 --> 00:02:26,120
longer but that's okay we'll make

84
00:02:26,120 --> 00:02:27,600
it work for what we're gonna

85
00:02:27,600 --> 00:02:29,940
do so that's fine and I'll

86
00:02:29,940 --> 00:02:31,640
just kind of organize this properly

87
00:02:31,640 --> 00:02:32,240
then we'll

88
00:02:32,240 --> 00:02:33,780
add in a button and this

89
00:02:33,780 --> 00:02:34,740
button is going to allow us

90
00:02:34,740 --> 00:02:37,040
to create a group now I'm

91
00:02:37,040 --> 00:02:37,820
going to need multiple

92
00:02:37,820 --> 00:02:39,300
buttons but for right now we'll

93
00:02:39,300 --> 00:02:43,960
just do one I think so

94
00:02:43,960 --> 00:02:45,420
we'll go ahead and say create

95
00:02:45,420 --> 00:02:46,820
group like so

96
00:02:46,820 --> 00:02:48,200
and I'll probably need to make

97
00:02:48,200 --> 00:02:49,780
this panel larger to be honest

98
00:02:49,780 --> 00:02:50,960
I'm running out of space here

99
00:02:50,960 --> 00:02:51,480
so we'll go

100
00:02:51,480 --> 00:02:52,840
ahead and just make this a

101
00:02:52,840 --> 00:02:55,060
touch bit bigger like so now

102
00:02:55,060 --> 00:02:56,880
when we want to create a

103
00:02:56,880 --> 00:02:57,840
group all we have to

104
00:02:57,840 --> 00:02:59,180
do is if we grab this

105
00:02:59,180 --> 00:03:02,060
button name it create group like

106
00:03:02,060 --> 00:03:04,020
so we'll go into our node

107
00:03:04,020 --> 00:03:05,400
button down and we'll

108
00:03:05,400 --> 00:03:07,360
hook that to our control node

109
00:03:07,360 --> 00:03:09,400
just like that now you'll see

110
00:03:09,400 --> 00:03:10,260
when I hook it to the

111
00:03:10,260 --> 00:03:11,080
control node it

112
00:03:11,080 --> 00:03:20,440
should create a create group button

113
00:03:20,440 --> 00:03:21,940
down function it looks like I

114
00:03:21,940 --> 00:03:23,400
already did this in a previous

115
00:03:23,960 --> 00:03:25,100
section so I'm going to go

116
00:03:25,100 --> 00:03:26,140
ahead and get rid of that

117
00:03:26,140 --> 00:03:27,920
that's my fault that caught me

118
00:03:27,920 --> 00:03:28,480
off guard real

119
00:03:28,480 --> 00:03:30,260
quick but to create a group

120
00:03:30,260 --> 00:03:32,600
all we have to do is

121
00:03:32,600 --> 00:03:37,680
say client dot create group async

122
00:03:37,680 --> 00:03:38,320
and then we can

123
00:03:38,320 --> 00:03:40,180
pass in our session like so

124
00:03:40,180 --> 00:03:41,580
and then we have to pass

125
00:03:41,580 --> 00:03:42,800
in a name now the name

126
00:03:42,800 --> 00:03:43,860
is whatever the name

127
00:03:43,860 --> 00:03:44,960
is that we put as our

128
00:03:44,960 --> 00:03:46,400
line edit now if we take

129
00:03:46,400 --> 00:03:47,660
a look we have our name

130
00:03:47,660 --> 00:03:48,880
right here so we'll say

131
00:03:49,520 --> 00:03:52,660
group name and then group description

132
00:03:52,660 --> 00:03:55,360
like so and then we'll go

133
00:03:55,360 --> 00:03:56,580
back to our script and we'll

134
00:03:56,580 --> 00:03:56,860
do

135
00:03:56,860 --> 00:04:00,660
dollar sign group name comma or

136
00:04:00,660 --> 00:04:05,300
dot text comma dollar sign group

137
00:04:05,300 --> 00:04:07,660
description dot text

138
00:04:07,660 --> 00:04:09,660
and then you'll see that they

139
00:04:09,660 --> 00:04:11,600
have the option for an avatar

140
00:04:11,600 --> 00:04:14,160
url now you don't have to

141
00:04:14,160 --> 00:04:15,000
supply one

142
00:04:15,000 --> 00:04:17,580
but you can and that's really

143
00:04:17,580 --> 00:04:19,640
cool because it basically would allow

144
00:04:19,640 --> 00:04:20,840
you to have some kind of

145
00:04:21,480 --> 00:04:23,100
url for an image that you

146
00:04:23,100 --> 00:04:24,520
could load for their group so

147
00:04:24,520 --> 00:04:25,240
I'm going to put that as

148
00:04:25,240 --> 00:04:26,700
empty comma and

149
00:04:26,700 --> 00:04:27,520
then you'll see that they have

150
00:04:27,520 --> 00:04:29,440
a language so we'll say their

151
00:04:29,440 --> 00:04:31,840
main language is en it doesn't

152
00:04:31,840 --> 00:04:32,580
really matter

153
00:04:32,580 --> 00:04:34,760
necessarily but it is a thing

154
00:04:34,760 --> 00:04:37,620
that exists and actually I need

155
00:04:37,620 --> 00:04:39,680
to I'm messing up my little

156
00:04:39,680 --> 00:04:40,000
things

157
00:04:40,000 --> 00:04:41,660
here we'll put an empty url

158
00:04:41,660 --> 00:04:44,800
we'll put a en for the

159
00:04:44,800 --> 00:04:48,840
avatar title and then you can

160
00:04:48,840 --> 00:04:49,660
choose whether or not

161
00:04:49,660 --> 00:04:51,260
it's an open or if it's

162
00:04:51,260 --> 00:04:53,860
not so an open means if

163
00:04:53,860 --> 00:04:55,280
it's a public group so if

164
00:04:55,280 --> 00:04:56,440
people can actually see

165
00:04:56,440 --> 00:04:58,520
it and index it for other

166
00:04:58,520 --> 00:05:00,380
people so if you say false

167
00:05:00,380 --> 00:05:01,980
then it's a private group so

168
00:05:01,980 --> 00:05:02,580
if you don't

169
00:05:02,580 --> 00:05:04,740
want it to be listable which

170
00:05:04,740 --> 00:05:06,160
we'll discuss listing in a little

171
00:05:06,160 --> 00:05:08,140
bit but it allows you to

172
00:05:08,140 --> 00:05:08,800
basically say

173
00:05:08,800 --> 00:05:10,220
is this a listable group so

174
00:05:10,220 --> 00:05:11,280
I'm going to say true because

175
00:05:11,280 --> 00:05:12,640
it makes sense to have a

176
00:05:12,640 --> 00:05:13,640
listable group and

177
00:05:13,640 --> 00:05:14,480
then you can have a max

178
00:05:14,480 --> 00:05:16,740
number of members now once this

179
00:05:16,740 --> 00:05:19,000
is set you cannot change it

180
00:05:19,000 --> 00:05:20,140
so make sure you

181
00:05:20,140 --> 00:05:21,080
set it to a value that

182
00:05:21,080 --> 00:05:22,720
you want so if a guild

183
00:05:22,720 --> 00:05:25,200
can only have 64 members then

184
00:05:25,200 --> 00:05:26,900
you set it to 64 if

185
00:05:26,900 --> 00:05:27,100
it's

186
00:05:27,100 --> 00:05:28,560
100 members then you can set

187
00:05:28,560 --> 00:05:30,000
it to 100 so in my

188
00:05:30,000 --> 00:05:31,020
case I'm going to say 32

189
00:05:31,020 --> 00:05:33,160
just because 32 is just a

190
00:05:33,160 --> 00:05:33,300
good

191
00:05:33,300 --> 00:05:35,360
round number now after that there

192
00:05:35,360 --> 00:05:36,560
is nothing else that we can

193
00:05:36,560 --> 00:05:37,680
do so we'll go ahead and

194
00:05:37,680 --> 00:05:39,160
just say 32 now

195
00:05:39,160 --> 00:05:42,200
typically this also returns a group

196
00:05:42,200 --> 00:05:44,320
api so you could say var

197
00:05:44,320 --> 00:05:47,160
group is equal to await client

198
00:05:47,160 --> 00:05:48,600
asynchronous and then we can just

199
00:05:48,600 --> 00:05:49,640
go ahead and print out that

200
00:05:49,640 --> 00:05:51,100
group now you don't have to

201
00:05:51,100 --> 00:05:51,520
do this

202
00:05:51,520 --> 00:05:53,640
but it is a way to

203
00:05:53,640 --> 00:05:55,080
get a hold of that object

204
00:05:55,080 --> 00:05:56,320
if that makes sense so if

205
00:05:56,320 --> 00:05:58,160
you needed to go ahead and

206
00:05:58,160 --> 00:06:00,600
make your group you know visible

207
00:06:00,600 --> 00:06:02,140
or not visible or something like

208
00:06:02,140 --> 00:06:03,520
that you could do that right

209
00:06:03,520 --> 00:06:03,980
here

210
00:06:03,980 --> 00:06:06,200
so now if we go ahead

211
00:06:06,200 --> 00:06:09,120
and make sure that our nakama

212
00:06:09,120 --> 00:06:10,580
instance is running so if I

213
00:06:10,580 --> 00:06:11,220
take a look at my

214
00:06:11,220 --> 00:06:12,960
containers you can see it is

215
00:06:12,960 --> 00:06:15,020
actually running so there we go

216
00:06:15,020 --> 00:06:17,080
we'll go ahead and hit play

217
00:06:18,520 --> 00:06:19,580
and then we're going to go

218
00:06:19,580 --> 00:06:21,880
ahead and submit we're going to

219
00:06:21,880 --> 00:06:23,300
connect to our game we're going

220
00:06:23,300 --> 00:06:23,640
to call

221
00:06:23,640 --> 00:06:28,780
our group test group description this

222
00:06:28,780 --> 00:06:30,200
is our test group and we'll

223
00:06:30,200 --> 00:06:32,360
click create now you'll see that

224
00:06:32,360 --> 00:06:32,620
we

225
00:06:32,620 --> 00:06:36,140
have a error group name must

226
00:06:36,140 --> 00:06:37,640
be set so I must have

227
00:06:37,640 --> 00:06:39,260
messed up on my group name

228
00:06:39,260 --> 00:06:41,220
so let's take a look

229
00:06:41,220 --> 00:06:44,220
panel five group name oh I

230
00:06:44,220 --> 00:06:47,120
made a mistake because this is

231
00:06:47,120 --> 00:06:48,660
the original panel I did some

232
00:06:48,660 --> 00:06:49,100
recording

233
00:06:49,100 --> 00:06:52,060
earlier that um I didn't keep

234
00:06:52,060 --> 00:06:53,360
it but I never actually removed

235
00:06:53,360 --> 00:06:54,740
that panel so we'll change this

236
00:06:54,740 --> 00:06:55,400
to panel

237
00:06:56,620 --> 00:06:58,420
six and then we'll go from

238
00:06:58,420 --> 00:06:59,920
there so we'll refresh this and

239
00:06:59,920 --> 00:07:01,420
try this one more time that's

240
00:07:01,420 --> 00:07:01,960
my fault

241
00:07:01,960 --> 00:07:05,940
so we'll submit test group this

242
00:07:05,940 --> 00:07:08,900
is a test group create group

243
00:07:08,900 --> 00:07:10,320
and you'll see that we get

244
00:07:10,320 --> 00:07:11,120
a success

245
00:07:11,120 --> 00:07:13,260
right there so now I'm going

246
00:07:13,260 --> 00:07:15,280
to navigate to one two seven

247
00:07:15,280 --> 00:07:17,420
nakama console right here so we'll

248
00:07:17,420 --> 00:07:17,840
go to our

249
00:07:17,840 --> 00:07:19,480
one two seven seven three five

250
00:07:19,480 --> 00:07:21,760
one and then we will connect

251
00:07:21,760 --> 00:07:23,640
into our nakama group if we

252
00:07:23,640 --> 00:07:24,320
go to groups you

253
00:07:24,320 --> 00:07:25,940
will see there is our test

254
00:07:25,940 --> 00:07:27,820
group and you can see this

255
00:07:27,820 --> 00:07:28,800
is what we have if we

256
00:07:28,800 --> 00:07:29,720
take a look at our members

257
00:07:29,720 --> 00:07:32,480
you can see that there is

258
00:07:32,480 --> 00:07:36,060
a super admin so what in

259
00:07:36,060 --> 00:07:37,180
the world is a super admin

260
00:07:37,180 --> 00:07:39,560
well a super admin is

261
00:07:39,560 --> 00:07:41,960
a person that has full control

262
00:07:41,960 --> 00:07:45,280
over that group so this person

263
00:07:45,280 --> 00:07:48,840
jj rb v w e x

264
00:07:48,840 --> 00:07:51,820
k i is a super admin

265
00:07:51,820 --> 00:07:52,320
of that

266
00:07:52,320 --> 00:07:54,840
group so what that means is

267
00:07:54,840 --> 00:07:56,020
that they have the ability to

268
00:07:56,020 --> 00:07:59,180
delete that group and when you

269
00:07:59,180 --> 00:07:59,780
are a

270
00:07:59,780 --> 00:08:02,500
super admin you have full control

271
00:08:02,500 --> 00:08:04,240
over that group there are four

272
00:08:04,240 --> 00:08:07,220
different membership states there's

273
00:08:07,220 --> 00:08:08,820
super admin which means that you

274
00:08:08,820 --> 00:08:10,640
are basically god you can do

275
00:08:10,640 --> 00:08:11,760
whatever you want to this group

276
00:08:11,760 --> 00:08:12,480
you can

277
00:08:12,480 --> 00:08:14,320
delete people you can do whatever

278
00:08:14,320 --> 00:08:16,100
you want and basically you can

279
00:08:16,100 --> 00:08:17,380
delete the group and that's a

280
00:08:17,380 --> 00:08:17,820
big

281
00:08:17,820 --> 00:08:21,000
thing admin which allows you to

282
00:08:21,000 --> 00:08:24,100
update your group and allow you

283
00:08:24,100 --> 00:08:26,440
to accept kick promote delete ban

284
00:08:26,440 --> 00:08:26,900
or

285
00:08:26,900 --> 00:08:28,920
promote members and then they have

286
00:08:28,920 --> 00:08:30,940
members which allows you to actually

287
00:08:30,940 --> 00:08:32,780
have a regular group member

288
00:08:32,780 --> 00:08:33,680
they don't have the ability to

289
00:08:33,680 --> 00:08:35,820
do anything they cannot accept join

290
00:08:35,820 --> 00:08:37,980
requests stuff like that and then

291
00:08:37,980 --> 00:08:40,800
they have the join request mode

292
00:08:40,800 --> 00:08:42,380
which basically is when a user

293
00:08:42,380 --> 00:08:43,840
wants to join they need to

294
00:08:43,840 --> 00:08:44,420
be accepted

295
00:08:45,080 --> 00:08:46,880
so you have to say yes

296
00:08:46,880 --> 00:08:48,500
i will accept you as a

297
00:08:48,500 --> 00:08:49,700
part of a group and that's

298
00:08:49,700 --> 00:08:51,460
how you know the different

299
00:08:51,460 --> 00:08:53,120
states if that makes sense so

300
00:08:53,120 --> 00:08:54,400
if we go to our user

301
00:08:54,400 --> 00:08:56,600
management we look for the jj

302
00:08:56,600 --> 00:08:58,940
r person if we go into

303
00:08:58,940 --> 00:09:00,680
accounts i have a bunch of

304
00:09:00,680 --> 00:09:02,120
usernames here because i've been doing

305
00:09:02,120 --> 00:09:03,280
a lot of testing on my

306
00:09:03,280 --> 00:09:04,920
end but if i look

307
00:09:04,920 --> 00:09:17,540
for jj rb jj rb well

308
00:09:17,540 --> 00:09:19,600
that person let me see jj

309
00:09:19,600 --> 00:09:21,880
i have 71 accounts so you

310
00:09:21,880 --> 00:09:22,720
can see i have a bunch

311
00:09:22,720 --> 00:09:22,880
of

312
00:09:22,880 --> 00:09:23,740
accounts because i've been doing a

313
00:09:23,740 --> 00:09:24,920
lot of testing on my end

314
00:09:24,920 --> 00:09:27,820
for my own stuff and nakama

315
00:09:27,820 --> 00:09:28,180
is being

316
00:09:28,180 --> 00:09:30,020
difficult so let me refresh jj

317
00:09:30,020 --> 00:09:36,220
rb well apparently jj doesn't exist

318
00:09:36,220 --> 00:09:38,440
within my vast number of people

319
00:09:38,440 --> 00:09:38,720
so

320
00:09:38,720 --> 00:09:40,420
i'm not sure why it did

321
00:09:40,420 --> 00:09:43,400
that but that's okay there's probably

322
00:09:43,400 --> 00:09:47,360
a master account that it's using

323
00:09:50,740 --> 00:09:53,120
actually it's right here jj rb

324
00:09:53,120 --> 00:09:55,680
right here so i'm not sure

325
00:09:55,680 --> 00:09:57,740
why it used this specific one

326
00:09:57,740 --> 00:09:59,320
unless i logged

327
00:09:59,320 --> 00:10:02,980
in and created it with device

328
00:10:02,980 --> 00:10:05,800
authentication which is possible but that's

329
00:10:05,800 --> 00:10:07,460
okay we'll figure that out in

330
00:10:07,460 --> 00:10:10,560
a minute but that's basically how

331
00:10:10,560 --> 00:10:12,200
we create a group now you

332
00:10:12,200 --> 00:10:13,800
can see we also printed out

333
00:10:13,800 --> 00:10:14,980
a group as well

334
00:10:14,980 --> 00:10:16,380
so you can see here we

335
00:10:16,380 --> 00:10:18,260
have our creator id which is

336
00:10:18,260 --> 00:10:20,320
right here the creator id is

337
00:10:20,320 --> 00:10:21,840
db so this is the

338
00:10:21,840 --> 00:10:24,400
creator id so our creator is

339
00:10:24,400 --> 00:10:27,080
jj so we must have logged

340
00:10:27,080 --> 00:10:29,800
in with device authentication which means

341
00:10:29,800 --> 00:10:32,960
i probably didn't reset my client

342
00:10:32,960 --> 00:10:35,720
authentication stuff so let me take

343
00:10:35,720 --> 00:10:36,700
a look at that real quick

344
00:10:36,700 --> 00:10:36,940
my

345
00:10:36,940 --> 00:10:40,860
apologies i may not have reset

346
00:10:40,860 --> 00:10:42,220
some of my code so that

347
00:10:42,220 --> 00:10:45,940
it worked properly did user authentication

348
00:10:45,940 --> 00:10:50,940
instead of our um device authentication

349
00:10:50,940 --> 00:10:52,360
so my guess is that's probably

350
00:10:52,360 --> 00:10:53,480
what it is so if i

351
00:10:53,480 --> 00:10:54,360
go to log in

352
00:10:54,940 --> 00:10:56,600
yeah right here i'm doing a

353
00:10:56,600 --> 00:10:58,640
unique device id right here and

354
00:10:58,640 --> 00:11:00,460
i'm logging in with that socket

355
00:11:00,460 --> 00:11:01,860
connection so

356
00:11:01,860 --> 00:11:03,300
that's what's going on here so

357
00:11:03,300 --> 00:11:04,500
what i'm gonna do is i'm

358
00:11:04,500 --> 00:11:05,860
gonna control k to comment that

359
00:11:05,860 --> 00:11:06,720
out and i'm

360
00:11:06,720 --> 00:11:09,280
going to go ahead and log

361
00:11:09,280 --> 00:11:11,960
in with my username so now

362
00:11:11,960 --> 00:11:13,400
i'm gonna go in here and

363
00:11:13,400 --> 00:11:14,660
i'll reset this because

364
00:11:14,660 --> 00:11:16,120
it's going to be kind of

365
00:11:16,120 --> 00:11:19,360
difficult to have a group that

366
00:11:19,360 --> 00:11:22,480
uh exists that's not tied to

367
00:11:22,480 --> 00:11:23,300
an actual user

368
00:11:23,900 --> 00:11:24,900
so i'll go ahead and do

369
00:11:24,900 --> 00:11:26,540
that i'll refresh and then we're

370
00:11:26,540 --> 00:11:27,840
going to recreate that group just

371
00:11:27,840 --> 00:11:28,340
because it

372
00:11:28,340 --> 00:11:30,140
makes more sense so i'll say

373
00:11:30,140 --> 00:11:34,860
test group description this is a

374
00:11:34,860 --> 00:11:36,600
test group and we'll go ahead

375
00:11:36,600 --> 00:11:37,180
and create

376
00:11:37,180 --> 00:11:38,720
that group now if we take

377
00:11:38,720 --> 00:11:39,920
a look at our nakama console

378
00:11:39,920 --> 00:11:42,000
you will see that because this

379
00:11:42,000 --> 00:11:42,680
was created

380
00:11:42,680 --> 00:11:45,460
by test that person is the

381
00:11:45,460 --> 00:11:47,220
super admin so whoever creates the

382
00:11:47,220 --> 00:11:50,340
group gets super admin status now

383
00:11:50,340 --> 00:11:50,480
in

384
00:11:50,480 --> 00:11:52,160
order to add users it's actually

385
00:11:52,160 --> 00:11:54,180
relatively easy all we need to

386
00:11:54,180 --> 00:11:56,040
do is go in to our

387
00:11:56,040 --> 00:11:58,080
project here and you

388
00:11:58,080 --> 00:12:00,780
can see right here we have

389
00:12:00,780 --> 00:12:02,020
the ability to create a group

390
00:12:02,020 --> 00:12:02,960
so we'll just go ahead and

391
00:12:02,960 --> 00:12:03,940
duplicate this

392
00:12:03,940 --> 00:12:05,820
and we will come down here

393
00:12:05,820 --> 00:12:08,460
and we'll right click disconnect we're

394
00:12:08,460 --> 00:12:09,580
going to go in here connect

395
00:12:09,580 --> 00:12:10,580
and say

396
00:12:11,200 --> 00:12:15,120
on add user we'll say add

397
00:12:15,120 --> 00:12:21,640
underscore user underscore to group like

398
00:12:21,640 --> 00:12:23,960
so button down and we'll go

399
00:12:23,960 --> 00:12:24,480
ahead and

400
00:12:24,480 --> 00:12:25,380
connect that and i'm going to

401
00:12:25,380 --> 00:12:27,800
rename this to add user to

402
00:12:27,800 --> 00:12:30,860
group so with this for us

403
00:12:30,860 --> 00:12:31,520
to be able to add

404
00:12:31,520 --> 00:12:33,400
users to group it's actually really

405
00:12:33,400 --> 00:12:35,780
easy all we need to do

406
00:12:35,780 --> 00:12:37,960
is pass in the group id

407
00:12:37,960 --> 00:12:40,040
that we want to

408
00:12:40,720 --> 00:12:46,200
add ourselves to so unfortunately we

409
00:12:46,200 --> 00:12:47,820
have to actually pull that user

410
00:12:47,820 --> 00:12:49,520
identifier so if you look at

411
00:12:49,520 --> 00:12:51,200
this you can see inside of

412
00:12:51,200 --> 00:12:52,580
our groups we have a user

413
00:12:52,580 --> 00:12:55,420
id right here this is the

414
00:12:55,420 --> 00:12:56,460
identifier that we

415
00:12:56,460 --> 00:12:57,940
need to give them to be

416
00:12:57,940 --> 00:12:59,420
able to add ourselves to that

417
00:12:59,420 --> 00:13:01,320
group so if we come in

418
00:13:01,320 --> 00:13:03,100
here and copy this we can

419
00:13:03,100 --> 00:13:05,100
come down here go back into

420
00:13:05,100 --> 00:13:07,440
godot and then basically just say

421
00:13:07,440 --> 00:13:13,720
await client dot join group async

422
00:13:13,720 --> 00:13:14,520
and then do

423
00:13:14,520 --> 00:13:16,900
session comma and then we'll just

424
00:13:16,900 --> 00:13:19,540
pass in that group identifier now

425
00:13:19,540 --> 00:13:21,080
if we come in here and

426
00:13:21,080 --> 00:13:21,740
we hit play

427
00:13:22,280 --> 00:13:24,560
you'll see in a second we'll

428
00:13:24,560 --> 00:13:26,240
go ahead and log in as

429
00:13:26,240 --> 00:13:28,940
test 2 we will type test

430
00:13:28,940 --> 00:13:29,880
i mean it doesn't really

431
00:13:29,880 --> 00:13:31,320
matter and you can see the

432
00:13:31,320 --> 00:13:32,560
text here is wrong but that's

433
00:13:32,560 --> 00:13:35,500
okay we'll click create group which

434
00:13:35,500 --> 00:13:35,760
is

435
00:13:35,760 --> 00:13:37,760
technically add group and you'll see

436
00:13:37,760 --> 00:13:39,960
that we get an authorization token

437
00:13:39,960 --> 00:13:41,840
right here we got a 404

438
00:13:41,840 --> 00:13:42,340
group

439
00:13:42,340 --> 00:13:44,800
not found so my guess is

440
00:13:44,800 --> 00:13:47,800
that i have the wrong identifier

441
00:13:47,800 --> 00:13:50,340
go to group group id i

442
00:13:50,340 --> 00:13:51,220
do so we'll go

443
00:13:51,220 --> 00:13:53,560
ahead and copy that and we'll

444
00:13:53,560 --> 00:13:55,720
go back here we'll change this

445
00:13:55,720 --> 00:13:59,740
guy like so paste control s

446
00:13:59,740 --> 00:14:00,680
and the nice

447
00:14:00,680 --> 00:14:03,060
thing about godot is that if

448
00:14:03,060 --> 00:14:05,160
you uh just change the code

449
00:14:05,160 --> 00:14:06,140
in here you can just click

450
00:14:06,140 --> 00:14:06,820
that and you

451
00:14:06,820 --> 00:14:08,600
can see that it should work

452
00:14:08,600 --> 00:14:11,060
and that's because godot is a

453
00:14:11,060 --> 00:14:13,140
non-compiled language so you can

454
00:14:13,140 --> 00:14:13,520
actually get

455
00:14:13,520 --> 00:14:15,360
away with changing it and re

456
00:14:15,360 --> 00:14:17,100
-executing the code so now if

457
00:14:17,100 --> 00:14:18,080
you look at members you can

458
00:14:18,080 --> 00:14:19,280
see test 2 is now

459
00:14:19,280 --> 00:14:20,720
a member now you might be

460
00:14:20,720 --> 00:14:23,140
wondering okay so anybody can join

461
00:14:23,140 --> 00:14:26,160
my group yes anyone can join

462
00:14:26,160 --> 00:14:27,040
your group as

463
00:14:27,040 --> 00:14:27,980
long as long as it is

464
00:14:27,980 --> 00:14:32,000
public if it's not public then

465
00:14:32,000 --> 00:14:34,760
you have to be approved so

466
00:14:34,760 --> 00:14:35,980
that's where the

467
00:14:35,980 --> 00:14:37,960
difference comes in so if i

468
00:14:37,960 --> 00:14:40,300
come in here i remove test

469
00:14:40,300 --> 00:14:42,480
2 i go to details and

470
00:14:42,480 --> 00:14:44,640
i change this to not open

471
00:14:44,640 --> 00:14:47,620
and i save it now if

472
00:14:47,620 --> 00:14:48,700
i go ahead and i hit

473
00:14:48,700 --> 00:14:51,860
create group or i guess connect

474
00:14:51,860 --> 00:14:53,040
to the group you can see

475
00:14:53,040 --> 00:14:55,520
that there is a join request

476
00:14:55,520 --> 00:14:57,120
and that means that i have

477
00:14:57,120 --> 00:14:59,340
to approve that before they can

478
00:14:59,340 --> 00:15:00,200
be a part of

479
00:15:00,200 --> 00:15:02,920
the group so the question is

480
00:15:02,920 --> 00:15:04,720
how do you actually accept that

481
00:15:04,720 --> 00:15:08,080
join request well to accept a

482
00:15:08,080 --> 00:15:08,380
join

483
00:15:08,380 --> 00:15:09,980
request what you need to do

484
00:15:09,980 --> 00:15:11,100
is you need to come in

485
00:15:11,100 --> 00:15:14,280
here and actually code out a

486
00:15:14,280 --> 00:15:16,060
small subroutine first

487
00:15:16,060 --> 00:15:17,120
thing first i'm going to come

488
00:15:17,120 --> 00:15:18,280
in here and change this to

489
00:15:18,280 --> 00:15:23,040
add join group like that and

490
00:15:23,040 --> 00:15:23,580
then i'm going

491
00:15:23,580 --> 00:15:25,300
to go ahead and duplicate this

492
00:15:25,300 --> 00:15:27,980
guy drag this guy down like

493
00:15:27,980 --> 00:15:31,060
so and i'm going to say

494
00:15:31,060 --> 00:15:32,900
add user

495
00:15:35,060 --> 00:15:38,300
to group like so and if

496
00:15:38,300 --> 00:15:39,740
i just hit enter that will

497
00:15:39,740 --> 00:15:42,080
help with formatting this button a

498
00:15:42,080 --> 00:15:42,840
little bit better

499
00:15:42,840 --> 00:15:44,840
now we'll pull this name parameter

500
00:15:44,840 --> 00:15:47,420
to allow ourselves to actually you

501
00:15:47,420 --> 00:15:48,720
know go from there

502
00:15:48,720 --> 00:15:51,500
and this should probably be called

503
00:15:51,500 --> 00:15:54,200
join group so it'll be fine

504
00:15:54,200 --> 00:15:55,540
i guess for now but it's

505
00:15:55,540 --> 00:15:55,940
just something

506
00:15:55,940 --> 00:15:57,580
i'm not a huge fan of

507
00:15:57,580 --> 00:15:59,820
but that's okay so we'll go

508
00:15:59,820 --> 00:16:01,860
ahead and click node right click

509
00:16:01,860 --> 00:16:03,320
disconnect connect

510
00:16:03,320 --> 00:16:05,080
and then we'll go ahead and

511
00:16:05,080 --> 00:16:07,980
create that little function there now

512
00:16:07,980 --> 00:16:10,500
to accept a join request you

513
00:16:10,500 --> 00:16:10,680
need

514
00:16:10,680 --> 00:16:12,520
to be able to list your

515
00:16:12,520 --> 00:16:15,000
groups or your users inside of

516
00:16:15,000 --> 00:16:16,420
that group and that's really easy

517
00:16:16,420 --> 00:16:17,120
to do we can

518
00:16:17,120 --> 00:16:20,340
basically just say var users is

519
00:16:20,340 --> 00:16:24,420
equal to await client dot list

520
00:16:24,420 --> 00:16:29,520
group users async like that we

521
00:16:29,520 --> 00:16:30,260
can pass in our

522
00:16:30,260 --> 00:16:32,160
session token and then we can

523
00:16:32,160 --> 00:16:34,200
pass in our group id now

524
00:16:34,200 --> 00:16:35,540
our group id is right here

525
00:16:35,540 --> 00:16:36,480
so we'll go ahead and

526
00:16:36,480 --> 00:16:39,360
copy that and paste it and

527
00:16:39,360 --> 00:16:40,960
then we'll hit comma and then

528
00:16:40,960 --> 00:16:42,480
we can actually have a different

529
00:16:42,480 --> 00:16:43,440
state so

530
00:16:43,440 --> 00:16:45,340
this is where that one two

531
00:16:45,340 --> 00:16:47,120
i guess zero one two and

532
00:16:47,120 --> 00:16:49,520
three is useful if you wanted

533
00:16:49,520 --> 00:16:50,620
to you could list

534
00:16:50,620 --> 00:16:52,260
everyone that is a member of

535
00:16:52,260 --> 00:16:54,080
the group everyone that's waiting to

536
00:16:54,080 --> 00:16:56,320
join the group and anybody that's

537
00:16:56,320 --> 00:16:57,900
a super user or an admin

538
00:16:57,900 --> 00:17:00,640
just by changing this from zero

539
00:17:00,640 --> 00:17:03,560
through three in our case we're

540
00:17:03,560 --> 00:17:03,920
going to be

541
00:17:03,920 --> 00:17:05,280
grabbing all the people that are

542
00:17:05,280 --> 00:17:07,960
awaiting for their joins you can

543
00:17:07,960 --> 00:17:09,460
see the state is three so

544
00:17:09,460 --> 00:17:09,800
we will

545
00:17:09,800 --> 00:17:11,880
go ahead and do that and

546
00:17:11,880 --> 00:17:13,500
then all we need to do

547
00:17:13,500 --> 00:17:14,560
is come in here and say

548
00:17:14,560 --> 00:17:20,980
for user in users dot group

549
00:17:20,980 --> 00:17:28,300
underscore users colon var you is

550
00:17:28,300 --> 00:17:32,500
equal to user dot user and

551
00:17:32,500 --> 00:17:36,620
then await client dot add group

552
00:17:36,620 --> 00:17:38,120
users async

553
00:17:38,120 --> 00:17:40,700
pass in our session right here

554
00:17:40,700 --> 00:17:43,860
comma what our group id is

555
00:17:43,860 --> 00:17:45,400
which in this case is this

556
00:17:45,400 --> 00:17:46,320
guy right here

557
00:17:46,320 --> 00:17:47,940
so we'll pass that guy in

558
00:17:47,940 --> 00:17:50,640
comma and then we'll pass in

559
00:17:50,640 --> 00:17:51,880
you and now we'll go ahead

560
00:17:51,880 --> 00:17:53,500
and add that person

561
00:17:53,500 --> 00:17:57,360
so now if i refresh and

562
00:17:57,360 --> 00:17:59,400
i go add user to group

563
00:17:59,400 --> 00:18:01,120
so if i submit i log

564
00:18:01,120 --> 00:18:04,140
in as the test user and

565
00:18:04,140 --> 00:18:04,940
i click add

566
00:18:04,940 --> 00:18:06,480
user to group you'll see that

567
00:18:06,480 --> 00:18:08,240
we got an error here unable

568
00:18:08,240 --> 00:18:12,280
to convert uh argument three to

569
00:18:12,280 --> 00:18:12,880
pack string

570
00:18:12,880 --> 00:18:15,460
array so u is not correct

571
00:18:15,460 --> 00:18:16,600
so let's take a look at

572
00:18:16,600 --> 00:18:18,640
what u is real quick i

573
00:18:18,640 --> 00:18:19,500
don't think there's really

574
00:18:19,500 --> 00:18:21,180
an easy way to handle this

575
00:18:21,180 --> 00:18:24,180
without going bracket bracket and then

576
00:18:24,180 --> 00:18:27,500
passing in dot id and then

577
00:18:27,500 --> 00:18:27,740
just

578
00:18:27,740 --> 00:18:29,500
using their id i think that

579
00:18:29,500 --> 00:18:30,840
that will work it's not the

580
00:18:30,840 --> 00:18:32,480
most ideal way to fix it

581
00:18:32,480 --> 00:18:34,380
but if i log in i

582
00:18:34,380 --> 00:18:36,700
hit add user you should see

583
00:18:36,700 --> 00:18:38,840
a nice request here and then

584
00:18:38,840 --> 00:18:40,780
we'll go ahead and refresh this

585
00:18:40,780 --> 00:18:41,780
and you can

586
00:18:41,780 --> 00:18:42,960
see that they are now a

587
00:18:42,960 --> 00:18:45,400
member and that's because when we

588
00:18:45,400 --> 00:18:47,060
built the group we made it

589
00:18:47,060 --> 00:18:48,680
a private group

590
00:18:48,680 --> 00:18:50,180
now you might be wondering is

591
00:18:50,180 --> 00:18:51,720
there a way for us to

592
00:18:51,720 --> 00:18:54,720
make a group private or public

593
00:18:54,720 --> 00:18:56,220
through code right

594
00:18:56,220 --> 00:18:57,320
so that way it doesn't have

595
00:18:57,320 --> 00:19:00,020
to happen immediately on start and

596
00:19:00,020 --> 00:19:01,080
the answer to your question is

597
00:19:01,080 --> 00:19:02,100
yes you

598
00:19:02,100 --> 00:19:04,920
can actually do that pretty easily

599
00:19:04,920 --> 00:19:07,020
all you need to do is

600
00:19:07,020 --> 00:19:08,440
come in here go in here

601
00:19:08,440 --> 00:19:10,580
let's grab this make

602
00:19:10,580 --> 00:19:12,240
it slightly bigger again the group

603
00:19:12,240 --> 00:19:13,500
section is going to be very

604
00:19:13,500 --> 00:19:15,880
large for this so we'll add

605
00:19:15,880 --> 00:19:17,200
in a check

606
00:19:17,200 --> 00:19:19,760
box here like so and we'll

607
00:19:19,760 --> 00:19:22,560
call it open like that and

608
00:19:22,560 --> 00:19:23,220
then we're going to add in

609
00:19:23,220 --> 00:19:25,780
a toggle switch so

610
00:19:25,780 --> 00:19:27,520
i'll just put this right here

611
00:19:27,520 --> 00:19:28,840
for right now we'll call it

612
00:19:28,840 --> 00:19:31,120
open that's fine and then we'll

613
00:19:31,120 --> 00:19:31,800
go ahead and

614
00:19:31,800 --> 00:19:34,980
say on button down or i

615
00:19:34,980 --> 00:19:38,240
guess on toggled we'll toggle this

616
00:19:38,240 --> 00:19:40,800
on our control node and basically

617
00:19:40,800 --> 00:19:41,240
when

618
00:19:41,240 --> 00:19:43,240
it gets toggled it'll show you

619
00:19:43,240 --> 00:19:44,600
yes or no so we'll say

620
00:19:44,600 --> 00:19:50,700
await client dot update group asynchronously

621
00:19:50,700 --> 00:19:53,000
we'll pass in our session token

622
00:19:53,000 --> 00:19:56,860
comma our group id which is

623
00:19:56,860 --> 00:19:58,960
this guy right here and we'll

624
00:19:58,960 --> 00:19:59,480
talk about

625
00:19:59,480 --> 00:20:00,720
how to get that group id

626
00:20:00,720 --> 00:20:02,840
uh through code in a second

627
00:20:02,840 --> 00:20:08,220
comma and then the name of

628
00:20:08,220 --> 00:20:08,920
the group which

629
00:20:08,920 --> 00:20:10,580
i'll pass in null because i

630
00:20:10,580 --> 00:20:12,260
don't want to change it and

631
00:20:12,260 --> 00:20:15,300
then we'll pass in toggled underscore

632
00:20:15,300 --> 00:20:16,640
on like

633
00:20:16,640 --> 00:20:18,620
that and you'll see that if

634
00:20:18,620 --> 00:20:20,340
i come in here and i

635
00:20:20,340 --> 00:20:22,620
submit and then i click open

636
00:20:22,620 --> 00:20:25,360
you'll see if we refresh

637
00:20:25,360 --> 00:20:27,580
our nakama instance here so we'll

638
00:20:27,580 --> 00:20:29,700
refresh this page you'll see it's

639
00:20:29,700 --> 00:20:31,860
not open if we close it

640
00:20:31,860 --> 00:20:32,560
it should

641
00:20:33,880 --> 00:20:37,960
hopefully do it real quick maybe

642
00:20:37,960 --> 00:20:39,820
not let's take a look let's

643
00:20:39,820 --> 00:20:41,120
do a break point here i

644
00:20:41,120 --> 00:20:41,680
could just be

645
00:20:41,680 --> 00:20:43,780
crazy so if i come in

646
00:20:43,780 --> 00:20:47,180
here toggle response code 400 specify

647
00:20:47,180 --> 00:20:49,600
at least one field to update

648
00:20:49,600 --> 00:20:52,600
okay let's see if we come

649
00:20:52,600 --> 00:20:56,980
in here comma p name p

650
00:20:56,980 --> 00:21:01,980
description variant null so null comma

651
00:21:01,980 --> 00:21:02,640
description

652
00:21:02,640 --> 00:21:08,320
null comma avatar null comma language

653
00:21:08,320 --> 00:21:11,860
tag en comma now this is

654
00:21:11,860 --> 00:21:13,400
how you update any of your

655
00:21:13,400 --> 00:21:14,300
parameters by the

656
00:21:14,300 --> 00:21:15,960
way so now we have our

657
00:21:15,960 --> 00:21:17,620
p open i think that's why

658
00:21:17,620 --> 00:21:20,580
toggled on and you can see

659
00:21:20,580 --> 00:21:22,580
here we have null null null

660
00:21:22,580 --> 00:21:22,860
so

661
00:21:22,860 --> 00:21:26,280
this is the username right the

662
00:21:26,280 --> 00:21:29,460
name of the group the description

663
00:21:29,460 --> 00:21:31,640
of the group and the whether

664
00:21:31,640 --> 00:21:32,200
or not it's

665
00:21:32,200 --> 00:21:33,680
open or not so you can

666
00:21:33,680 --> 00:21:35,660
actually really play around here and

667
00:21:35,660 --> 00:21:37,760
update any of these values so

668
00:21:37,760 --> 00:21:38,720
now if we hit

669
00:21:38,720 --> 00:21:41,320
play in theory it should just

670
00:21:41,320 --> 00:21:43,400
work so we'll come in here

671
00:21:43,400 --> 00:21:46,500
submit we do that and then

672
00:21:46,500 --> 00:21:47,120
we take a look

673
00:21:47,120 --> 00:21:49,160
at our group here we refresh

674
00:21:49,160 --> 00:21:50,880
you'll see that open is now

675
00:21:50,880 --> 00:21:53,180
on if we set it to

676
00:21:53,180 --> 00:21:55,380
off and we refresh you'll see

677
00:21:55,380 --> 00:21:57,380
that it is now closed so

678
00:21:57,380 --> 00:21:58,400
that's how you can open and

679
00:21:58,400 --> 00:21:59,400
close and that's really how you

680
00:21:59,400 --> 00:22:00,420
can update any of

681
00:22:00,420 --> 00:22:02,360
these values so if i came

682
00:22:02,360 --> 00:22:03,880
in here if i come back

683
00:22:03,880 --> 00:22:06,300
to godot here and i grab

684
00:22:06,300 --> 00:22:08,340
my description i believe

685
00:22:08,340 --> 00:22:12,260
that's name description avatar url so

686
00:22:12,260 --> 00:22:13,940
if i name this the

687
00:22:16,080 --> 00:22:18,560
strong gamers and then i change

688
00:22:18,560 --> 00:22:21,220
the description to we are the

689
00:22:21,220 --> 00:22:25,500
strong gamers exclamation point

690
00:22:26,520 --> 00:22:28,100
if i come in here and

691
00:22:28,100 --> 00:22:31,280
i hit this little toggle here

692
00:22:33,160 --> 00:22:35,620
well our session got dc'd so

693
00:22:35,620 --> 00:22:37,620
let me refresh this guy real

694
00:22:37,620 --> 00:22:37,940
quick

695
00:22:38,840 --> 00:22:41,060
let me re-log in and

696
00:22:41,060 --> 00:22:42,260
then i'll change it so now

697
00:22:42,260 --> 00:22:43,780
it's going to be open and

698
00:22:43,780 --> 00:22:45,300
the titles and everything

699
00:22:45,300 --> 00:22:47,260
has been changed strong gamers we

700
00:22:47,260 --> 00:22:48,940
are the strong gamers so that's

701
00:22:48,940 --> 00:22:50,420
how you can update those values

702
00:22:50,420 --> 00:22:50,820
now

703
00:22:50,820 --> 00:22:53,620
again typically you wouldn't use a

704
00:22:53,620 --> 00:22:55,660
toggle switch to do this i'm

705
00:22:55,660 --> 00:22:56,560
just showing you guys how to

706
00:22:56,560 --> 00:22:56,800
do that

707
00:22:56,800 --> 00:22:57,600
so i can show you the

708
00:22:57,600 --> 00:23:00,020
open and close really quickly you

709
00:23:00,020 --> 00:23:01,620
can see now it's closed so

710
00:23:01,620 --> 00:23:02,480
that's how you can

711
00:23:02,480 --> 00:23:04,640
update that group visibility that's how

712
00:23:04,640 --> 00:23:06,920
you can update the group values

713
00:23:06,920 --> 00:23:10,360
information values for your

714
00:23:10,360 --> 00:23:13,280
group now something else that's pretty

715
00:23:13,280 --> 00:23:15,380
big and pretty important to know

716
00:23:15,380 --> 00:23:18,720
is how to actually list

717
00:23:18,720 --> 00:23:23,840
groups so nakama groups are a

718
00:23:23,840 --> 00:23:25,840
resource like anything else right so

719
00:23:25,840 --> 00:23:28,620
you can actually list them and

720
00:23:28,620 --> 00:23:29,060
index

721
00:23:29,060 --> 00:23:32,480
them and pull back information using

722
00:23:32,480 --> 00:23:35,900
them so what does that mean

723
00:23:35,900 --> 00:23:37,540
well that means that you can

724
00:23:37,540 --> 00:23:38,180
use what's

725
00:23:38,180 --> 00:23:41,000
called list groups asynchronously to actually

726
00:23:41,000 --> 00:23:43,220
list out your groups so if

727
00:23:43,220 --> 00:23:44,560
i come in here i can

728
00:23:44,560 --> 00:23:45,160
show you guys

729
00:23:45,160 --> 00:23:47,300
how that works so i'm going

730
00:23:47,300 --> 00:23:48,880
to right click add in a

731
00:23:48,880 --> 00:23:52,420
panel like so i'll drag this

732
00:23:52,420 --> 00:23:54,860
guy over here like

733
00:23:54,860 --> 00:23:58,260
this and i will make an

734
00:23:58,260 --> 00:24:00,060
h box container or i guess

735
00:24:00,060 --> 00:24:02,120
it'd be a v box container

736
00:24:02,120 --> 00:24:03,980
like so and i'll make that

737
00:24:03,980 --> 00:24:05,380
full rect so that way it

738
00:24:05,380 --> 00:24:07,240
maximizes the full screen now granted

739
00:24:07,240 --> 00:24:08,780
that being said we only have

740
00:24:08,780 --> 00:24:09,320
one group

741
00:24:09,320 --> 00:24:10,820
right now so we kind of

742
00:24:10,820 --> 00:24:12,200
need to make multiple groups for

743
00:24:12,200 --> 00:24:13,620
us to be able to see

744
00:24:13,620 --> 00:24:15,280
them all but we

745
00:24:15,280 --> 00:24:16,980
can at least show how that

746
00:24:16,980 --> 00:24:18,660
works so if we come in

747
00:24:18,660 --> 00:24:20,240
here i grab this add user

748
00:24:20,240 --> 00:24:21,780
to group button i duplicate

749
00:24:21,780 --> 00:24:23,240
it bring it down here and

750
00:24:23,240 --> 00:24:27,280
i type list groups like so

751
00:24:27,280 --> 00:24:29,120
and then i'm going to grab

752
00:24:29,120 --> 00:24:30,400
this description duplicate

753
00:24:30,400 --> 00:24:33,180
it pull it down here and

754
00:24:33,180 --> 00:24:37,600
this is going to be group

755
00:24:37,600 --> 00:24:40,060
query like so i'll change this

756
00:24:40,060 --> 00:24:41,160
to list groups

757
00:24:43,140 --> 00:24:47,840
and i'll change this to group

758
00:24:47,840 --> 00:24:50,980
query now what we can do

759
00:24:50,980 --> 00:24:52,680
is hit ctrl s we can

760
00:24:52,680 --> 00:24:53,920
go into scripting

761
00:24:54,660 --> 00:24:56,480
we can grab our list group

762
00:24:56,480 --> 00:24:58,660
go to node right click disconnect

763
00:24:58,660 --> 00:25:01,620
right click connect and connect it

764
00:25:02,740 --> 00:25:04,900
now what we could do when

765
00:25:04,900 --> 00:25:06,140
we want to list our groups

766
00:25:06,140 --> 00:25:08,020
is we can set up a

767
00:25:08,020 --> 00:25:09,700
limit so we can say var

768
00:25:09,700 --> 00:25:12,280
limit is equal to let's say

769
00:25:12,280 --> 00:25:13,820
10 now we don't have 10

770
00:25:13,820 --> 00:25:15,980
groups to list but we'll use

771
00:25:15,980 --> 00:25:17,740
that as a default value

772
00:25:17,740 --> 00:25:21,940
then we'll say var result is

773
00:25:21,940 --> 00:25:26,180
equal to await client dot list

774
00:25:26,180 --> 00:25:28,720
groups async now you'll need to

775
00:25:28,720 --> 00:25:29,140
pass in

776
00:25:29,140 --> 00:25:31,120
your session just like usual and

777
00:25:31,120 --> 00:25:32,280
then you'll need to pass in

778
00:25:32,280 --> 00:25:35,120
some kind of name that you're

779
00:25:35,120 --> 00:25:35,900
trying to

780
00:25:35,900 --> 00:25:38,080
search up now this is a

781
00:25:38,080 --> 00:25:39,680
variant so of course you can

782
00:25:39,680 --> 00:25:43,720
you know get back whatever you're

783
00:25:43,720 --> 00:25:44,320
looking for

784
00:25:44,320 --> 00:25:45,280
so in my case i'm going

785
00:25:45,280 --> 00:25:48,940
to hit dollar sign group query

786
00:25:48,940 --> 00:25:51,220
dot text and that'll let me

787
00:25:51,220 --> 00:25:52,480
have that limit

788
00:25:52,480 --> 00:25:53,560
and then we'll pass in our

789
00:25:53,560 --> 00:25:54,740
limit which by the way does

790
00:25:54,740 --> 00:25:56,800
default to 10. now they have

791
00:25:56,800 --> 00:25:57,900
a cursor value

792
00:25:57,900 --> 00:26:00,920
and that cursor value allows you

793
00:26:00,920 --> 00:26:03,060
to say i want the next

794
00:26:03,060 --> 00:26:04,420
10. so think of it kind

795
00:26:04,420 --> 00:26:05,220
of like this when you

796
00:26:05,220 --> 00:26:06,840
do your query you're going to

797
00:26:06,840 --> 00:26:08,560
pull back the first 10 but

798
00:26:08,560 --> 00:26:09,940
what happens if the person doesn't

799
00:26:09,940 --> 00:26:10,220
see the

800
00:26:10,220 --> 00:26:11,380
group that they want on the

801
00:26:11,380 --> 00:26:13,320
first 10. well that's where the

802
00:26:13,320 --> 00:26:14,760
cursor value comes in so you

803
00:26:14,760 --> 00:26:15,440
can hit zero

804
00:26:15,440 --> 00:26:17,140
make that cursor value of zero

805
00:26:17,140 --> 00:26:19,420
language tag will allow you to

806
00:26:19,420 --> 00:26:21,340
pick a language in my case

807
00:26:21,340 --> 00:26:21,580
i'm going

808
00:26:21,580 --> 00:26:23,160
to do en and again you

809
00:26:23,160 --> 00:26:24,560
don't have to do that but

810
00:26:24,560 --> 00:26:26,080
it's going to filter out any

811
00:26:26,080 --> 00:26:26,840
groups that are not

812
00:26:26,840 --> 00:26:28,020
english you can see right here

813
00:26:28,020 --> 00:26:30,400
language en so that's going to

814
00:26:30,400 --> 00:26:31,700
allow you to have that limiting

815
00:26:31,700 --> 00:26:32,580
factor right

816
00:26:32,580 --> 00:26:34,040
because if they're spanish you don't

817
00:26:34,040 --> 00:26:35,660
want to necessarily show them up

818
00:26:35,660 --> 00:26:37,540
if they're looking for an english

819
00:26:37,540 --> 00:26:39,360
group if they speak english not

820
00:26:39,360 --> 00:26:40,460
spanish it's going to be a

821
00:26:40,460 --> 00:26:44,520
problem and then you can look

822
00:26:44,520 --> 00:26:45,240
up members

823
00:26:45,240 --> 00:26:47,000
which allows you to pick members

824
00:26:47,000 --> 00:26:48,880
i'm going to pass in null

825
00:26:48,880 --> 00:26:50,280
for that and then you could

826
00:26:50,280 --> 00:26:50,840
choose whether

827
00:26:50,840 --> 00:26:51,960
or not it's an open group

828
00:26:51,960 --> 00:26:53,660
or not so a lot of

829
00:26:53,660 --> 00:26:55,600
times when you're doing groups you

830
00:26:55,600 --> 00:26:56,000
might want to

831
00:26:56,000 --> 00:26:56,880
check to see if it's a

832
00:26:56,880 --> 00:26:58,600
public group not a private group

833
00:26:58,600 --> 00:27:01,000
because sometimes if you have a

834
00:27:01,000 --> 00:27:01,860
group like a

835
00:27:01,860 --> 00:27:03,180
guild and you don't want people

836
00:27:03,180 --> 00:27:04,860
to see your guild you probably

837
00:27:04,860 --> 00:27:06,800
should make sure that that is

838
00:27:06,800 --> 00:27:07,580
false

839
00:27:08,540 --> 00:27:11,460
or true depending on your use

840
00:27:11,460 --> 00:27:13,440
case so i'll make it true

841
00:27:13,440 --> 00:27:16,080
and that's pretty much everything that

842
00:27:16,080 --> 00:27:16,240
you

843
00:27:16,240 --> 00:27:18,180
need to know here now with

844
00:27:18,180 --> 00:27:20,580
this we should be relatively good

845
00:27:20,580 --> 00:27:22,020
to go so now we could

846
00:27:22,020 --> 00:27:22,480
basically

847
00:27:22,480 --> 00:27:24,060
we'll have our results we can

848
00:27:24,060 --> 00:27:28,360
say for group in result dot

849
00:27:28,360 --> 00:27:32,600
groups like that and then we

850
00:27:32,600 --> 00:27:33,340
can basically

851
00:27:33,340 --> 00:27:35,260
come in and print out our

852
00:27:35,260 --> 00:27:37,920
groups so you can see that

853
00:27:37,920 --> 00:27:42,520
we can go print group dot

854
00:27:42,520 --> 00:27:43,940
name like that

855
00:27:45,700 --> 00:27:47,660
and from here we should be

856
00:27:47,660 --> 00:27:49,900
relatively good to go so now

857
00:27:49,900 --> 00:27:53,080
we can hit play we can

858
00:27:53,080 --> 00:27:55,840
log in as test we can

859
00:27:55,840 --> 00:27:58,220
come in here and say i

860
00:27:58,220 --> 00:28:00,700
believe our group name is strong

861
00:28:00,700 --> 00:28:02,820
gamers so we can say strong

862
00:28:02,820 --> 00:28:04,680
and list groups

863
00:28:04,680 --> 00:28:07,040
and it should come back well

864
00:28:07,040 --> 00:28:09,460
it's not happy so that's not

865
00:28:09,460 --> 00:28:11,240
a good thing our p cursor

866
00:28:11,240 --> 00:28:12,520
query parameters

867
00:28:13,320 --> 00:28:17,280
strong that's fine nakama serialize escape

868
00:28:19,500 --> 00:28:22,740
and not convert argument one from

869
00:28:22,740 --> 00:28:23,920
int to string

870
00:28:29,240 --> 00:28:32,020
i wonder if it's mad because

871
00:28:32,020 --> 00:28:36,300
our cursor is an int i

872
00:28:36,300 --> 00:28:38,160
think there's an issue here with

873
00:28:38,160 --> 00:28:38,940
how they have

874
00:28:38,940 --> 00:28:40,840
their stuff set up so what

875
00:28:40,840 --> 00:28:43,420
if we come back here and

876
00:28:43,420 --> 00:28:45,860
we do null instead so if

877
00:28:45,860 --> 00:28:46,460
we come in here

878
00:28:47,100 --> 00:28:48,940
null just to see if that

879
00:28:48,940 --> 00:28:51,340
fixes the problem so we'll come

880
00:28:51,340 --> 00:28:52,480
in here we'll type strong

881
00:28:53,960 --> 00:28:56,300
and it's still mad oh that's

882
00:28:56,300 --> 00:28:57,820
because i didn't log in so

883
00:28:57,820 --> 00:29:00,800
that's fair that's understandable so we'll

884
00:29:00,800 --> 00:29:01,280
log

885
00:29:01,280 --> 00:29:05,020
in we will say strong list

886
00:29:05,020 --> 00:29:06,540
groups and you can see that

887
00:29:06,540 --> 00:29:08,440
we get a 400 the error

888
00:29:08,440 --> 00:29:09,420
name filter cannot be

889
00:29:09,420 --> 00:29:11,280
combined with any other filter so

890
00:29:11,280 --> 00:29:13,960
it looks like according to nakama's

891
00:29:13,960 --> 00:29:15,880
documentation you can combine

892
00:29:15,880 --> 00:29:17,440
them but i guess you can't

893
00:29:17,440 --> 00:29:20,140
inside of here so let's try

894
00:29:20,140 --> 00:29:22,060
that and see if that fixes

895
00:29:22,060 --> 00:29:23,600
it because according

896
00:29:23,600 --> 00:29:25,100
to our documentation you can do

897
00:29:25,100 --> 00:29:27,160
this but i guess we can't

898
00:29:27,160 --> 00:29:29,480
so let's try that

899
00:29:32,800 --> 00:29:35,240
so we'll hit list groups and

900
00:29:35,240 --> 00:29:36,760
you will see that we get

901
00:29:36,760 --> 00:29:39,920
an authorization bearing right here i

902
00:29:39,920 --> 00:29:40,380
don't know

903
00:29:40,380 --> 00:29:42,540
if that came back with really

904
00:29:42,540 --> 00:29:44,360
anything so let me see what

905
00:29:44,360 --> 00:29:45,960
happens if i list groups let's

906
00:29:45,960 --> 00:29:46,160
see what

907
00:29:46,160 --> 00:29:47,700
our result comes back with after

908
00:29:47,700 --> 00:29:49,900
i drop a breakpoint here and

909
00:29:49,900 --> 00:29:50,920
it did it came back with

910
00:29:50,920 --> 00:29:53,260
nothing so nakama

911
00:29:53,260 --> 00:29:55,100
is not doing what i want

912
00:29:55,100 --> 00:29:56,960
it to do because of course

913
00:29:56,960 --> 00:29:59,640
it's not welcome to programming let's

914
00:29:59,640 --> 00:30:00,160
see what happens

915
00:30:00,160 --> 00:30:01,940
if i do capital s it's

916
00:30:01,940 --> 00:30:02,820
probably capital

917
00:30:07,160 --> 00:30:09,680
case sensitive so we'll come in

918
00:30:09,680 --> 00:30:11,700
here and we'll take a look

919
00:30:11,700 --> 00:30:14,580
at our results still got nothing

920
00:30:14,580 --> 00:30:15,000
back

921
00:30:15,000 --> 00:30:18,040
so we'll continue through what happens

922
00:30:18,040 --> 00:30:21,280
if i do a percent sign

923
00:30:21,280 --> 00:30:22,560
and see if that gives us

924
00:30:22,560 --> 00:30:23,440
something back

925
00:30:23,440 --> 00:30:26,920
now because it might be that

926
00:30:26,920 --> 00:30:28,280
it needs to be a query

927
00:30:28,280 --> 00:30:29,920
of some description so we can

928
00:30:29,920 --> 00:30:31,240
check that out real

929
00:30:31,240 --> 00:30:33,840
quick yep it needs to be

930
00:30:33,840 --> 00:30:34,900
a query so you can see

931
00:30:34,900 --> 00:30:36,060
it pulled back the one that

932
00:30:36,060 --> 00:30:37,100
we're looking for so it

933
00:30:37,100 --> 00:30:38,780
pulled back our group so when

934
00:30:38,780 --> 00:30:40,520
you do a text just be

935
00:30:40,520 --> 00:30:41,680
aware of that you're going to

936
00:30:41,680 --> 00:30:42,420
need to make it into

937
00:30:42,420 --> 00:30:45,120
an actual query instead so you

938
00:30:45,120 --> 00:30:46,680
need to add that percent sign

939
00:30:46,680 --> 00:30:48,380
at the end so that's just

940
00:30:48,380 --> 00:30:48,760
something to

941
00:30:48,760 --> 00:30:51,600
keep in mind now you'll see

942
00:30:51,600 --> 00:30:53,440
when i hit play it's going

943
00:30:53,440 --> 00:30:56,260
to print out strong gamers right

944
00:30:56,260 --> 00:30:57,400
there so

945
00:30:57,400 --> 00:30:59,840
that's basically how you can list

946
00:30:59,840 --> 00:31:02,480
and filter your groups so that

947
00:31:02,480 --> 00:31:04,620
allows us to see those groups

948
00:31:06,240 --> 00:31:08,800
and hunt down their identifier because

949
00:31:08,800 --> 00:31:10,480
if you look you can see

950
00:31:10,480 --> 00:31:11,760
when i list the groups

951
00:31:12,460 --> 00:31:14,100
you can see when i come

952
00:31:14,100 --> 00:31:15,620
in here and i take a

953
00:31:15,620 --> 00:31:19,260
look at my results here the

954
00:31:19,260 --> 00:31:20,880
group i come back with has

955
00:31:20,880 --> 00:31:23,480
their identifier right here so if

956
00:31:23,480 --> 00:31:27,440
you know where their um if

957
00:31:27,440 --> 00:31:28,620
you know their name you can

958
00:31:28,620 --> 00:31:29,160
pull back

959
00:31:29,160 --> 00:31:31,080
their id so that's how we

960
00:31:31,080 --> 00:31:33,560
would populate all these other values

961
00:31:33,560 --> 00:31:36,740
right here is by listing it

962
00:31:36,740 --> 00:31:37,160
and then

963
00:31:37,160 --> 00:31:41,680
pulling back that group information now

964
00:31:41,680 --> 00:31:43,360
since we can pull this information

965
00:31:43,360 --> 00:31:44,700
that means that we can

966
00:31:44,700 --> 00:31:46,660
actually come in here and use

967
00:31:46,660 --> 00:31:49,640
that info on our panels and

968
00:31:49,640 --> 00:31:51,680
things like that so what we

969
00:31:51,680 --> 00:31:53,880
could do is we

970
00:31:53,880 --> 00:31:56,220
could come in here and list

971
00:31:56,220 --> 00:32:01,140
out their information and populate it

972
00:32:01,140 --> 00:32:04,860
in a vbox container so we

973
00:32:04,860 --> 00:32:05,440
could do

974
00:32:05,440 --> 00:32:10,680
is we could go var vbox

975
00:32:10,680 --> 00:32:14,600
is equal to vbox container dot

976
00:32:14,600 --> 00:32:18,360
new like that and then if

977
00:32:18,360 --> 00:32:19,560
i need if i do this

978
00:32:19,560 --> 00:32:22,200
correctly equals vbox container dot new

979
00:32:22,200 --> 00:32:25,020
and then we could come in

980
00:32:25,020 --> 00:32:27,200
here and do the same thing

981
00:32:27,200 --> 00:32:27,680
but for

982
00:32:27,680 --> 00:32:29,420
labels so we can say label

983
00:32:29,420 --> 00:32:33,660
so var name label is equal

984
00:32:33,660 --> 00:32:38,280
to a label dot new like

985
00:32:38,280 --> 00:32:41,140
that and then name label dot

986
00:32:41,140 --> 00:32:41,840
text

987
00:32:41,840 --> 00:32:43,800
is equal to if we take

988
00:32:43,800 --> 00:32:45,640
a look at this right here

989
00:32:45,640 --> 00:32:49,440
we can go name so it

990
00:32:49,440 --> 00:32:52,240
would be group dot

991
00:32:54,460 --> 00:32:56,260
dot let's take a look at

992
00:32:56,260 --> 00:32:56,820
this

993
00:32:59,840 --> 00:33:02,700
what is result dot groups let's

994
00:33:02,700 --> 00:33:07,160
see results dot groups so it's

995
00:33:07,160 --> 00:33:08,180
going to come back with this

996
00:33:08,180 --> 00:33:08,460
so

997
00:33:08,460 --> 00:33:09,920
then it would be dot name

998
00:33:09,920 --> 00:33:12,340
like that and then we could

999
00:33:12,340 --> 00:33:13,580
say vbox

1000
00:33:16,740 --> 00:33:18,800
dot add child and then we

1001
00:33:18,800 --> 00:33:21,560
could add our name label as

1002
00:33:21,560 --> 00:33:23,340
a part of that child and

1003
00:33:23,340 --> 00:33:24,880
then we can come in here

1004
00:33:24,880 --> 00:33:30,520
and say dollar sign vbox and

1005
00:33:30,520 --> 00:33:31,980
we can find out which panel

1006
00:33:31,980 --> 00:33:33,400
is ours which arguably we should

1007
00:33:33,400 --> 00:33:33,880
come up with a

1008
00:33:33,880 --> 00:33:35,520
better naming convention here but that's

1009
00:33:35,520 --> 00:33:39,980
fine dot add child and we

1010
00:33:39,980 --> 00:33:42,540
could add in our vbox right

1011
00:33:42,540 --> 00:33:42,940
here

1012
00:33:42,940 --> 00:33:45,460
like that and that would allow

1013
00:33:45,460 --> 00:33:47,780
us to effectively add it as

1014
00:33:47,780 --> 00:33:49,600
a child for our project and

1015
00:33:49,600 --> 00:33:50,220
then if we

1016
00:33:50,220 --> 00:33:53,100
refresh this in theory providing that

1017
00:33:53,100 --> 00:33:53,920
this is going to work and

1018
00:33:53,920 --> 00:33:54,620
i don't know if it's going

1019
00:33:54,620 --> 00:33:55,040
to work this

1020
00:33:55,040 --> 00:33:56,360
is kind of me coding this

1021
00:33:56,360 --> 00:33:57,240
a little bit off the cuff

1022
00:33:57,240 --> 00:33:58,980
we can hit list groups and

1023
00:33:58,980 --> 00:33:59,960
you can see that we now

1024
00:33:59,960 --> 00:34:00,340
have

1025
00:34:00,340 --> 00:34:03,180
strong gamers there so that's something

1026
00:34:03,180 --> 00:34:05,120
that we can actually do and

1027
00:34:05,120 --> 00:34:06,920
pull back their information

1028
00:34:06,920 --> 00:34:08,720
so that could be really useful

1029
00:34:08,720 --> 00:34:11,780
for us to set up for

1030
00:34:11,780 --> 00:34:13,620
like a selection system or something

1031
00:34:13,620 --> 00:34:14,060
like that

1032
00:34:14,580 --> 00:34:16,760
and speaking of that what we

1033
00:34:16,760 --> 00:34:17,820
could do is we could come

1034
00:34:17,820 --> 00:34:20,420
in here and say var hbox

1035
00:34:20,420 --> 00:34:23,200
is equal to hbox

1036
00:34:23,200 --> 00:34:26,760
container dot new like so and

1037
00:34:26,760 --> 00:34:30,460
then we can do hbox dot

1038
00:34:30,460 --> 00:34:32,700
let's see if we bring this

1039
00:34:32,700 --> 00:34:33,660
down here instead of

1040
00:34:33,660 --> 00:34:35,800
doing vbox dot add we can

1041
00:34:35,800 --> 00:34:37,500
do hbox and then we could

1042
00:34:37,500 --> 00:34:40,700
add our vbox

1043
00:34:43,280 --> 00:34:46,140
dot add child h box like

1044
00:34:46,140 --> 00:34:49,280
so and then what that means

1045
00:34:49,280 --> 00:34:50,180
is that we could add in

1046
00:34:50,180 --> 00:34:50,580
a button

1047
00:34:51,060 --> 00:34:52,180
and i know this is kind

1048
00:34:52,180 --> 00:34:53,860
of weird because i'm actually coding

1049
00:34:53,860 --> 00:34:55,400
a component instead of doing

1050
00:34:55,400 --> 00:34:56,820
it the other way but one

1051
00:34:56,820 --> 00:34:57,880
of the big things that people

1052
00:34:57,880 --> 00:34:58,760
have asked me is if you

1053
00:34:58,760 --> 00:34:59,280
could actually do

1054
00:34:59,280 --> 00:35:00,780
it this way and i want

1055
00:35:00,780 --> 00:35:01,780
to cover that and show you

1056
00:35:01,780 --> 00:35:03,940
guys yeah you can actually build

1057
00:35:03,940 --> 00:35:05,500
interface elements

1058
00:35:05,500 --> 00:35:07,560
inside of code and then actually

1059
00:35:07,560 --> 00:35:10,220
have it exist so that's kind

1060
00:35:10,220 --> 00:35:11,980
of what i'm showing here so

1061
00:35:11,980 --> 00:35:12,740
if we come

1062
00:35:12,740 --> 00:35:16,460
in here and say h var

1063
00:35:16,460 --> 00:35:21,280
button is equal to button dot

1064
00:35:21,280 --> 00:35:24,220
new like so then we can

1065
00:35:24,220 --> 00:35:26,300
come in here and do button

1066
00:35:26,300 --> 00:35:32,080
dot text is equal to select

1067
00:35:32,080 --> 00:35:33,900
group like that and then we

1068
00:35:33,900 --> 00:35:34,800
can come in here and say

1069
00:35:34,800 --> 00:35:37,660
h box dot add child

1070
00:35:39,020 --> 00:35:41,440
button like that and then we

1071
00:35:41,440 --> 00:35:42,760
can add that h box and

1072
00:35:42,760 --> 00:35:45,040
that should allow us to have

1073
00:35:45,040 --> 00:35:46,080
all of that information

1074
00:35:46,080 --> 00:35:47,400
that we were looking for before

1075
00:35:47,400 --> 00:35:49,520
right here so if we hit

1076
00:35:49,520 --> 00:35:51,600
submit list groups you can see

1077
00:35:51,600 --> 00:35:52,180
we have

1078
00:35:52,180 --> 00:35:54,400
a button right here so now

1079
00:35:54,400 --> 00:35:59,340
we can basically connect its on

1080
00:35:59,340 --> 00:36:01,700
button click right here so you

1081
00:36:01,700 --> 00:36:03,520
can say button dot

1082
00:36:06,380 --> 00:36:12,100
button down like that dot dot

1083
00:36:12,100 --> 00:36:13,760
connect and then we could just

1084
00:36:13,760 --> 00:36:15,800
say and here we could call

1085
00:36:15,800 --> 00:36:16,560
out a function

1086
00:36:16,560 --> 00:36:17,380
so if i come in here

1087
00:36:17,380 --> 00:36:22,260
and say funk on group select

1088
00:36:22,260 --> 00:36:23,840
button down and i can pass

1089
00:36:23,840 --> 00:36:24,620
in the group

1090
00:36:25,300 --> 00:36:27,480
like that and i could come

1091
00:36:27,480 --> 00:36:30,940
in here and do dot connect

1092
00:36:30,940 --> 00:36:32,500
and we could do what's called

1093
00:36:32,500 --> 00:36:34,180
binding and

1094
00:36:34,180 --> 00:36:36,140
binding is actually really cool so

1095
00:36:36,140 --> 00:36:37,820
we can say on group select

1096
00:36:37,820 --> 00:36:42,700
button like that dot bind and

1097
00:36:42,700 --> 00:36:43,140
then i can

1098
00:36:43,140 --> 00:36:45,560
bind to parameters so i can

1099
00:36:45,560 --> 00:36:47,340
actually come in here and bind

1100
00:36:47,340 --> 00:36:49,780
group and now if we come

1101
00:36:49,780 --> 00:36:50,260
in here and we

1102
00:36:50,260 --> 00:36:53,700
print out that group you'll see

1103
00:36:53,700 --> 00:36:55,580
providing that we did this correctly

1104
00:36:55,580 --> 00:36:56,680
and i know that this is

1105
00:36:56,680 --> 00:36:58,580
like way beyond what the actual

1106
00:36:58,580 --> 00:37:00,260
tutorial is but i think that

1107
00:37:00,260 --> 00:37:01,500
this is pretty cool so i

1108
00:37:01,500 --> 00:37:02,000
figured i would

1109
00:37:02,000 --> 00:37:03,580
show it off if we do

1110
00:37:03,580 --> 00:37:04,880
this we can come in here

1111
00:37:04,880 --> 00:37:06,260
and list our groups and then

1112
00:37:06,260 --> 00:37:07,920
select a group and you'll see

1113
00:37:07,920 --> 00:37:11,220
that it passes in that information

1114
00:37:11,220 --> 00:37:13,820
right there it binds the parameters

1115
00:37:13,820 --> 00:37:15,500
so you could actually come in

1116
00:37:15,500 --> 00:37:20,140
here and set a selected group

1117
00:37:20,140 --> 00:37:22,860
parameter right here and there you

1118
00:37:22,860 --> 00:37:24,800
go it would actually work so

1119
00:37:24,800 --> 00:37:25,080
what we

1120
00:37:25,080 --> 00:37:26,520
could do is we could come

1121
00:37:26,520 --> 00:37:28,820
in here and say all the

1122
00:37:28,820 --> 00:37:30,900
way up here set our

1123
00:37:34,940 --> 00:37:36,940
var var selected group and then

1124
00:37:36,940 --> 00:37:38,460
we could come down here and

1125
00:37:38,460 --> 00:37:42,380
just say selected group is equal

1126
00:37:42,380 --> 00:37:42,940
to group

1127
00:37:42,940 --> 00:37:44,620
like that and then we could

1128
00:37:44,620 --> 00:37:47,680
come in here and do i

1129
00:37:47,680 --> 00:37:51,540
believe it's group dot id so

1130
00:37:51,540 --> 00:37:52,780
you could come in here

1131
00:37:52,780 --> 00:37:58,600
and go selected group dot id

1132
00:37:58,600 --> 00:38:02,040
like that copy this bad boy

1133
00:38:02,040 --> 00:38:05,820
go like this paste and paste

1134
00:38:05,820 --> 00:38:07,940
and paste and

1135
00:38:07,940 --> 00:38:09,340
then you would be able to

1136
00:38:09,340 --> 00:38:12,400
effectively update the values in there

1137
00:38:12,400 --> 00:38:14,780
without needing to actually have

1138
00:38:14,780 --> 00:38:15,820
that data so if i come

1139
00:38:15,820 --> 00:38:17,140
in here i list my groups

1140
00:38:17,140 --> 00:38:18,400
well first i need to actually

1141
00:38:18,400 --> 00:38:19,940
hook up my session really

1142
00:38:19,940 --> 00:38:22,420
quick so if i submit that

1143
00:38:22,420 --> 00:38:24,760
there we go i list my

1144
00:38:24,760 --> 00:38:26,500
groups i select it now i

1145
00:38:26,500 --> 00:38:27,900
have that selected i can

1146
00:38:27,900 --> 00:38:30,360
come in here and do a

1147
00:38:30,360 --> 00:38:32,620
open and you will see that

1148
00:38:32,620 --> 00:38:33,760
if i come in here and

1149
00:38:33,760 --> 00:38:35,760
i refresh this you'll see that

1150
00:38:35,760 --> 00:38:37,240
that worked and that's because we

1151
00:38:37,240 --> 00:38:41,040
bound that parameter right here well

1152
00:38:41,040 --> 00:38:42,460
if i could find it right

1153
00:38:42,460 --> 00:38:43,040
here

1154
00:38:43,590 --> 00:38:46,240
to actually work so that's a

1155
00:38:46,240 --> 00:38:47,420
way that we can go about

1156
00:38:47,420 --> 00:38:50,080
making a group selection system relatively

1157
00:38:50,080 --> 00:38:52,140
simple and that's how we can

1158
00:38:52,140 --> 00:38:54,640
actually list our groups as well

1159
00:38:54,640 --> 00:38:55,740
so i know that that's kind

1160
00:38:55,740 --> 00:38:56,100
of a

1161
00:38:56,100 --> 00:38:59,140
complicated way to show it but

1162
00:38:59,140 --> 00:39:00,460
i figured that it was an

1163
00:39:00,460 --> 00:39:03,080
interesting way to approach it and

1164
00:39:03,080 --> 00:39:03,480
i figured you

1165
00:39:03,480 --> 00:39:06,240
guys would appreciate that so now

1166
00:39:06,240 --> 00:39:08,080
the question is what if we

1167
00:39:08,080 --> 00:39:10,380
want to promote a user or

1168
00:39:10,380 --> 00:39:11,160
maybe demote a

1169
00:39:11,160 --> 00:39:12,680
user or kick or ban a

1170
00:39:12,680 --> 00:39:14,720
user from our group well in

1171
00:39:14,720 --> 00:39:16,520
order to do that first we

1172
00:39:16,520 --> 00:39:17,700
need to actually get

1173
00:39:17,700 --> 00:39:20,640
the user id of that person

1174
00:39:20,640 --> 00:39:21,460
so you can see here this

1175
00:39:21,460 --> 00:39:22,620
person is a member and we

1176
00:39:22,620 --> 00:39:23,940
want to get that user id

1177
00:39:23,940 --> 00:39:25,720
back so if we come back

1178
00:39:25,720 --> 00:39:28,500
to godot here and we go

1179
00:39:28,500 --> 00:39:31,820
ahead and come down here we

1180
00:39:31,820 --> 00:39:34,540
need to basically get a

1181
00:39:34,540 --> 00:39:36,480
user name go and fetch their

1182
00:39:36,480 --> 00:39:39,580
id and then basically promote or

1183
00:39:39,580 --> 00:39:41,080
demote that person so what i'm

1184
00:39:41,080 --> 00:39:41,320
going to

1185
00:39:41,320 --> 00:39:42,200
do is i'm going to right

1186
00:39:42,200 --> 00:39:43,260
click my panel i'm going to

1187
00:39:43,260 --> 00:39:45,480
add in a line edit like

1188
00:39:45,480 --> 00:39:47,220
so i'm going to drag this

1189
00:39:47,220 --> 00:39:48,960
guy down here we'll go like

1190
00:39:48,960 --> 00:39:50,420
this make it about i don't

1191
00:39:50,420 --> 00:39:51,860
know about that big we'll come

1192
00:39:51,860 --> 00:39:52,480
in here we'll

1193
00:39:52,480 --> 00:39:57,620
say user user to manage we'll

1194
00:39:57,620 --> 00:40:00,600
say and then we'll come in

1195
00:40:00,600 --> 00:40:01,980
here and hopefully we won't run

1196
00:40:01,980 --> 00:40:02,640
out of space

1197
00:40:02,640 --> 00:40:04,000
if we do we'll figure something

1198
00:40:04,000 --> 00:40:05,980
out but let's right click add

1199
00:40:05,980 --> 00:40:07,140
in a child node let's add

1200
00:40:07,140 --> 00:40:08,680
in a button we'll

1201
00:40:08,680 --> 00:40:10,680
add in a button for promoting

1202
00:40:10,680 --> 00:40:15,280
right here like so and if

1203
00:40:15,280 --> 00:40:18,560
i think about it for a

1204
00:40:18,560 --> 00:40:19,660
second with groups

1205
00:40:19,660 --> 00:40:22,340
we need to promote demote kick

1206
00:40:22,340 --> 00:40:24,880
and ban somebody and then also

1207
00:40:24,880 --> 00:40:26,920
leave that group so we'll need

1208
00:40:26,920 --> 00:40:27,100
to

1209
00:40:27,100 --> 00:40:28,280
figure out a way to give

1210
00:40:28,280 --> 00:40:29,980
ourselves a little bit more space

1211
00:40:29,980 --> 00:40:31,820
here because i'm running out so

1212
00:40:31,820 --> 00:40:32,140
maybe i

1213
00:40:32,140 --> 00:40:33,500
can drag this guy up butt

1214
00:40:33,500 --> 00:40:34,620
it up a little bit closer

1215
00:40:34,620 --> 00:40:36,260
drag this guy down give ourselves

1216
00:40:36,260 --> 00:40:37,080
a little bit more

1217
00:40:37,080 --> 00:40:41,440
space but we can promote duplicate

1218
00:40:41,440 --> 00:40:42,520
kick

1219
00:40:49,900 --> 00:40:50,420
demote

1220
00:40:52,620 --> 00:40:54,220
and then i believe we would

1221
00:40:54,220 --> 00:40:55,900
need to ban somebody

1222
00:40:58,000 --> 00:41:00,140
and then finally the last interaction

1223
00:41:00,140 --> 00:41:01,640
that we need to do is

1224
00:41:01,640 --> 00:41:04,280
to actually come in here and

1225
00:41:05,000 --> 00:41:06,760
leave so we could just come

1226
00:41:06,760 --> 00:41:08,640
over ah goodness we're running out

1227
00:41:08,640 --> 00:41:09,520
of space here we have so

1228
00:41:09,520 --> 00:41:09,820
much

1229
00:41:09,820 --> 00:41:12,580
functionality here it's actually hard to

1230
00:41:12,580 --> 00:41:14,760
make the space so we'll drag

1231
00:41:14,760 --> 00:41:16,080
this guy down a tiny

1232
00:41:16,080 --> 00:41:17,700
bit maybe give ourselves a bit

1233
00:41:17,700 --> 00:41:19,920
more space over here drag this

1234
00:41:19,920 --> 00:41:23,360
guy over like so there we

1235
00:41:23,360 --> 00:41:23,600
go

1236
00:41:24,160 --> 00:41:26,780
and we can change this one

1237
00:41:26,780 --> 00:41:31,160
to leave group like that now

1238
00:41:31,160 --> 00:41:32,840
when we want to promote a

1239
00:41:32,840 --> 00:41:33,840
user let's

1240
00:41:33,840 --> 00:41:35,280
change the name of this to

1241
00:41:35,280 --> 00:41:41,700
promote user kick user demote user

1242
00:41:41,700 --> 00:41:45,800
and ban user like that and

1243
00:41:45,800 --> 00:41:46,940
then leave

1244
00:41:47,520 --> 00:41:48,740
free so i'm going to go

1245
00:41:48,740 --> 00:41:50,560
ahead and grab promote user and

1246
00:41:50,560 --> 00:41:51,940
i'm going to change my line

1247
00:41:51,940 --> 00:41:53,300
edit to user to

1248
00:41:53,300 --> 00:41:55,360
manage and then i'll click on

1249
00:41:55,360 --> 00:41:56,640
promote user we're going to go

1250
00:41:56,640 --> 00:41:58,500
ahead and connect that to our

1251
00:41:58,500 --> 00:41:59,480
nakama

1252
00:41:59,480 --> 00:42:02,100
controller here we'll come down here

1253
00:42:02,100 --> 00:42:05,200
and we'll basically go ahead and

1254
00:42:05,200 --> 00:42:06,760
promote a user so first

1255
00:42:06,760 --> 00:42:07,920
things first we need to actually

1256
00:42:07,920 --> 00:42:11,160
get our user account now unfortunately

1257
00:42:11,160 --> 00:42:12,680
you need to actually

1258
00:42:12,680 --> 00:42:14,460
go and fetch that user account

1259
00:42:14,460 --> 00:42:16,840
so first we'll say var user

1260
00:42:16,840 --> 00:42:22,220
is is type nakama api dot

1261
00:42:22,220 --> 00:42:23,660
api

1262
00:42:27,000 --> 00:42:31,020
users is equal to await client

1263
00:42:31,020 --> 00:42:34,480
dot get users async and then

1264
00:42:34,480 --> 00:42:35,420
we can come in here and

1265
00:42:35,420 --> 00:42:37,360
go session so we

1266
00:42:37,360 --> 00:42:39,500
could pass in that session and

1267
00:42:39,500 --> 00:42:40,520
then we need to pass in

1268
00:42:40,520 --> 00:42:42,880
ids so when you do this

1269
00:42:42,880 --> 00:42:44,860
you can pass in ids or

1270
00:42:44,860 --> 00:42:46,320
usernames in our case we're going

1271
00:42:46,320 --> 00:42:48,060
to pass in a username but

1272
00:42:48,060 --> 00:42:50,980
you can pass in their actual

1273
00:42:50,980 --> 00:42:53,400
um id as well so i'm

1274
00:42:53,400 --> 00:42:54,360
just going to pass in a

1275
00:42:54,360 --> 00:42:56,300
blank and then for the username

1276
00:42:56,300 --> 00:42:57,700
i'll just pass in a single

1277
00:42:57,700 --> 00:42:59,080
parameter and that's going to be

1278
00:42:59,080 --> 00:43:02,980
dollar sign user to manage dot

1279
00:43:02,980 --> 00:43:05,460
text comma and you'll see that

1280
00:43:05,460 --> 00:43:05,580
they

1281
00:43:05,580 --> 00:43:07,700
also have a facebook id in

1282
00:43:07,700 --> 00:43:08,900
this case we'll pass in null

1283
00:43:08,900 --> 00:43:10,600
we don't really have a facebook

1284
00:43:10,600 --> 00:43:12,000
id to manage

1285
00:43:12,000 --> 00:43:14,160
a user but they do separate

1286
00:43:14,160 --> 00:43:15,100
that out and i'm not really

1287
00:43:15,100 --> 00:43:16,440
sure why they do that but

1288
00:43:16,440 --> 00:43:17,380
that's a thing so

1289
00:43:17,380 --> 00:43:18,440
it's just something to keep in

1290
00:43:18,440 --> 00:43:20,560
mind now what we can do

1291
00:43:20,560 --> 00:43:23,680
is say for you in users

1292
00:43:23,680 --> 00:43:27,060
dot users and that's a

1293
00:43:27,060 --> 00:43:29,100
really bad way so we'll say

1294
00:43:29,100 --> 00:43:32,620
result and then we'll just do

1295
00:43:32,620 --> 00:43:34,120
result dot users that's going to

1296
00:43:34,120 --> 00:43:34,480
be a little

1297
00:43:34,480 --> 00:43:36,300
bit better than what we're doing

1298
00:43:36,300 --> 00:43:38,720
right now now once we do

1299
00:43:38,720 --> 00:43:40,660
this we have the actual user

1300
00:43:40,660 --> 00:43:41,440
information

1301
00:43:41,440 --> 00:43:43,200
so that's how you pull back

1302
00:43:43,200 --> 00:43:44,900
that user's information so you can

1303
00:43:44,900 --> 00:43:46,680
actually just do you dot id

1304
00:43:46,680 --> 00:43:47,540
and that will

1305
00:43:47,540 --> 00:43:50,240
be their identification right that'll be

1306
00:43:50,240 --> 00:43:52,220
their actual information so what we

1307
00:43:52,220 --> 00:43:54,700
can do is we can come

1308
00:43:54,700 --> 00:43:57,900
in here and promote that user

1309
00:43:57,900 --> 00:43:58,820
so we'll come in here and

1310
00:43:58,820 --> 00:44:03,300
say await client dot promote user

1311
00:44:03,300 --> 00:44:04,580
and group async

1312
00:44:04,580 --> 00:44:06,240
you can pass in our session

1313
00:44:06,240 --> 00:44:08,180
token and then we can pass

1314
00:44:08,180 --> 00:44:10,660
in our group id so in

1315
00:44:10,660 --> 00:44:11,280
our case that's going

1316
00:44:11,280 --> 00:44:12,480
to be our selected group dot

1317
00:44:12,480 --> 00:44:14,780
id comma and i believe it's

1318
00:44:14,780 --> 00:44:16,400
selected group dot id let me

1319
00:44:16,400 --> 00:44:17,700
double check really

1320
00:44:17,700 --> 00:44:20,320
quick because sometimes i forget things

1321
00:44:20,320 --> 00:44:22,300
it is and then we have

1322
00:44:22,300 --> 00:44:23,840
to pass in a user identifier

1323
00:44:23,840 --> 00:44:24,540
so that's

1324
00:44:24,540 --> 00:44:26,060
going to be u dot id

1325
00:44:26,060 --> 00:44:30,140
like that and now if we

1326
00:44:30,140 --> 00:44:31,820
go ahead and hit play you'll

1327
00:44:31,820 --> 00:44:33,160
see in a second that if

1328
00:44:33,160 --> 00:44:33,420
i

1329
00:44:34,380 --> 00:44:36,700
connect to this and then i

1330
00:44:36,700 --> 00:44:38,860
list my groups i select my

1331
00:44:38,860 --> 00:44:40,860
group and then i type in

1332
00:44:40,860 --> 00:44:43,060
test two and i click

1333
00:44:43,060 --> 00:44:45,420
promote well we have an error

1334
00:44:45,420 --> 00:44:49,860
so the error is cannot convert

1335
00:44:49,860 --> 00:44:51,820
argument three from string to a

1336
00:44:51,820 --> 00:44:52,440
packed array

1337
00:44:52,440 --> 00:44:54,500
and that's because this can be

1338
00:44:54,500 --> 00:44:56,360
a group of users it's not

1339
00:44:56,360 --> 00:44:58,400
actually just one group it's actually

1340
00:44:58,400 --> 00:45:00,620
multiple people so we can go

1341
00:45:00,620 --> 00:45:02,040
ahead and do that and then

1342
00:45:02,040 --> 00:45:03,640
try it again so it's because

1343
00:45:03,640 --> 00:45:04,380
we need we can

1344
00:45:04,380 --> 00:45:06,920
actually have multiples of somebody so

1345
00:45:06,920 --> 00:45:08,420
we'll go like that we'll submit

1346
00:45:08,420 --> 00:45:10,480
we'll list our groups select

1347
00:45:10,480 --> 00:45:13,700
group test two we'll promote that

1348
00:45:13,700 --> 00:45:15,120
person you'll see that that looks

1349
00:45:15,120 --> 00:45:16,320
like that was successful we'll

1350
00:45:16,320 --> 00:45:17,460
head back to our nakama console

1351
00:45:17,460 --> 00:45:19,140
we'll refresh and you will see

1352
00:45:19,140 --> 00:45:20,500
that this person is now an

1353
00:45:20,500 --> 00:45:21,020
admin

1354
00:45:22,060 --> 00:45:23,720
so that's huge because it's going

1355
00:45:23,720 --> 00:45:25,300
to allow us to be able

1356
00:45:25,300 --> 00:45:27,540
to create admins and now if

1357
00:45:27,540 --> 00:45:28,220
we click it a

1358
00:45:28,220 --> 00:45:29,800
second time you'll see if we

1359
00:45:29,800 --> 00:45:31,460
refresh they are now a super

1360
00:45:31,460 --> 00:45:32,420
admin that means that they can

1361
00:45:32,420 --> 00:45:33,320
delete this

1362
00:45:33,880 --> 00:45:35,640
group if they want to now

1363
00:45:35,640 --> 00:45:37,600
the question might be okay so

1364
00:45:37,600 --> 00:45:39,560
i can promote users how do

1365
00:45:39,560 --> 00:45:40,520
i demote them

1366
00:45:40,520 --> 00:45:43,980
right well if we come in

1367
00:45:43,980 --> 00:45:45,700
here we go in right here

1368
00:45:45,700 --> 00:45:48,720
we go into demote user button

1369
00:45:48,720 --> 00:45:50,260
down let's connect that

1370
00:45:50,260 --> 00:45:51,960
real quick we come in here

1371
00:45:51,960 --> 00:45:54,860
and basically copy and paste this

1372
00:45:54,860 --> 00:45:56,460
code so we'll just copy this

1373
00:45:56,460 --> 00:45:57,640
guy paste it

1374
00:45:57,640 --> 00:45:59,860
and instead of promote we can

1375
00:45:59,860 --> 00:46:03,180
just pass in demote easy enough

1376
00:46:03,180 --> 00:46:05,300
and same thing for kick user

1377
00:46:05,300 --> 00:46:05,740
right we

1378
00:46:05,740 --> 00:46:06,780
could just kind of bring that

1379
00:46:06,780 --> 00:46:08,420
in and let's do ban user

1380
00:46:08,420 --> 00:46:09,940
as well right so we'll just

1381
00:46:09,940 --> 00:46:10,660
bring that in as

1382
00:46:10,660 --> 00:46:12,960
well if we copy this guy

1383
00:46:12,960 --> 00:46:16,180
we can copy paste and paste

1384
00:46:16,180 --> 00:46:18,020
because they're all the exact same

1385
00:46:18,020 --> 00:46:19,000
functionality

1386
00:46:19,000 --> 00:46:20,400
so we can come in here

1387
00:46:20,400 --> 00:46:25,240
and say kick group users and

1388
00:46:25,240 --> 00:46:27,400
then ban group users

1389
00:46:29,480 --> 00:46:31,700
and now if i refresh this

1390
00:46:31,700 --> 00:46:35,760
you'll see if i submit list

1391
00:46:35,760 --> 00:46:38,320
groups select my group test two

1392
00:46:38,320 --> 00:46:40,220
i go demote

1393
00:46:40,220 --> 00:46:41,880
you'll see that that worked if

1394
00:46:41,880 --> 00:46:43,600
we come over here we refresh

1395
00:46:43,600 --> 00:46:47,180
our users right here you'll see

1396
00:46:47,180 --> 00:46:47,500
that they

1397
00:46:47,500 --> 00:46:49,800
are now an admin and then

1398
00:46:49,800 --> 00:46:51,580
i can go ahead and ban

1399
00:46:51,580 --> 00:46:53,880
a user and you'll see non

1400
00:46:53,880 --> 00:46:55,600
-existent function ban

1401
00:46:55,600 --> 00:46:59,240
groups that's probably my fault group

1402
00:46:59,240 --> 00:47:03,080
users async and it looks like

1403
00:47:03,080 --> 00:47:04,680
you actually can't ban a user

1404
00:47:04,680 --> 00:47:04,920
so

1405
00:47:04,920 --> 00:47:06,760
we'll remove that that's my fault

1406
00:47:06,760 --> 00:47:10,200
i um was reading the documentation

1407
00:47:10,200 --> 00:47:11,620
earlier but it looks like it

1408
00:47:11,620 --> 00:47:11,800
got

1409
00:47:11,800 --> 00:47:13,580
removed so you're not actually able

1410
00:47:13,580 --> 00:47:15,400
to ban a user anymore from

1411
00:47:15,400 --> 00:47:16,860
a group so we'll come in

1412
00:47:16,860 --> 00:47:17,940
here we'll

1413
00:47:17,940 --> 00:47:21,900
go ahead and type submit list

1414
00:47:21,900 --> 00:47:23,500
our groups select our group we'll

1415
00:47:23,500 --> 00:47:25,940
go to test two we'll go

1416
00:47:25,940 --> 00:47:27,100
ahead and demote

1417
00:47:27,100 --> 00:47:28,920
the user so you'll see if

1418
00:47:28,920 --> 00:47:30,840
we refresh they are an admin

1419
00:47:30,840 --> 00:47:32,600
if we come in here we

1420
00:47:32,600 --> 00:47:33,500
can go ahead and kick

1421
00:47:33,500 --> 00:47:35,060
them and then if we refresh

1422
00:47:35,060 --> 00:47:36,100
you will see they have been

1423
00:47:36,100 --> 00:47:38,920
removed from that group and that's

1424
00:47:38,920 --> 00:47:39,880
basically how

1425
00:47:39,880 --> 00:47:42,300
you can actually manage your users

1426
00:47:42,300 --> 00:47:44,580
in here and you can also

1427
00:47:44,580 --> 00:47:46,420
delete a group and leave a

1428
00:47:46,420 --> 00:47:47,020
group so

1429
00:47:47,020 --> 00:47:49,760
if we want to leave a

1430
00:47:49,760 --> 00:47:51,640
group we can come in here

1431
00:47:51,640 --> 00:47:54,560
and go into our stuff here

1432
00:47:54,560 --> 00:47:55,860
we can click on leave group

1433
00:47:55,860 --> 00:47:58,520
button down on leave button down

1434
00:47:58,520 --> 00:48:00,640
we'll connect that and to leave

1435
00:48:00,640 --> 00:48:02,680
a group it's actually relatively simple

1436
00:48:04,040 --> 00:48:05,400
all we need to do is

1437
00:48:05,400 --> 00:48:05,740
type

1438
00:48:08,940 --> 00:48:13,220
await client dot leave group async

1439
00:48:13,220 --> 00:48:14,700
we'll pass in our session and

1440
00:48:14,700 --> 00:48:16,360
then we'll pass in our group

1441
00:48:16,360 --> 00:48:16,820
id which

1442
00:48:16,820 --> 00:48:17,920
is going to be our selected

1443
00:48:17,920 --> 00:48:21,140
group id now this will allow

1444
00:48:21,140 --> 00:48:23,000
us to leave our group but

1445
00:48:23,000 --> 00:48:23,820
the problem is that

1446
00:48:23,820 --> 00:48:25,740
if i leave my group i

1447
00:48:25,740 --> 00:48:28,760
will actually um not have any

1448
00:48:28,760 --> 00:48:30,120
more users in that group so

1449
00:48:30,120 --> 00:48:31,240
what i'll do is i'll

1450
00:48:31,240 --> 00:48:34,840
log in as test two i

1451
00:48:34,840 --> 00:48:37,560
will come in here and pass

1452
00:48:37,560 --> 00:48:39,800
in my group name if i

1453
00:48:39,800 --> 00:48:41,420
remember correctly it's if we

1454
00:48:41,420 --> 00:48:43,060
list groups we can select the

1455
00:48:43,060 --> 00:48:44,920
group join group and then you

1456
00:48:44,920 --> 00:48:46,700
should see that we will join

1457
00:48:46,700 --> 00:48:47,440
that group so

1458
00:48:47,440 --> 00:48:49,980
you'll see as a member we

1459
00:48:49,980 --> 00:48:52,240
can refresh and there we go

1460
00:48:52,240 --> 00:48:54,660
we're in that group and now

1461
00:48:54,660 --> 00:48:56,000
we can come in here

1462
00:48:56,000 --> 00:48:57,920
and say leave group and then

1463
00:48:57,920 --> 00:48:59,880
if we refresh we have left

1464
00:48:59,880 --> 00:49:02,520
that group right there and now

1465
00:49:02,520 --> 00:49:03,240
we can

1466
00:49:03,240 --> 00:49:05,640
actually uh safely delete our group

1467
00:49:05,640 --> 00:49:07,200
right because we now have shown

1468
00:49:07,200 --> 00:49:08,940
that that section works that's

1469
00:49:08,940 --> 00:49:10,000
how you leave a group it's

1470
00:49:10,000 --> 00:49:11,380
actually really easy you just do

1471
00:49:11,380 --> 00:49:13,480
leave group asynchronously so now what

1472
00:49:13,480 --> 00:49:15,180
happens if you want to delete

1473
00:49:15,180 --> 00:49:16,640
a group well we're going to

1474
00:49:16,640 --> 00:49:17,900
need an additional button for that

1475
00:49:17,900 --> 00:49:18,500
so let's

1476
00:49:18,500 --> 00:49:20,360
duplicate our leave group we'll just

1477
00:49:20,360 --> 00:49:22,520
pull it down here i guess

1478
00:49:22,520 --> 00:49:23,700
we're kind of running out of

1479
00:49:23,700 --> 00:49:24,340
space here

1480
00:49:24,340 --> 00:49:25,180
so i'll just put it right

1481
00:49:25,180 --> 00:49:28,120
here i'll move open over we'll

1482
00:49:28,120 --> 00:49:29,920
grab leave group and we'll put

1483
00:49:29,920 --> 00:49:30,920
delete group

1484
00:49:31,600 --> 00:49:32,880
now in order to delete a

1485
00:49:32,880 --> 00:49:35,220
group we'll disconnect this connect in

1486
00:49:35,220 --> 00:49:36,620
order to delete a group it's

1487
00:49:36,620 --> 00:49:36,880
actually

1488
00:49:36,880 --> 00:49:39,860
really simple as well so when

1489
00:49:39,860 --> 00:49:41,480
you delete a group all you

1490
00:49:41,480 --> 00:49:43,400
need to do is type client

1491
00:49:45,000 --> 00:49:49,460
await client dot delete group async

1492
00:49:49,460 --> 00:49:50,400
and then you can pass in

1493
00:49:50,400 --> 00:49:50,920
the session

1494
00:49:52,940 --> 00:49:55,780
and the selected group dot id

1495
00:49:55,780 --> 00:49:57,300
and that's literally all you need

1496
00:49:57,300 --> 00:49:58,700
to do so now if i

1497
00:49:58,700 --> 00:50:00,040
refresh my screen

1498
00:50:00,040 --> 00:50:02,600
here i log in as test

1499
00:50:02,600 --> 00:50:06,640
the super admin and then we'll

1500
00:50:06,640 --> 00:50:08,200
log in as test we'll come

1501
00:50:08,200 --> 00:50:09,120
in here we'll log in as

1502
00:50:09,120 --> 00:50:11,660
test two we'll submit we will

1503
00:50:11,660 --> 00:50:13,240
go ahead and hit list groups

1504
00:50:13,240 --> 00:50:14,880
we'll select that group we're going

1505
00:50:14,880 --> 00:50:15,240
to join

1506
00:50:15,240 --> 00:50:16,940
that group really quick and remember

1507
00:50:16,940 --> 00:50:18,740
because this is an open group

1508
00:50:18,740 --> 00:50:21,400
that person should be able to

1509
00:50:21,400 --> 00:50:21,760
just

1510
00:50:21,760 --> 00:50:26,480
join there we go so the

1511
00:50:26,480 --> 00:50:28,780
person has joined and now you'll

1512
00:50:28,780 --> 00:50:30,480
see if i go in as

1513
00:50:30,480 --> 00:50:33,980
test two right here and i

1514
00:50:33,980 --> 00:50:35,700
go ahead and i click delete

1515
00:50:35,700 --> 00:50:37,380
group which this is leave group

1516
00:50:37,380 --> 00:50:39,340
but it's delete group in um

1517
00:50:39,340 --> 00:50:41,840
our code you'll see

1518
00:50:41,840 --> 00:50:44,520
request has returned spot response 400

1519
00:50:44,520 --> 00:50:46,760
group not found or you are

1520
00:50:46,760 --> 00:50:48,320
not allowed to delete and the

1521
00:50:48,320 --> 00:50:49,660
reason why is because that person

1522
00:50:49,660 --> 00:50:51,560
does not have the capability to

1523
00:50:51,560 --> 00:50:52,640
delete this group you can see

1524
00:50:52,640 --> 00:50:54,960
it's still here however if i

1525
00:50:54,960 --> 00:50:57,100
come in here as test or

1526
00:50:57,100 --> 00:50:58,740
as my super admin and i

1527
00:50:58,740 --> 00:51:01,400
log in and i click list

1528
00:51:01,400 --> 00:51:03,440
groups i select my group and

1529
00:51:03,440 --> 00:51:05,600
then i click delete group you'll

1530
00:51:05,600 --> 00:51:06,620
see if we go back to

1531
00:51:06,620 --> 00:51:07,860
groups it has now

1532
00:51:07,860 --> 00:51:10,440
been removed and that's basically everything

1533
00:51:10,440 --> 00:51:12,300
that you need to know about

1534
00:51:12,300 --> 00:51:12,940
groups

1535
00:51:15,540 --> 00:51:17,260
now when it comes to chats

1536
00:51:17,260 --> 00:51:19,660
which is actually a whole feature

1537
00:51:19,660 --> 00:51:21,120
inside of nakama you can actually

1538
00:51:21,120 --> 00:51:23,560
build chat rooms right inside of

1539
00:51:23,560 --> 00:51:25,440
nakama so when it comes to

1540
00:51:25,440 --> 00:51:27,160
chats how do we actually get

1541
00:51:27,160 --> 00:51:27,780
that to work

1542
00:51:27,780 --> 00:51:29,860
well first things first we are

1543
00:51:29,860 --> 00:51:32,200
majorly out of space so i

1544
00:51:32,200 --> 00:51:33,580
am going to hide the group

1545
00:51:33,580 --> 00:51:34,340
section as you can

1546
00:51:34,340 --> 00:51:36,160
see we have all sorts of

1547
00:51:36,160 --> 00:51:38,440
different areas here where we can

1548
00:51:38,440 --> 00:51:41,660
actually do our nakama work here

1549
00:51:41,660 --> 00:51:41,980
so i'm

1550
00:51:41,980 --> 00:51:42,900
actually just going to come in

1551
00:51:42,900 --> 00:51:44,420
here and just start hiding a

1552
00:51:44,420 --> 00:51:45,500
lot of this because we're running

1553
00:51:45,500 --> 00:51:45,780
out of

1554
00:51:45,780 --> 00:51:48,140
space here so i'll hide this

1555
00:51:48,140 --> 00:51:51,080
panel and this panel and there

1556
00:51:51,080 --> 00:51:53,820
we go so when it comes

1557
00:51:53,820 --> 00:51:55,860
to chats we have three

1558
00:51:55,860 --> 00:51:57,140
different types of chats and we'll

1559
00:51:57,140 --> 00:51:58,560
talk about all three of them

1560
00:51:58,560 --> 00:52:01,600
and how to send messages and

1561
00:52:01,600 --> 00:52:01,960
stuff like

1562
00:52:01,960 --> 00:52:04,420
that but we have three different

1563
00:52:04,420 --> 00:52:06,400
chat types we have dynamic rooms

1564
00:52:06,400 --> 00:52:09,040
group chats and direct chats okay

1565
00:52:09,480 --> 00:52:10,880
and we'll talk about the group

1566
00:52:10,880 --> 00:52:12,340
chats when we get there but

1567
00:52:12,340 --> 00:52:14,860
one of the big ones that

1568
00:52:14,860 --> 00:52:15,640
a lot of people

1569
00:52:15,640 --> 00:52:19,240
like is the dynamic rooms the

1570
00:52:19,240 --> 00:52:24,220
dynamic rooms is basically a random

1571
00:52:24,220 --> 00:52:26,220
room that gets created for temporary

1572
00:52:26,220 --> 00:52:27,900
for a temporary for a temporary

1573
00:52:27,900 --> 00:52:30,220
time span and it only stays

1574
00:52:30,220 --> 00:52:31,420
open as long as there are

1575
00:52:31,420 --> 00:52:32,120
people in

1576
00:52:32,120 --> 00:52:33,860
that chat room so the nice

1577
00:52:33,860 --> 00:52:35,020
thing about it is let's say

1578
00:52:35,020 --> 00:52:36,960
you have a match or something

1579
00:52:36,960 --> 00:52:38,680
like that you could

1580
00:52:38,680 --> 00:52:40,840
put people in that temporary room

1581
00:52:40,840 --> 00:52:42,440
and then have people communicate and

1582
00:52:42,440 --> 00:52:43,540
then once the match is over

1583
00:52:43,540 --> 00:52:45,540
that room just gets dissolved over

1584
00:52:45,540 --> 00:52:48,980
time whereas something like a group

1585
00:52:48,980 --> 00:52:52,100
chat that stays for as long

1586
00:52:52,100 --> 00:52:52,420
as the

1587
00:52:52,420 --> 00:52:54,880
group exists and then they also

1588
00:52:54,880 --> 00:52:56,460
have direct chats which is basically

1589
00:52:56,460 --> 00:52:58,000
one-on-one communications between

1590
00:52:58,000 --> 00:53:00,220
people which persist once again forever

1591
00:53:00,220 --> 00:53:02,980
so in order to do dynamic

1592
00:53:02,980 --> 00:53:05,400
rooms let's first right click add

1593
00:53:05,400 --> 00:53:05,540
a

1594
00:53:05,540 --> 00:53:06,740
child node let's add in a

1595
00:53:06,740 --> 00:53:09,220
panel here and let's make it

1596
00:53:09,220 --> 00:53:12,440
about this big now we're going

1597
00:53:12,440 --> 00:53:13,180
to have to build a

1598
00:53:13,180 --> 00:53:15,620
whole chat system so this will

1599
00:53:15,620 --> 00:53:17,420
take a little bit of time

1600
00:53:17,420 --> 00:53:18,500
so what i'm going to do

1601
00:53:18,500 --> 00:53:19,120
is i'm going to right

1602
00:53:19,120 --> 00:53:20,740
click add a child node i'm

1603
00:53:20,740 --> 00:53:23,400
going to add in a button

1604
00:53:23,400 --> 00:53:25,320
i'm going to right click add

1605
00:53:25,320 --> 00:53:26,480
a child node add in a

1606
00:53:26,480 --> 00:53:29,980
line edit right here we're going

1607
00:53:29,980 --> 00:53:32,200
to make the line edit about

1608
00:53:32,200 --> 00:53:34,680
yay big give or take if

1609
00:53:34,680 --> 00:53:36,400
my mouse will let

1610
00:53:36,400 --> 00:53:38,220
me we'll do that we'll add

1611
00:53:38,220 --> 00:53:41,100
in a button again providing that

1612
00:53:41,100 --> 00:53:42,180
i can click on this there

1613
00:53:42,180 --> 00:53:42,500
we go

1614
00:53:42,500 --> 00:53:44,260
we'll make it about yay big

1615
00:53:44,260 --> 00:53:45,960
and for our line edit we'll

1616
00:53:45,960 --> 00:53:49,440
just say chat name like that

1617
00:53:49,440 --> 00:53:50,820
and then we'll

1618
00:53:50,820 --> 00:53:52,520
come in here and say join

1619
00:53:52,520 --> 00:53:55,600
chat now you could automate this

1620
00:53:55,600 --> 00:53:57,020
as soon as a person goes

1621
00:53:57,020 --> 00:53:57,960
into a

1622
00:53:58,580 --> 00:54:00,240
match you could actually go set

1623
00:54:00,240 --> 00:54:03,480
up the uh room name and

1624
00:54:03,480 --> 00:54:05,060
automatically have them join but in

1625
00:54:05,060 --> 00:54:05,340
this case

1626
00:54:05,340 --> 00:54:06,720
we're going to manually do it

1627
00:54:06,720 --> 00:54:07,860
that way you guys get the

1628
00:54:07,860 --> 00:54:10,120
experience of how it works so

1629
00:54:10,120 --> 00:54:10,980
what we'll do

1630
00:54:10,980 --> 00:54:13,380
is we'll change this to join

1631
00:54:13,380 --> 00:54:16,460
chat room like that and then

1632
00:54:16,460 --> 00:54:17,500
the line at it will be

1633
00:54:17,500 --> 00:54:19,400
chat name like that

1634
00:54:19,400 --> 00:54:20,300
and then i'm going to come

1635
00:54:20,300 --> 00:54:22,700
in here go over here button

1636
00:54:22,700 --> 00:54:24,380
down and then i will hit

1637
00:54:24,380 --> 00:54:26,720
connect now when we

1638
00:54:26,720 --> 00:54:28,560
want to join a chat room

1639
00:54:28,560 --> 00:54:30,200
all we have to do is

1640
00:54:30,200 --> 00:54:31,300
come up with a room name

1641
00:54:31,300 --> 00:54:33,960
if it's persistent if it's hidden

1642
00:54:34,640 --> 00:54:37,240
and if it is a room

1643
00:54:37,240 --> 00:54:39,080
type so i will show you

1644
00:54:39,080 --> 00:54:40,720
all of those things so first

1645
00:54:40,720 --> 00:54:43,340
things first let's go var

1646
00:54:43,340 --> 00:54:47,560
channel is equal to await socket

1647
00:54:47,560 --> 00:54:51,560
dot join chat asynchronously now what

1648
00:54:51,560 --> 00:54:52,340
this is going to do is

1649
00:54:52,340 --> 00:54:52,460
we're

1650
00:54:52,460 --> 00:54:53,700
going to have a target now

1651
00:54:53,700 --> 00:54:57,820
that target is what the name

1652
00:54:57,820 --> 00:54:58,900
of that chat room is going

1653
00:54:58,900 --> 00:54:59,560
to be in this

1654
00:54:59,560 --> 00:55:01,260
case we'll just say actually we

1655
00:55:01,260 --> 00:55:02,560
already have a title right here

1656
00:55:02,560 --> 00:55:03,100
right so

1657
00:55:04,840 --> 00:55:08,380
dollar sign chat name dot text

1658
00:55:08,380 --> 00:55:09,780
comma and then you'll see that

1659
00:55:09,780 --> 00:55:12,260
we have an int type so

1660
00:55:12,260 --> 00:55:12,580
what does

1661
00:55:12,580 --> 00:55:14,120
that actually take what is the

1662
00:55:14,120 --> 00:55:15,780
type well the type is a

1663
00:55:15,780 --> 00:55:18,920
nakaba socket chat type or a

1664
00:55:18,920 --> 00:55:20,460
channel type so we'll

1665
00:55:20,460 --> 00:55:23,440
say var type is equal to

1666
00:55:23,440 --> 00:55:29,140
nakaba socket dot channel type dot

1667
00:55:29,140 --> 00:55:30,140
and you'll see that we have

1668
00:55:30,140 --> 00:55:31,260
different types

1669
00:55:31,260 --> 00:55:36,060
direct direct message group and room

1670
00:55:36,060 --> 00:55:38,340
and each one has a different

1671
00:55:38,340 --> 00:55:40,140
use so thankfully the code is

1672
00:55:40,140 --> 00:55:40,820
basically the

1673
00:55:40,820 --> 00:55:45,760
same but what matters is if

1674
00:55:45,760 --> 00:55:48,040
it is going to be a

1675
00:55:48,040 --> 00:55:49,780
room if it's going to be

1676
00:55:49,780 --> 00:55:51,140
a group or if it's going

1677
00:55:51,140 --> 00:55:51,420
to be

1678
00:55:51,420 --> 00:55:52,980
a direct message in our case

1679
00:55:52,980 --> 00:55:53,980
it's going to be a room

1680
00:55:53,980 --> 00:55:55,080
so i'm going to come in

1681
00:55:55,080 --> 00:55:56,060
here and say type

1682
00:55:56,580 --> 00:55:59,400
comma and then if it's persistent

1683
00:55:59,400 --> 00:56:00,800
so in our case we don't

1684
00:56:00,800 --> 00:56:01,920
want it to be persistent so

1685
00:56:01,920 --> 00:56:03,260
false comma and then

1686
00:56:03,260 --> 00:56:05,140
if it's hidden it will say

1687
00:56:05,140 --> 00:56:06,060
false we wanted to make it

1688
00:56:06,060 --> 00:56:08,180
a public messaging chat so people

1689
00:56:08,180 --> 00:56:08,940
can actually go

1690
00:56:08,940 --> 00:56:11,820
in and message each other and

1691
00:56:11,820 --> 00:56:13,420
not have to authenticate or be

1692
00:56:13,420 --> 00:56:15,180
added to that chat and then

1693
00:56:15,180 --> 00:56:15,720
what i'm going to do is

1694
00:56:15,720 --> 00:56:16,800
i'm going to print that chat

1695
00:56:16,800 --> 00:56:19,780
information so print channel

1696
00:56:21,300 --> 00:56:24,580
like that now this will basically

1697
00:56:24,580 --> 00:56:26,380
print out our chats information so

1698
00:56:26,380 --> 00:56:27,800
if i refresh this and i

1699
00:56:27,800 --> 00:56:28,420
run this

1700
00:56:28,420 --> 00:56:30,300
if i join and i say

1701
00:56:30,300 --> 00:56:32,160
test and i join you'll see

1702
00:56:32,160 --> 00:56:33,820
that we now have a chat

1703
00:56:33,820 --> 00:56:35,800
that is right here you can

1704
00:56:35,800 --> 00:56:36,000
see

1705
00:56:36,000 --> 00:56:37,580
it has the id one it

1706
00:56:37,580 --> 00:56:39,740
has id here it says there's

1707
00:56:39,740 --> 00:56:42,280
a user test user id is

1708
00:56:42,280 --> 00:56:43,760
this session id is this so

1709
00:56:43,760 --> 00:56:43,840
we

1710
00:56:43,840 --> 00:56:44,780
can get all the people that

1711
00:56:44,780 --> 00:56:47,360
are inside of that chat right

1712
00:56:47,360 --> 00:56:50,320
there now if somebody else joins

1713
00:56:50,320 --> 00:56:50,860
test

1714
00:56:50,860 --> 00:56:53,140
to submit and then they go

1715
00:56:53,140 --> 00:56:54,700
test and they join you can

1716
00:56:54,700 --> 00:56:57,080
see here that we also joined

1717
00:56:57,080 --> 00:56:59,960
channel id 2 user

1718
00:56:59,960 --> 00:57:03,460
presence session this status user test

1719
00:57:03,460 --> 00:57:04,580
so we just got back that

1720
00:57:04,580 --> 00:57:06,980
user's account information right so we

1721
00:57:06,980 --> 00:57:08,600
got test and test 2 in

1722
00:57:08,600 --> 00:57:11,180
this chat with each other and

1723
00:57:11,180 --> 00:57:12,920
that's basically what these guys are

1724
00:57:12,920 --> 00:57:13,500
saying here

1725
00:57:14,160 --> 00:57:15,440
now in order to send a

1726
00:57:15,440 --> 00:57:16,540
message you need to actually be

1727
00:57:16,540 --> 00:57:18,560
able to receive that message right

1728
00:57:18,560 --> 00:57:19,720
so let's go

1729
00:57:19,720 --> 00:57:22,760
to our script here and let's

1730
00:57:22,760 --> 00:57:23,900
scroll all the way up to

1731
00:57:23,900 --> 00:57:25,720
the top and the reason why

1732
00:57:25,720 --> 00:57:26,280
i'm scrolling all

1733
00:57:26,280 --> 00:57:26,980
the way up to the top

1734
00:57:26,980 --> 00:57:28,900
is because we need to subscribe

1735
00:57:28,900 --> 00:57:31,660
when we create our socket to

1736
00:57:31,660 --> 00:57:33,240
the ability to actually

1737
00:57:33,240 --> 00:57:35,620
get messages so what we need

1738
00:57:35,620 --> 00:57:37,300
to do is go find where

1739
00:57:37,300 --> 00:57:38,600
our socket gets created

1740
00:57:41,620 --> 00:57:43,500
which is right here so we'll

1741
00:57:43,500 --> 00:57:44,940
come in here we'll say socket

1742
00:57:44,940 --> 00:57:49,280
dot and providing that godot wants

1743
00:57:49,280 --> 00:57:49,560
to be

1744
00:57:49,560 --> 00:57:51,400
nice to me it will auto

1745
00:57:51,400 --> 00:57:52,580
complete please

1746
00:57:52,580 --> 00:57:57,300
maybe not well we'll hit dot

1747
00:57:57,300 --> 00:57:59,880
received underscore

1748
00:58:02,220 --> 00:58:06,240
channel underscore message dot connect

1749
00:58:06,960 --> 00:58:09,000
like that and then we'll pass

1750
00:58:09,000 --> 00:58:11,340
in a callable so what this

1751
00:58:11,340 --> 00:58:12,960
is going to be is it's

1752
00:58:12,960 --> 00:58:13,420
just going to be a

1753
00:58:13,420 --> 00:58:15,640
very basic function that prints out

1754
00:58:15,640 --> 00:58:17,760
that message currently at least so

1755
00:58:17,760 --> 00:58:18,860
we'll say funk

1756
00:58:19,900 --> 00:58:24,400
underscore on underscore channel on

1757
00:58:26,340 --> 00:58:26,980
channel

1758
00:58:29,940 --> 00:58:32,320
message like that and we'll pass

1759
00:58:32,320 --> 00:58:33,400
in a message

1760
00:58:33,960 --> 00:58:35,760
now this could be a type

1761
00:58:35,760 --> 00:58:36,760
if you want it to be

1762
00:58:36,760 --> 00:58:37,860
which is going to be a

1763
00:58:37,860 --> 00:58:42,060
nakama api dot api

1764
00:58:44,300 --> 00:58:47,760
channel message like that and then

1765
00:58:47,760 --> 00:58:48,660
we can just go ahead and

1766
00:58:48,660 --> 00:58:49,560
print that message

1767
00:58:50,700 --> 00:58:53,560
and there we go now we're

1768
00:58:53,560 --> 00:58:55,400
going to connect that message so

1769
00:58:55,400 --> 00:58:57,800
we'll just pass on channel message

1770
00:58:57,800 --> 00:58:58,260
like

1771
00:58:58,260 --> 00:59:00,140
that and that will actually pass

1772
00:59:00,140 --> 00:59:02,100
that to this guy right here

1773
00:59:02,100 --> 00:59:03,580
and we'll go ahead and send

1774
00:59:03,580 --> 00:59:03,880
out that

1775
00:59:03,880 --> 00:59:07,620
signal now when we do our

1776
00:59:07,620 --> 00:59:11,280
message when we want to send

1777
00:59:11,280 --> 00:59:12,960
a message we need to actually

1778
00:59:12,960 --> 00:59:13,920
create a panel

1779
00:59:13,920 --> 00:59:15,120
for that so let's come in

1780
00:59:15,120 --> 00:59:16,760
here let's right click our panel

1781
00:59:16,760 --> 00:59:19,480
and add in another panel like

1782
00:59:19,480 --> 00:59:20,440
so i'm going

1783
00:59:20,440 --> 00:59:21,940
to drag this guy over here

1784
00:59:21,940 --> 00:59:23,820
make it about this big give

1785
00:59:23,820 --> 00:59:24,440
or take it we're going to

1786
00:59:24,440 --> 00:59:25,920
create a very basic

1787
00:59:26,620 --> 00:59:29,380
message block system so it's going

1788
00:59:29,380 --> 00:59:31,060
to be pretty ugly my apologies

1789
00:59:31,060 --> 00:59:32,600
but i want to try to

1790
00:59:32,600 --> 00:59:33,200
get this to

1791
00:59:33,200 --> 00:59:35,060
work as quickly as humanly possible

1792
00:59:35,060 --> 00:59:36,480
so what i'm going to do

1793
00:59:36,480 --> 00:59:38,580
is i'm going to put in

1794
00:59:38,580 --> 00:59:40,300
a line edit like

1795
00:59:40,300 --> 00:59:42,360
so i'm going to make this

1796
00:59:42,360 --> 00:59:44,820
go on the bottom stretched across

1797
00:59:44,820 --> 00:59:46,400
i'm going to pull this back

1798
00:59:46,400 --> 00:59:47,580
right click add

1799
00:59:47,580 --> 00:59:48,880
a child node we'll add in

1800
00:59:48,880 --> 00:59:50,500
a button i'm going to snap

1801
00:59:50,500 --> 00:59:52,160
that guy right in the bottom

1802
00:59:52,160 --> 00:59:53,360
right where we'll

1803
00:59:53,360 --> 00:59:55,680
make it about if i can

1804
00:59:55,680 --> 00:59:58,300
click on it about yay big

1805
00:59:58,300 --> 01:00:00,960
we'll put a send or maybe

1806
01:00:00,960 --> 01:00:02,060
just like an arrow like

1807
01:00:02,060 --> 01:00:04,160
that i think that'll work we'll

1808
01:00:04,160 --> 01:00:08,200
put a placeholder chat text here

1809
01:00:08,200 --> 01:00:10,340
we'll type this as chat text

1810
01:00:10,340 --> 01:00:10,900
we'll

1811
01:00:10,900 --> 01:00:13,500
make the panel title chat and

1812
01:00:13,500 --> 01:00:15,020
then we'll make the button submit

1813
01:00:15,020 --> 01:00:19,160
chat like that i'm going to

1814
01:00:19,160 --> 01:00:19,940
go ahead

1815
01:00:19,940 --> 01:00:21,900
and right click add any child

1816
01:00:21,900 --> 01:00:22,960
node and i'm going to add

1817
01:00:22,960 --> 01:00:23,680
in a

1818
01:00:27,960 --> 01:00:29,880
i am brain farting on what

1819
01:00:29,880 --> 01:00:31,920
it is it is a text

1820
01:00:31,920 --> 01:00:33,860
edit like that we'll make it

1821
01:00:33,860 --> 01:00:36,220
full screen so full wrecked

1822
01:00:36,220 --> 01:00:37,860
and we'll make it about yay

1823
01:00:37,860 --> 01:00:39,500
big that'll go ahead and make

1824
01:00:39,500 --> 01:00:40,620
it so that it's kind of

1825
01:00:40,620 --> 01:00:41,880
scalable and you

1826
01:00:41,880 --> 01:00:44,400
know easy to use now inside

1827
01:00:44,400 --> 01:00:46,960
of here i'll scroll down and

1828
01:00:46,960 --> 01:00:48,640
i will do auto wrap that's

1829
01:00:48,640 --> 01:00:50,180
fine so that means

1830
01:00:50,180 --> 01:00:51,900
that if i put in a

1831
01:00:51,900 --> 01:00:53,240
bunch of text here it's going

1832
01:00:53,240 --> 01:00:54,680
to auto wrap so you can

1833
01:00:54,680 --> 01:00:56,020
see if i do wrap mode

1834
01:00:56,020 --> 01:00:56,440
boundary

1835
01:00:56,440 --> 01:00:57,600
it will go ahead and wrap

1836
01:00:57,600 --> 01:01:00,420
that and then i will turn

1837
01:01:00,420 --> 01:01:03,220
on scroll as well so if

1838
01:01:03,220 --> 01:01:04,920
this continues so we'll

1839
01:01:04,920 --> 01:01:07,820
ctrl c ctrl v we'll paste

1840
01:01:07,820 --> 01:01:08,820
it you'll see that it's going

1841
01:01:08,820 --> 01:01:10,500
to scroll we also want to

1842
01:01:10,500 --> 01:01:12,120
we'll want to shut

1843
01:01:12,120 --> 01:01:14,800
off editable and i think that

1844
01:01:14,800 --> 01:01:16,220
will work because i think this

1845
01:01:16,220 --> 01:01:17,460
is placeholder text so if i

1846
01:01:17,460 --> 01:01:17,980
come in here

1847
01:01:17,980 --> 01:01:19,860
and we paste this text in

1848
01:01:19,860 --> 01:01:21,240
this will allow us to scroll

1849
01:01:21,240 --> 01:01:25,480
i'm curious if we can make

1850
01:01:25,480 --> 01:01:26,420
it follow

1851
01:01:27,240 --> 01:01:29,760
the uh actual scrolling but i

1852
01:01:29,760 --> 01:01:31,680
don't think we can i know

1853
01:01:31,680 --> 01:01:32,680
there's a way to do it

1854
01:01:32,680 --> 01:01:33,680
it's been a while since

1855
01:01:33,680 --> 01:01:35,440
i've done it but i think

1856
01:01:35,440 --> 01:01:36,800
i'll just go ahead and skip

1857
01:01:36,800 --> 01:01:37,960
that part but there is a

1858
01:01:37,960 --> 01:01:38,820
way to make it so it

1859
01:01:38,820 --> 01:01:40,860
automatically scrolls to the bottom but

1860
01:01:40,860 --> 01:01:43,700
that's okay right now so this

1861
01:01:43,700 --> 01:01:45,660
is basically what our chat setup

1862
01:01:45,660 --> 01:01:45,760
is

1863
01:01:45,760 --> 01:01:46,300
going to be it's going to

1864
01:01:46,300 --> 01:01:48,740
be relatively simple but it's going

1865
01:01:48,740 --> 01:01:49,540
to be something that we can

1866
01:01:49,540 --> 01:01:49,860
at least

1867
01:01:49,860 --> 01:01:51,400
use now i'm going to grab

1868
01:01:51,400 --> 01:01:53,460
my submit chat button i'm going

1869
01:01:53,460 --> 01:01:55,340
to go to node button down

1870
01:01:55,340 --> 01:01:56,060
i'm going to connect

1871
01:01:56,060 --> 01:01:58,660
that to my submit chat button

1872
01:01:58,660 --> 01:02:02,780
now when we want to do

1873
01:02:02,780 --> 01:02:04,900
a message right we want to

1874
01:02:04,900 --> 01:02:06,160
send a message we can come

1875
01:02:06,160 --> 01:02:11,760
in here and say var await

1876
01:02:11,760 --> 01:02:15,880
socket dot write chat message asynchronous

1877
01:02:15,880 --> 01:02:17,540
now this is going to require

1878
01:02:17,540 --> 01:02:20,120
a id so we have to

1879
01:02:20,120 --> 01:02:21,580
actually have some kind of chat

1880
01:02:21,580 --> 01:02:23,080
name in this case i'm just

1881
01:02:23,080 --> 01:02:24,140
going to go ahead and grab

1882
01:02:24,140 --> 01:02:26,080
this guy right here copy it

1883
01:02:26,080 --> 01:02:28,140
and paste it it's not the

1884
01:02:28,140 --> 01:02:29,900
most ideal situation because once you're

1885
01:02:29,900 --> 01:02:30,360
connected

1886
01:02:30,360 --> 01:02:31,940
to that channel you should probably

1887
01:02:31,940 --> 01:02:34,300
just be connected to that channel

1888
01:02:34,300 --> 01:02:35,300
right instead of

1889
01:02:35,300 --> 01:02:37,820
passing in this value here but

1890
01:02:37,820 --> 01:02:40,820
we can basically throw a value

1891
01:02:40,820 --> 01:02:42,800
up at the top and basically

1892
01:02:42,800 --> 01:02:43,080
just

1893
01:02:43,080 --> 01:02:45,080
save it across different functions and

1894
01:02:45,080 --> 01:02:46,660
that would solve this problem but

1895
01:02:46,660 --> 01:02:47,580
for right now we'll go ahead

1896
01:02:47,580 --> 01:02:50,100
and do this and then we

1897
01:02:50,100 --> 01:02:51,480
need to pass in our message

1898
01:02:51,480 --> 01:02:53,100
content so what we can do

1899
01:02:53,100 --> 01:02:54,560
is do dollar sign

1900
01:02:55,440 --> 01:02:59,400
chat text dot text like that

1901
01:02:59,400 --> 01:03:01,160
now i think we should probably

1902
01:03:01,160 --> 01:03:03,220
change this to text edit instead

1903
01:03:03,220 --> 01:03:03,960
just do

1904
01:03:03,960 --> 01:03:07,240
chat text box that way we

1905
01:03:07,240 --> 01:03:10,440
actually have that value now if

1906
01:03:10,440 --> 01:03:12,480
we hit play and we go

1907
01:03:12,480 --> 01:03:13,540
ahead and hit play

1908
01:03:14,060 --> 01:03:16,560
if we come in here we

1909
01:03:16,560 --> 01:03:20,020
both submit join test test number

1910
01:03:20,020 --> 01:03:23,340
two submit join test if we

1911
01:03:23,340 --> 01:03:24,440
send a text

1912
01:03:24,440 --> 01:03:27,160
test test send you'll see that

1913
01:03:27,160 --> 01:03:28,900
it is very mad at us

1914
01:03:28,900 --> 01:03:31,360
cannot convert argument to from string

1915
01:03:31,360 --> 01:03:31,560
to

1916
01:03:31,560 --> 01:03:32,940
dictionary so it's going to require

1917
01:03:32,940 --> 01:03:35,280
a dictionary for us to be

1918
01:03:35,280 --> 01:03:37,360
able to do that so what

1919
01:03:37,360 --> 01:03:38,120
we need to do

1920
01:03:38,120 --> 01:03:39,820
is we need to pass in

1921
01:03:39,820 --> 01:03:42,260
an actual dictionary of objects so

1922
01:03:42,260 --> 01:03:43,900
we can come in here pass

1923
01:03:43,900 --> 01:03:44,760
in this dictionary

1924
01:03:46,960 --> 01:03:50,700
like so and go quote message

1925
01:03:50,700 --> 01:03:54,100
colon that and the reason why

1926
01:03:54,100 --> 01:03:55,680
we have to do this is

1927
01:03:55,680 --> 01:03:57,340
because we can

1928
01:03:57,340 --> 01:04:01,180
actually do what's called uh emotes

1929
01:04:01,180 --> 01:04:03,940
right and emotes are sent via

1930
01:04:03,940 --> 01:04:07,080
um json data so that's the

1931
01:04:07,080 --> 01:04:07,560
reason why

1932
01:04:07,560 --> 01:04:09,020
it requires it to be a

1933
01:04:09,020 --> 01:04:10,400
dictionary so that we can actually

1934
01:04:10,400 --> 01:04:14,060
send over emote information now i'm

1935
01:04:14,060 --> 01:04:14,380
not going to

1936
01:04:14,380 --> 01:04:16,520
cover that just because uh there's

1937
01:04:16,520 --> 01:04:18,920
a whole like loading emotes and

1938
01:04:18,920 --> 01:04:19,740
stuff like that that you need

1939
01:04:19,740 --> 01:04:21,260
to do and that's way beyond

1940
01:04:21,260 --> 01:04:23,240
the basics of this tutorial so

1941
01:04:23,240 --> 01:04:24,720
if you guys want to look

1942
01:04:24,720 --> 01:04:25,140
at that you

1943
01:04:25,140 --> 01:04:26,160
guys can go check out their

1944
01:04:26,160 --> 01:04:27,900
real-time chatting section and they'll

1945
01:04:27,900 --> 01:04:29,460
go over that but i'll go

1946
01:04:29,460 --> 01:04:29,640
ahead

1947
01:04:29,640 --> 01:04:32,000
and hit submit test to submit

1948
01:04:32,000 --> 01:04:36,180
join test join test test send

1949
01:04:36,180 --> 01:04:38,540
and you'll see that we actually

1950
01:04:38,540 --> 01:04:38,840
get an

1951
01:04:38,840 --> 01:04:41,300
error so it says invalid chat

1952
01:04:41,300 --> 01:04:44,720
identifier so what's going on here

1953
01:04:44,720 --> 01:04:47,260
right well if you take a

1954
01:04:47,260 --> 01:04:48,700
look at your

1955
01:04:49,260 --> 01:04:51,900
chat here if we take a

1956
01:04:51,900 --> 01:04:53,440
look at our chat you'll see

1957
01:04:53,440 --> 01:04:55,460
that our chat actually has an

1958
01:04:55,460 --> 01:04:57,880
identifier id2

1959
01:04:58,720 --> 01:05:01,000
you see that so when you

1960
01:05:01,000 --> 01:05:03,300
have a chat it actually has

1961
01:05:03,300 --> 01:05:07,240
an identifier associated with that chat

1962
01:05:07,240 --> 01:05:08,220
and so

1963
01:05:08,220 --> 01:05:09,580
you don't want to pass in

1964
01:05:09,580 --> 01:05:11,580
the title of the chat you

1965
01:05:11,580 --> 01:05:13,280
want to pass in the identifier

1966
01:05:13,280 --> 01:05:14,860
you can see that we

1967
01:05:14,860 --> 01:05:16,220
have a channel right here so

1968
01:05:16,220 --> 01:05:19,180
if i go channel.id we

1969
01:05:19,180 --> 01:05:20,700
can go ahead and refresh this

1970
01:05:20,700 --> 01:05:23,240
guy and go submit

1971
01:05:23,240 --> 01:05:25,620
test submit and you'll see that

1972
01:05:25,620 --> 01:05:28,760
we are now printing out and

1973
01:05:28,760 --> 01:05:29,680
you will see that we have

1974
01:05:29,680 --> 01:05:30,960
an id right here

1975
01:05:30,960 --> 01:05:33,640
i added channel id in post

1976
01:05:33,640 --> 01:05:34,620
so that way it was nice

1977
01:05:34,620 --> 01:05:35,600
and quick but you can see

1978
01:05:35,600 --> 01:05:37,140
right here channel id is

1979
01:05:37,140 --> 01:05:40,160
two dot dot dot test so

1980
01:05:40,160 --> 01:05:42,140
two is the id of the

1981
01:05:42,140 --> 01:05:44,480
chat and test is the actual

1982
01:05:44,480 --> 01:05:45,900
id that we gave it so

1983
01:05:45,900 --> 01:05:46,100
we need

1984
01:05:46,100 --> 01:05:47,740
to pass that value in right

1985
01:05:47,740 --> 01:05:48,940
here for us to be able

1986
01:05:48,940 --> 01:05:51,460
to send messages so what we

1987
01:05:51,460 --> 01:05:52,520
can do is we can come

1988
01:05:52,520 --> 01:05:52,640
in

1989
01:05:52,640 --> 01:05:55,660
here copy this var channel go

1990
01:05:55,660 --> 01:05:56,600
all the way up to the

1991
01:05:56,600 --> 01:05:56,920
top

1992
01:05:59,200 --> 01:06:04,680
and go var current channel like

1993
01:06:04,680 --> 01:06:05,620
that and then we go all

1994
01:06:05,620 --> 01:06:06,260
the way back down to the

1995
01:06:06,260 --> 01:06:06,540
bottom

1996
01:06:07,320 --> 01:06:11,760
and do current channel is equal

1997
01:06:11,760 --> 01:06:13,140
to that and then we'll go

1998
01:06:13,140 --> 01:06:14,060
ahead and copy this

1999
01:06:14,060 --> 01:06:17,140
we'll paste it right here dot

2000
01:06:17,140 --> 01:06:19,180
id and then we can go

2001
01:06:19,180 --> 01:06:21,440
ahead and do current channel dot

2002
01:06:21,440 --> 01:06:22,980
id right here as

2003
01:06:22,980 --> 01:06:24,860
well now what that will do

2004
01:06:24,860 --> 01:06:26,440
is that it should allow us

2005
01:06:26,440 --> 01:06:27,500
to actually send it to the

2006
01:06:27,500 --> 01:06:28,560
proper id so we'll

2007
01:06:28,560 --> 01:06:32,040
hit submit test to submit test

2008
01:06:32,040 --> 01:06:36,300
join test join test send and

2009
01:06:36,300 --> 01:06:37,600
you should see right here we

2010
01:06:37,600 --> 01:06:38,060
no longer

2011
01:06:38,060 --> 01:06:40,280
have an error but instead we

2012
01:06:40,280 --> 01:06:44,120
have an actual message right here

2013
01:06:44,120 --> 01:06:45,780
i probably should not have used

2014
01:06:45,780 --> 01:06:46,200
the word

2015
01:06:46,200 --> 01:06:48,540
test i should probably use this

2016
01:06:48,540 --> 01:06:50,860
is a test message that way

2017
01:06:50,860 --> 01:06:51,780
we can actually see what it

2018
01:06:51,780 --> 01:06:52,640
is and you can

2019
01:06:52,640 --> 01:06:54,020
see here that i send a

2020
01:06:54,020 --> 01:06:55,780
message and you see right here

2021
01:06:55,780 --> 01:06:58,320
channel id test code is zero

2022
01:06:58,320 --> 01:06:59,720
content message

2023
01:06:59,720 --> 01:07:02,100
this is a test message and

2024
01:07:02,100 --> 01:07:03,280
that's basically how we can send

2025
01:07:03,280 --> 01:07:05,240
and receive messages now the nice

2026
01:07:05,240 --> 01:07:05,560
thing

2027
01:07:05,560 --> 01:07:08,720
is that if since we typed

2028
01:07:08,720 --> 01:07:13,500
our message section and unfortunately this

2029
01:07:13,500 --> 01:07:14,980
is getting pretty large so i

2030
01:07:14,980 --> 01:07:15,220
might

2031
01:07:15,220 --> 01:07:16,720
want to abstract some of this

2032
01:07:16,720 --> 01:07:19,240
out but if we go to

2033
01:07:19,240 --> 01:07:21,560
right here where our on channel

2034
01:07:21,560 --> 01:07:22,420
message is

2035
01:07:22,420 --> 01:07:26,060
at we have our different messages

2036
01:07:26,060 --> 01:07:29,220
that we can message information here

2037
01:07:29,220 --> 01:07:30,680
that we can actually use so

2038
01:07:30,680 --> 01:07:30,860
if

2039
01:07:30,860 --> 01:07:33,640
we type message dot you'll see

2040
01:07:33,640 --> 01:07:35,660
that it's going to automatically give

2041
01:07:35,660 --> 01:07:37,220
us some information here that

2042
01:07:37,220 --> 01:07:38,460
we can work with so you

2043
01:07:38,460 --> 01:07:40,000
can see that we have sender

2044
01:07:40,000 --> 01:07:43,100
id username all sorts of information

2045
01:07:43,100 --> 01:07:44,160
so the nice

2046
01:07:44,160 --> 01:07:45,300
thing is i can come in

2047
01:07:45,300 --> 01:07:48,020
here and i can go dollar

2048
01:07:48,020 --> 01:07:54,500
sign chat text box dot text

2049
01:07:54,500 --> 01:07:59,580
plus equals message dot user name

2050
01:08:01,000 --> 01:08:08,160
plus colon space plus message dot

2051
01:08:08,160 --> 01:08:09,280
and then if we take a

2052
01:08:09,280 --> 01:08:10,920
look there should be a

2053
01:08:12,800 --> 01:08:19,020
content dot message like that like

2054
01:08:19,020 --> 01:08:21,660
that and we should probably also

2055
01:08:21,660 --> 01:08:24,800
go ahead and pass in a

2056
01:08:24,800 --> 01:08:25,520
new line

2057
01:08:25,520 --> 01:08:27,520
because we want the user to

2058
01:08:27,520 --> 01:08:30,500
have a new line here now

2059
01:08:30,500 --> 01:08:38,400
so let's try this var content

2060
01:08:38,400 --> 01:08:39,700
is equal to

2061
01:08:40,400 --> 01:08:43,920
message dot content and then i

2062
01:08:43,920 --> 01:08:47,240
wonder if content dot message will

2063
01:08:47,240 --> 01:08:47,820
work instead

2064
01:08:48,760 --> 01:08:50,460
okay there we go we'll try

2065
01:08:50,460 --> 01:08:51,680
that and see if that works

2066
01:08:51,680 --> 01:08:53,600
also i'm going to want to

2067
01:08:53,600 --> 01:08:54,960
put a new line at

2068
01:08:54,960 --> 01:08:56,160
the end of this so we'll

2069
01:08:56,160 --> 01:08:58,100
go ahead and do that slash

2070
01:08:58,100 --> 01:08:59,880
n for a new line that

2071
01:08:59,880 --> 01:09:01,020
way every time somebody sends a

2072
01:09:01,020 --> 01:09:01,980
message it's going to be a

2073
01:09:01,980 --> 01:09:04,220
new lined message and now if

2074
01:09:04,220 --> 01:09:06,000
i refresh this in theory this

2075
01:09:06,000 --> 01:09:06,680
should work

2076
01:09:06,680 --> 01:09:08,080
so we'll go ahead and do

2077
01:09:08,080 --> 01:09:12,640
submit test join test to submit

2078
01:09:12,640 --> 01:09:16,640
test join test send and it

2079
01:09:16,640 --> 01:09:18,000
is very unhappy

2080
01:09:18,000 --> 01:09:19,540
so let's take a look you

2081
01:09:19,540 --> 01:09:21,720
can see the content here is

2082
01:09:21,720 --> 01:09:23,740
a string data so it looks

2083
01:09:23,740 --> 01:09:24,500
like we're going to need

2084
01:09:24,500 --> 01:09:27,240
to json parse this information so

2085
01:09:27,240 --> 01:09:29,840
we'll go json dot parse string

2086
01:09:29,840 --> 01:09:32,100
and we'll go ahead and pass

2087
01:09:32,100 --> 01:09:32,740
that in

2088
01:09:33,460 --> 01:09:34,560
and there we go and that

2089
01:09:34,560 --> 01:09:37,220
should fix that problem basically content

2090
01:09:37,220 --> 01:09:39,680
is a json value so that's

2091
01:09:39,680 --> 01:09:40,840
something that i didn't think about

2092
01:09:40,840 --> 01:09:43,180
i'm talking without thinking as i'm

2093
01:09:43,180 --> 01:09:44,300
doing this tutorial so

2094
01:09:44,300 --> 01:09:46,320
forgive me but we need to

2095
01:09:46,320 --> 01:09:47,800
actually parse that data so now

2096
01:09:47,800 --> 01:09:49,680
if we hit send you'll see

2097
01:09:49,680 --> 01:09:52,060
test test test

2098
01:09:52,880 --> 01:09:55,760
this is a test message like

2099
01:09:55,760 --> 01:09:58,080
so test to this is a

2100
01:09:58,080 --> 01:10:00,120
test message and that's basically how

2101
01:10:00,120 --> 01:10:00,540
you could do

2102
01:10:00,540 --> 01:10:03,760
a very basic communication system so

2103
01:10:03,760 --> 01:10:05,220
now the question is okay great

2104
01:10:05,220 --> 01:10:08,240
that's fine but how do i

2105
01:10:08,240 --> 01:10:11,320
actually do group chats and in

2106
01:10:11,320 --> 01:10:15,980
order to do group chats what

2107
01:10:15,980 --> 01:10:17,080
we need to do is we

2108
01:10:17,080 --> 01:10:17,800
need to come in here

2109
01:10:18,400 --> 01:10:19,940
and we need to go ahead

2110
01:10:19,940 --> 01:10:22,660
and grab another join chat here

2111
01:10:22,660 --> 01:10:23,960
and what i'm going to do

2112
01:10:23,960 --> 01:10:25,080
is i'm going to unhide

2113
01:10:25,080 --> 01:10:27,060
my group section and i guess

2114
01:10:27,060 --> 01:10:29,240
i'll just move it over so

2115
01:10:29,240 --> 01:10:29,960
we have a little bit more

2116
01:10:29,960 --> 01:10:31,800
space let's grab

2117
01:10:31,800 --> 01:10:33,360
this guy we'll drag him over

2118
01:10:33,360 --> 01:10:36,560
like this it's getting a little

2119
01:10:36,560 --> 01:10:38,480
on the cramped side with our

2120
01:10:38,480 --> 01:10:39,900
setup here so

2121
01:10:39,900 --> 01:10:41,900
i might need to readjust some

2122
01:10:41,900 --> 01:10:43,920
stuff but i don't think i

2123
01:10:43,920 --> 01:10:45,580
can fit it really up here

2124
01:10:45,580 --> 01:10:46,640
so we'll just kind

2125
01:10:46,640 --> 01:10:48,860
of push it over here and

2126
01:10:48,860 --> 01:10:50,140
that should just work i mean

2127
01:10:50,140 --> 01:10:51,140
it's a little tight but it

2128
01:10:51,140 --> 01:10:51,680
will work for

2129
01:10:51,680 --> 01:10:53,420
the demonstration we're trying to do

2130
01:10:53,420 --> 01:10:55,560
here so if i grab this

2131
01:10:55,560 --> 01:10:58,180
guy here i right click disconnect

2132
01:10:58,180 --> 01:11:00,700
inspector change this to join a

2133
01:11:00,700 --> 01:11:04,180
group chat like so when you

2134
01:11:04,180 --> 01:11:05,540
want to do a group chat

2135
01:11:05,540 --> 01:11:06,560
all you got to do

2136
01:11:07,140 --> 01:11:11,060
is come in and basically i

2137
01:11:11,060 --> 01:11:12,700
move this guy over there we

2138
01:11:12,700 --> 01:11:14,420
go all you really need to

2139
01:11:14,420 --> 01:11:15,320
do is you need to come

2140
01:11:15,320 --> 01:11:15,440
in

2141
01:11:15,440 --> 01:11:17,920
here connect your button down so

2142
01:11:17,920 --> 01:11:19,160
go ahead and connect that over

2143
01:11:19,160 --> 01:11:20,860
here and then we can come

2144
01:11:20,860 --> 01:11:21,300
in here

2145
01:11:21,300 --> 01:11:24,460
and basically just grab this exact

2146
01:11:24,460 --> 01:11:26,020
code right here it's almost a

2147
01:11:26,020 --> 01:11:27,220
duplication right it's almost

2148
01:11:27,220 --> 01:11:29,500
exactly the same we'll just drop

2149
01:11:29,500 --> 01:11:31,660
that guy in there and all

2150
01:11:31,660 --> 01:11:33,000
we really need to do

2151
01:11:34,600 --> 01:11:37,780
is come in here and when

2152
01:11:37,780 --> 01:11:41,660
we do our join socket asynchronously

2153
01:11:41,660 --> 01:11:43,040
we just basically need to pass

2154
01:11:43,040 --> 01:11:43,200
in

2155
01:11:43,200 --> 01:11:44,640
our group id so we'll say

2156
01:11:44,640 --> 01:11:46,200
and i believe we have a

2157
01:11:46,200 --> 01:11:48,560
group if i remember correctly so

2158
01:11:48,560 --> 01:11:50,580
selected group dot id

2159
01:11:51,200 --> 01:11:52,620
and then we can pass in

2160
01:11:52,620 --> 01:11:54,640
type for persistence we're going to

2161
01:11:54,640 --> 01:11:56,000
want to say true because we

2162
01:11:56,000 --> 01:11:56,560
want to keep

2163
01:11:56,560 --> 01:11:59,660
that group around right and then

2164
01:11:59,660 --> 01:12:01,340
we want it to be persistent

2165
01:12:01,340 --> 01:12:02,880
and we also want to change

2166
01:12:02,880 --> 01:12:03,820
this to a type

2167
01:12:03,820 --> 01:12:06,740
group chat and then what we

2168
01:12:06,740 --> 01:12:08,080
can do is we can come

2169
01:12:08,080 --> 01:12:11,900
in here hit play come over

2170
01:12:11,900 --> 01:12:15,020
here submit test we will

2171
01:12:15,020 --> 01:12:16,820
go ahead and create a group

2172
01:12:16,820 --> 01:12:18,360
so that way now our group

2173
01:12:18,360 --> 01:12:20,720
actually exists so if we refresh

2174
01:12:20,720 --> 01:12:21,280
our groups

2175
01:12:21,280 --> 01:12:22,400
i'll have to re-log in

2176
01:12:22,400 --> 01:12:24,060
because this is another recording session

2177
01:12:24,060 --> 01:12:25,240
and you can see we now

2178
01:12:25,240 --> 01:12:25,640
have a

2179
01:12:25,640 --> 01:12:27,040
test group and we are now

2180
01:12:27,040 --> 01:12:28,820
a part of it now from

2181
01:12:28,820 --> 01:12:30,840
here we can join that group

2182
01:12:30,840 --> 01:12:33,140
with test too so we'll come

2183
01:12:33,140 --> 01:12:33,300
in

2184
01:12:33,300 --> 01:12:34,800
here and i already did this

2185
01:12:34,800 --> 01:12:36,380
one so we'll do test to

2186
01:12:36,380 --> 01:12:40,360
test join group and it got

2187
01:12:40,360 --> 01:12:41,560
mad at me because our

2188
01:12:41,560 --> 01:12:43,700
selected group is not correct and

2189
01:12:43,700 --> 01:12:45,480
that's my fault so that's totally

2190
01:12:45,480 --> 01:12:47,480
fine so i will have to

2191
01:12:47,480 --> 01:12:48,340
refresh real

2192
01:12:48,340 --> 01:12:51,460
quick so we'll say submit test

2193
01:12:51,460 --> 01:12:53,540
we will go ahead and list

2194
01:12:53,540 --> 01:12:55,860
our groups we'll select our test

2195
01:12:55,860 --> 01:12:56,580
group we'll do

2196
01:12:56,580 --> 01:12:59,360
test to list our groups select

2197
01:12:59,360 --> 01:13:01,620
it join that group and then

2198
01:13:01,620 --> 01:13:03,860
when we join our chat we

2199
01:13:03,860 --> 01:13:04,580
can just join

2200
01:13:04,580 --> 01:13:06,580
group chat growing group chat and

2201
01:13:06,580 --> 01:13:08,020
then test and you will see

2202
01:13:08,020 --> 01:13:09,760
that this guy now gets it

2203
01:13:09,760 --> 01:13:10,340
and if we go

2204
01:13:10,340 --> 01:13:13,680
this is a test message and

2205
01:13:13,680 --> 01:13:15,180
we send that guy you can

2206
01:13:15,180 --> 01:13:17,000
see that that message gets sent

2207
01:13:17,000 --> 01:13:18,420
now you might be

2208
01:13:18,420 --> 01:13:21,220
going okay so why does this

2209
01:13:21,220 --> 01:13:23,800
matter right what is the benefit

2210
01:13:23,800 --> 01:13:26,320
of a group chat versus a

2211
01:13:26,320 --> 01:13:27,500
dynamic chat

2212
01:13:28,200 --> 01:13:31,520
well where a group chat matters

2213
01:13:31,520 --> 01:13:33,460
and why it's important is because

2214
01:13:33,460 --> 01:13:35,240
you can do what's called listing

2215
01:13:35,240 --> 01:13:37,780
the message history so because it's

2216
01:13:37,780 --> 01:13:39,600
a persistent chat we're going to

2217
01:13:39,600 --> 01:13:40,960
be able to pull back all

2218
01:13:40,960 --> 01:13:41,280
of that

2219
01:13:41,280 --> 01:13:43,440
information so the reason why that's

2220
01:13:43,440 --> 01:13:45,740
cool is because we can come

2221
01:13:45,740 --> 01:13:47,300
in here and we can say

2222
01:13:47,300 --> 01:13:48,920
okay when the

2223
01:13:48,920 --> 01:13:51,180
user joins a group which we'll

2224
01:13:51,180 --> 01:13:53,940
have to scroll down here to

2225
01:13:53,940 --> 01:13:55,580
right here and we'll need to

2226
01:13:55,580 --> 01:13:56,620
go ahead and

2227
01:13:56,620 --> 01:13:59,420
come in here and list out

2228
01:13:59,420 --> 01:14:02,180
that information so we'll say far

2229
01:14:02,180 --> 01:14:07,260
result is equal to await client

2230
01:14:07,260 --> 01:14:08,860
dot list

2231
01:14:08,860 --> 01:14:12,600
channel messages asynchronous we'll pass in

2232
01:14:12,600 --> 01:14:16,260
our session and then we'll pass

2233
01:14:16,260 --> 01:14:17,640
in our currently

2234
01:14:17,640 --> 01:14:19,920
selected groups so selected group dot

2235
01:14:19,920 --> 01:14:22,380
id we could pass in a

2236
01:14:22,380 --> 01:14:23,820
limit value so in our case

2237
01:14:23,820 --> 01:14:24,300
we'll just do

2238
01:14:24,300 --> 01:14:26,260
100 that's a very decent value

2239
01:14:26,260 --> 01:14:29,640
forward basically forward is forward or

2240
01:14:29,640 --> 01:14:30,640
backwards right so we can

2241
01:14:30,640 --> 01:14:31,980
grab the oldest or the newest

2242
01:14:31,980 --> 01:14:33,380
and that's what forward is is

2243
01:14:33,380 --> 01:14:35,100
forward is the newest so we'll

2244
01:14:35,100 --> 01:14:35,800
say forward

2245
01:14:36,540 --> 01:14:39,740
so we'll say true comma and

2246
01:14:39,740 --> 01:14:41,900
then i believe they have a

2247
01:14:41,900 --> 01:14:44,620
cursor value as well and cursor

2248
01:14:44,620 --> 01:14:46,380
is if i remember

2249
01:14:46,380 --> 01:14:48,560
correctly it's defaulted let's double check

2250
01:14:48,560 --> 01:14:49,880
really quick if we hit comma

2251
01:14:49,880 --> 01:14:52,040
cursor variance is null so

2252
01:14:52,040 --> 01:14:54,320
cursor allows you to say i

2253
01:14:54,320 --> 01:14:55,860
want you to start at this

2254
01:14:55,860 --> 01:14:57,200
point so if you're picking up

2255
01:14:57,200 --> 01:14:59,420
the next 100 values let's

2256
01:14:59,420 --> 01:15:01,360
say you have 500 messages you

2257
01:15:01,360 --> 01:15:04,280
can pass in number 200 and

2258
01:15:04,280 --> 01:15:05,780
then it'll grab from 200 to

2259
01:15:05,780 --> 01:15:07,000
300 if that makes

2260
01:15:07,000 --> 01:15:08,600
sense so in our case i'll

2261
01:15:08,600 --> 01:15:10,200
just leave that as null because

2262
01:15:10,200 --> 01:15:11,380
it's just going to be easier

2263
01:15:11,380 --> 01:15:11,880
for us to work

2264
01:15:11,880 --> 01:15:13,860
with it now we can go

2265
01:15:13,860 --> 01:15:18,420
for message in result dot message

2266
01:15:18,420 --> 01:15:23,900
like that messages like that and

2267
01:15:23,900 --> 01:15:24,200
then

2268
01:15:24,200 --> 01:15:27,740
we can basically just go exactly

2269
01:15:27,740 --> 01:15:29,600
what we did before so we

2270
01:15:29,600 --> 01:15:31,440
can come up here and grab

2271
01:15:31,440 --> 01:15:32,500
if you remember how

2272
01:15:32,500 --> 01:15:35,220
we actually parsed out our data

2273
01:15:35,220 --> 01:15:37,460
which arguably i should move this

2274
01:15:37,460 --> 01:15:40,240
down closer to my actual message

2275
01:15:40,240 --> 01:15:41,780
functionality so let's go ahead and

2276
01:15:41,780 --> 01:15:43,620
just do that really quick we'll

2277
01:15:43,620 --> 01:15:46,040
come down here and just drop

2278
01:15:46,040 --> 01:15:49,100
it right let's see this is

2279
01:15:49,100 --> 01:15:51,820
group stuff this is chat stuff

2280
01:15:51,820 --> 01:15:52,940
so we'll go ahead and just

2281
01:15:52,940 --> 01:15:53,860
drop it right there

2282
01:15:53,860 --> 01:15:55,800
and that'll just kind of keep

2283
01:15:55,800 --> 01:15:57,860
it within the group area so

2284
01:15:57,860 --> 01:15:59,560
that way i can basically come

2285
01:15:59,560 --> 01:16:00,820
in here and do

2286
01:16:00,820 --> 01:16:05,060
this and say chat room code

2287
01:16:05,060 --> 01:16:06,320
right here and that'll give me

2288
01:16:06,320 --> 01:16:08,040
somewhere to actually look at this

2289
01:16:08,040 --> 01:16:08,820
now what

2290
01:16:08,820 --> 01:16:09,840
we can do is we can

2291
01:16:09,840 --> 01:16:12,980
basically just grab this copy it

2292
01:16:12,980 --> 01:16:15,660
and paste and that's all we

2293
01:16:15,660 --> 01:16:16,940
need to do and then

2294
01:16:16,940 --> 01:16:18,900
in theory this should just work

2295
01:16:18,900 --> 01:16:20,460
so now if we hit play

2296
01:16:20,460 --> 01:16:23,460
in theory if we're lucky it

2297
01:16:23,460 --> 01:16:24,400
will work so we'll go

2298
01:16:24,400 --> 01:16:27,840
here we'll say list groups select

2299
01:16:27,840 --> 01:16:30,640
group join group chat and we

2300
01:16:30,640 --> 01:16:34,100
got an error message return response

2301
01:16:34,100 --> 01:16:37,220
invalid channel id so we have

2302
01:16:37,220 --> 01:16:39,000
a failure here that says that

2303
01:16:39,000 --> 01:16:41,740
our channel id is incorrect so

2304
01:16:41,740 --> 01:16:42,880
let's see

2305
01:16:43,780 --> 01:16:48,920
join chat asynchronously list channel messages

2306
01:16:48,920 --> 01:16:50,760
that should be correct

2307
01:16:52,660 --> 01:16:54,820
is it printing out what i

2308
01:16:54,820 --> 01:16:57,280
expect let's see so i don't

2309
01:16:57,280 --> 01:17:00,500
think that this worked 100 here

2310
01:17:00,500 --> 01:17:01,180
so let's try

2311
01:17:01,180 --> 01:17:05,540
by submitting list groups select group

2312
01:17:05,540 --> 01:17:06,960
that should select our group

2313
01:17:10,020 --> 01:17:11,640
and then i should be able

2314
01:17:11,640 --> 01:17:13,640
to join group chat but it

2315
01:17:13,640 --> 01:17:15,480
did not take it so the

2316
01:17:15,480 --> 01:17:16,480
question is is it because

2317
01:17:16,480 --> 01:17:18,060
i failed to join the group

2318
01:17:18,060 --> 01:17:21,020
chat or did it fail here

2319
01:17:21,020 --> 01:17:23,680
so if we do this the

2320
01:17:23,680 --> 01:17:25,140
id of the group

2321
01:17:25,140 --> 01:17:28,840
id is string get return if

2322
01:17:28,840 --> 01:17:31,880
not string else string await list

2323
01:17:31,880 --> 01:17:34,180
channel messages try refresh

2324
01:17:34,700 --> 01:17:36,460
and it's gonna run through that

2325
01:17:36,460 --> 01:17:39,540
real quick but it didn't do

2326
01:17:39,540 --> 01:17:42,980
anything as expected so

2327
01:17:44,420 --> 01:17:46,180
if i drop a breakpoint here

2328
01:17:46,180 --> 01:17:50,560
what is result result is an

2329
01:17:50,560 --> 01:17:53,820
object id cacheable null null so

2330
01:17:53,820 --> 01:17:54,240
we got a

2331
01:17:54,240 --> 01:17:57,980
nakama exception invalid channel id so

2332
01:17:57,980 --> 01:17:59,580
the question is is did our

2333
01:17:59,580 --> 01:18:01,920
channel get saved let's go ahead

2334
01:18:01,920 --> 01:18:02,080
and

2335
01:18:02,080 --> 01:18:03,820
take a look at nakama really

2336
01:18:03,820 --> 01:18:08,100
quick chat messages group chat no

2337
01:18:08,100 --> 01:18:10,620
messages found so our group chat

2338
01:18:10,620 --> 01:18:10,920
just

2339
01:18:10,920 --> 01:18:13,440
doesn't exist so that's not great

2340
01:18:13,440 --> 01:18:14,960
so that means something went wrong

2341
01:18:14,960 --> 01:18:16,620
with how we initialized our

2342
01:18:16,620 --> 01:18:18,680
group chat i think okay so

2343
01:18:18,680 --> 01:18:19,840
i figured out the issue so

2344
01:18:19,840 --> 01:18:23,240
basically when we do our list

2345
01:18:23,240 --> 01:18:24,080
channel messages

2346
01:18:24,080 --> 01:18:25,560
async we need to actually do

2347
01:18:25,560 --> 01:18:28,660
our current channel dot id instead

2348
01:18:28,660 --> 01:18:30,060
so when we do our join

2349
01:18:30,060 --> 01:18:30,940
chat asynchronous

2350
01:18:30,940 --> 01:18:32,600
we pull back a channel and

2351
01:18:32,600 --> 01:18:34,080
that's the channel that we're currently

2352
01:18:34,080 --> 01:18:36,300
in and basically we need to

2353
01:18:36,300 --> 01:18:36,860
go and

2354
01:18:36,860 --> 01:18:39,620
list those message right here and

2355
01:18:39,620 --> 01:18:40,640
then i have a section here

2356
01:18:40,640 --> 01:18:44,100
for messages in result messages if

2357
01:18:44,100 --> 01:18:44,280
the

2358
01:18:44,280 --> 01:18:47,020
message content does not contain an

2359
01:18:47,020 --> 01:18:48,580
empty so if for some reason

2360
01:18:48,580 --> 01:18:49,860
a message gets in there that's

2361
01:18:49,860 --> 01:18:50,200
empty

2362
01:18:50,200 --> 01:18:51,220
when we try to parse it

2363
01:18:51,220 --> 01:18:53,000
it's going to break so i

2364
01:18:53,000 --> 01:18:54,800
have this little if statement right

2365
01:18:54,800 --> 01:18:55,420
here that

2366
01:18:55,420 --> 01:18:57,080
basically just checks to see if

2367
01:18:57,080 --> 01:18:58,660
it's empty if it is ignore

2368
01:18:58,660 --> 01:18:59,740
it and there's no reason to

2369
01:18:59,740 --> 01:19:00,120
have it

2370
01:19:00,120 --> 01:19:02,060
so now if i hit play

2371
01:19:02,060 --> 01:19:05,300
you'll notice that when i come

2372
01:19:05,300 --> 01:19:06,360
in here and i hit submit

2373
01:19:06,360 --> 01:19:08,260
i list my groups i

2374
01:19:08,260 --> 01:19:10,100
select my groups and i join

2375
01:19:10,100 --> 01:19:11,240
my group chat you'll see i

2376
01:19:11,240 --> 01:19:14,240
pull back those messages and that's

2377
01:19:14,240 --> 01:19:14,940
one of the

2378
01:19:14,940 --> 01:19:17,160
big cool features of nakama is

2379
01:19:17,160 --> 01:19:19,160
that it keeps track of all

2380
01:19:19,160 --> 01:19:21,400
of that information because this is

2381
01:19:21,400 --> 01:19:22,120
after we

2382
01:19:22,120 --> 01:19:25,340
removed and rebooted the system right

2383
01:19:25,340 --> 01:19:27,560
it actually came back with the

2384
01:19:27,560 --> 01:19:29,740
proper messages that's basically

2385
01:19:29,740 --> 01:19:33,540
what persistence does right here this

2386
01:19:33,540 --> 01:19:37,040
true right here causes it to

2387
01:19:37,040 --> 01:19:38,960
be saved and to be reusable

2388
01:19:38,960 --> 01:19:39,720
later

2389
01:19:39,720 --> 01:19:41,900
that's one of the big cool

2390
01:19:41,900 --> 01:19:44,200
advantages here so now the question

2391
01:19:44,200 --> 01:19:46,120
is okay so how do i

2392
01:19:46,120 --> 01:19:47,400
do peer-to-peer

2393
01:19:47,400 --> 01:19:50,280
messaging well it's not technically peer

2394
01:19:50,280 --> 01:19:51,240
-to-peer but how do i

2395
01:19:51,240 --> 01:19:53,700
send messages directly to a user

2396
01:19:54,360 --> 01:19:57,860
well again it's relatively simple if

2397
01:19:57,860 --> 01:20:01,200
we come into our stuff here

2398
01:20:01,200 --> 01:20:03,780
we control c control v join

2399
01:20:03,780 --> 01:20:04,560
group chat

2400
01:20:04,560 --> 01:20:06,360
and then instead of join group

2401
01:20:06,360 --> 01:20:10,680
chat we have a join direct

2402
01:20:10,680 --> 01:20:13,640
chat i go ahead and grab

2403
01:20:13,640 --> 01:20:15,440
our where is it

2404
01:20:15,440 --> 01:20:17,040
join group chat right here and

2405
01:20:17,040 --> 01:20:22,260
i change this to join direct

2406
01:20:22,260 --> 01:20:25,060
chat like that we can come

2407
01:20:25,060 --> 01:20:25,440
in here

2408
01:20:25,440 --> 01:20:28,140
disconnect right click connect and connect

2409
01:20:28,140 --> 01:20:29,700
now in order to do a

2410
01:20:29,700 --> 01:20:31,380
direct chat it's actually relatively

2411
01:20:31,380 --> 01:20:33,560
easy it's exactly the same as

2412
01:20:33,560 --> 01:20:35,340
everything else you come in here

2413
01:20:35,340 --> 01:20:37,700
you go join chat room right

2414
01:20:37,700 --> 01:20:38,840
here copy it

2415
01:20:38,840 --> 01:20:41,260
come down here paste well really

2416
01:20:41,260 --> 01:20:42,640
actually we probably should just grab

2417
01:20:42,640 --> 01:20:44,080
this to be honest it's going

2418
01:20:44,080 --> 01:20:44,160
to

2419
01:20:44,160 --> 01:20:45,100
save us a bit of trouble

2420
01:20:45,100 --> 01:20:46,800
so if we paste this guy

2421
01:20:46,800 --> 01:20:48,780
in here change the channel type

2422
01:20:48,780 --> 01:20:50,760
to direct message

2423
01:20:50,760 --> 01:20:53,440
like that instead of having a

2424
01:20:53,440 --> 01:20:55,720
selected group id we need to

2425
01:20:55,720 --> 01:20:58,720
grab the user id in terms

2426
01:20:58,720 --> 01:20:59,400
of persistence

2427
01:20:59,400 --> 01:21:00,780
we want to keep true we

2428
01:21:00,780 --> 01:21:02,100
also want to keep false for

2429
01:21:02,100 --> 01:21:04,660
hidden but for this join chat

2430
01:21:04,660 --> 01:21:05,740
asynchronous we can

2431
01:21:05,740 --> 01:21:07,500
go ahead and pass in a

2432
01:21:07,500 --> 01:21:10,480
user id so we need to

2433
01:21:10,480 --> 01:21:13,700
get our actual user identifier and

2434
01:21:13,700 --> 01:21:14,860
the easiest way to do

2435
01:21:14,860 --> 01:21:16,400
that is by using the get

2436
01:21:16,400 --> 01:21:18,480
users asynchronous call if you remember

2437
01:21:18,480 --> 01:21:19,800
we did that earlier so we'll

2438
01:21:19,800 --> 01:21:20,380
just say

2439
01:21:21,020 --> 01:21:24,160
var users is equal to await

2440
01:21:24,160 --> 01:21:29,560
client dot get users asynchronous and

2441
01:21:29,560 --> 01:21:31,120
then we'll pass in our session

2442
01:21:31,120 --> 01:21:32,220
and we need to

2443
01:21:32,220 --> 01:21:34,480
pass in a id pack string

2444
01:21:34,480 --> 01:21:36,480
array and then the user name

2445
01:21:36,480 --> 01:21:37,940
that we're going to be passing

2446
01:21:37,940 --> 01:21:38,260
in

2447
01:21:38,720 --> 01:21:41,060
so in our case i think

2448
01:21:41,060 --> 01:21:42,100
if we take a look at

2449
01:21:42,100 --> 01:21:43,700
our user interface we have a

2450
01:21:43,700 --> 01:21:45,720
chat name we could probably just

2451
01:21:45,720 --> 01:21:47,480
take that i think that will

2452
01:21:47,480 --> 01:21:49,880
work so for the chat name

2453
01:21:49,880 --> 01:21:51,560
what i'll do is i'll just

2454
01:21:51,560 --> 01:21:53,260
pull this guy which

2455
01:21:53,260 --> 01:21:55,040
is chat name so we'll come

2456
01:21:55,040 --> 01:21:57,100
into our script we'll hit dollar

2457
01:21:57,100 --> 01:22:00,080
sign chat name dot text

2458
01:22:02,220 --> 01:22:03,680
and then that should bring back

2459
01:22:03,680 --> 01:22:05,980
our users so now we know

2460
01:22:05,980 --> 01:22:06,720
that it's going to bring back

2461
01:22:06,720 --> 01:22:08,700
one user and that's it so

2462
01:22:08,700 --> 01:22:09,680
since it's going to bring back

2463
01:22:09,680 --> 01:22:12,380
one user we can basically just

2464
01:22:12,380 --> 01:22:12,720
do

2465
01:22:15,180 --> 01:22:20,540
if users dot size is greater

2466
01:22:20,540 --> 01:22:23,300
than zero then we can do

2467
01:22:23,300 --> 01:22:24,520
the rest of this bit of

2468
01:22:24,520 --> 01:22:26,080
code here and then we

2469
01:22:26,080 --> 01:22:27,940
just pass in and say users

2470
01:22:27,940 --> 01:22:31,180
bracket bracket zero dot id and

2471
01:22:31,180 --> 01:22:33,160
that'll pass back a user id

2472
01:22:33,160 --> 01:22:34,560
that we can

2473
01:22:34,560 --> 01:22:36,860
actually communicate with so now in

2474
01:22:36,860 --> 01:22:38,620
theory this should work and of

2475
01:22:38,620 --> 01:22:40,100
course as always with theory it

2476
01:22:40,100 --> 01:22:41,700
doesn't always work but we'll see

2477
01:22:41,700 --> 01:22:44,060
so we'll submit as test we'll

2478
01:22:44,060 --> 01:22:46,480
submit as test two and then

2479
01:22:46,480 --> 01:22:47,980
we'll go test

2480
01:22:47,980 --> 01:22:51,300
test two join direct chat it's

2481
01:22:51,300 --> 01:22:54,600
mad and that's because users came

2482
01:22:54,600 --> 01:22:57,820
back let's see with an array

2483
01:22:57,820 --> 01:22:59,240
it looks like it's users dot

2484
01:22:59,240 --> 01:23:01,640
users so that's my fault so

2485
01:23:01,640 --> 01:23:04,560
we'll say users dot users and

2486
01:23:04,560 --> 01:23:04,780
i should

2487
01:23:04,780 --> 01:23:06,360
probably just do this as results

2488
01:23:06,360 --> 01:23:11,660
then or perhaps user results because

2489
01:23:11,660 --> 01:23:13,840
we don't want to mess with

2490
01:23:13,840 --> 01:23:14,140
our

2491
01:23:14,140 --> 01:23:15,640
current code down here that has

2492
01:23:15,640 --> 01:23:17,640
results already we'll just do that

2493
01:23:17,640 --> 01:23:20,500
and then for this we'll just

2494
01:23:20,500 --> 01:23:20,720
say

2495
01:23:20,720 --> 01:23:27,240
user result dot users bracket bracket

2496
01:23:27,240 --> 01:23:29,080
zero because we now know that

2497
01:23:29,080 --> 01:23:30,260
we need to go a little

2498
01:23:30,260 --> 01:23:30,800
bit deeper

2499
01:23:30,800 --> 01:23:32,720
than what we expected so now

2500
01:23:32,720 --> 01:23:35,480
if we go ahead and submit

2501
01:23:35,480 --> 01:23:39,300
test two join direct chat now

2502
01:23:39,300 --> 01:23:40,020
we're in a direct

2503
01:23:40,020 --> 01:23:42,960
chat if we go into test

2504
01:23:42,960 --> 01:23:45,200
two and we go to test

2505
01:23:45,200 --> 01:23:48,600
join direct chat we pass test

2506
01:23:48,600 --> 01:23:49,000
in

2507
01:23:51,940 --> 01:23:53,520
okay so i think i figured

2508
01:23:53,520 --> 01:23:54,600
out what's going on here so

2509
01:23:54,600 --> 01:23:55,620
i commented this out

2510
01:23:55,620 --> 01:23:56,880
just so we could check it

2511
01:23:56,880 --> 01:23:58,640
out but what i think is

2512
01:23:58,640 --> 01:24:02,520
going on here is remember in

2513
01:24:02,520 --> 01:24:05,400
our previous tutorial we had

2514
01:24:06,780 --> 01:24:10,660
test block test two and because

2515
01:24:10,660 --> 01:24:12,900
they're blocked they can't send them

2516
01:24:12,900 --> 01:24:15,520
messages so it completely

2517
01:24:15,520 --> 01:24:16,680
stops them from being able to

2518
01:24:16,680 --> 01:24:18,740
communicate with each other and that's

2519
01:24:18,740 --> 01:24:21,340
why this is happening so if

2520
01:24:21,340 --> 01:24:21,920
i remove

2521
01:24:21,920 --> 01:24:24,460
this let's see what happens if

2522
01:24:24,460 --> 01:24:25,940
i do that so we'll go

2523
01:24:25,940 --> 01:24:27,540
ahead and come in here we'll

2524
01:24:27,540 --> 01:24:29,240
control s we'll hit play

2525
01:24:29,240 --> 01:24:31,460
and then we'll try it one

2526
01:24:31,460 --> 01:24:33,460
more time so we'll do submit

2527
01:24:33,460 --> 01:24:37,320
test to submit test join direct

2528
01:24:37,320 --> 01:24:39,280
chat test to

2529
01:24:39,280 --> 01:24:41,940
join direct chat test we will

2530
01:24:41,940 --> 01:24:43,900
send a message and that will

2531
01:24:43,900 --> 01:24:46,780
now work now the reason why

2532
01:24:46,780 --> 01:24:47,720
this didn't

2533
01:24:47,720 --> 01:24:50,160
work was because test had test

2534
01:24:50,160 --> 01:24:51,860
two blocks so since they're blocked

2535
01:24:51,860 --> 01:24:54,200
they can't communicate at all so

2536
01:24:54,200 --> 01:24:56,140
that's the reason why this happened

2537
01:24:56,140 --> 01:24:59,540
so it was my fault but

2538
01:24:59,540 --> 01:25:01,520
that was basically the reasoning now

2539
01:25:01,520 --> 01:25:01,760
if

2540
01:25:01,760 --> 01:25:04,420
we go ahead and stop this

2541
01:25:04,420 --> 01:25:06,140
and then we come in here

2542
01:25:06,140 --> 01:25:08,840
and uncomment this with control k

2543
01:25:08,840 --> 01:25:10,880
and then we run

2544
01:25:10,880 --> 01:25:12,840
this bad boy in theory we

2545
01:25:12,840 --> 01:25:13,960
should be able to see our

2546
01:25:13,960 --> 01:25:17,640
previous communications so test to join

2547
01:25:17,640 --> 01:25:18,640
direct chat

2548
01:25:18,640 --> 01:25:20,560
and you will see there's all

2549
01:25:20,560 --> 01:25:21,820
of our messages now i'm getting

2550
01:25:21,820 --> 01:25:23,460
a little bit additional messages

2551
01:25:23,460 --> 01:25:26,660
mostly because of my testing not

2552
01:25:26,660 --> 01:25:29,260
because of a problem with nakama

2553
01:25:29,260 --> 01:25:30,540
that's just something that i

2554
01:25:30,540 --> 01:25:32,260
did on my own by accident

2555
01:25:32,260 --> 01:25:34,720
but you can see here are

2556
01:25:34,720 --> 01:25:36,720
all of the messages that we

2557
01:25:36,720 --> 01:25:39,160
have so that's basically

2558
01:25:39,160 --> 01:25:44,700
how you do messages back and

2559
01:25:44,700 --> 01:25:46,420
forth inside of nakama

2560
01:25:48,920 --> 01:25:50,960
hey guys editor mitch here so

2561
01:25:50,960 --> 01:25:53,200
something that you should do once

2562
01:25:53,200 --> 01:25:55,420
you do your chat system and

2563
01:25:55,420 --> 01:25:55,640
you get

2564
01:25:55,640 --> 01:25:58,560
that guy settled when you have

2565
01:25:58,560 --> 01:26:01,260
this chat right here what you

2566
01:26:01,260 --> 01:26:04,640
should also do is subscribe to

2567
01:26:04,640 --> 01:26:05,320
everybody's

2568
01:26:05,320 --> 01:26:07,460
channels so if you have friends

2569
01:26:07,460 --> 01:26:09,420
or some kind of channel system

2570
01:26:09,420 --> 01:26:11,460
you need to subscribe to that

2571
01:26:11,460 --> 01:26:12,120
channel so

2572
01:26:12,120 --> 01:26:13,360
what i'm gonna do is come

2573
01:26:13,360 --> 01:26:15,620
up to my on login login

2574
01:26:15,620 --> 01:26:16,940
button down so when i press

2575
01:26:16,940 --> 01:26:18,460
my login i'm gonna go

2576
01:26:18,460 --> 01:26:19,940
ahead and come in here and

2577
01:26:19,940 --> 01:26:21,220
i'm gonna have sub to

2578
01:26:24,060 --> 01:26:27,680
friend channels like that now i'm

2579
01:26:27,680 --> 01:26:29,000
gonna scroll down and i have

2580
01:26:29,000 --> 01:26:30,700
a chat section in here so

2581
01:26:30,700 --> 01:26:31,200
you can see

2582
01:26:31,200 --> 01:26:33,000
we have our little group section

2583
01:26:33,000 --> 01:26:35,700
right here we scroll down we

2584
01:26:35,700 --> 01:26:37,080
have a chat room code right

2585
01:26:37,080 --> 01:26:37,680
here so this is

2586
01:26:37,680 --> 01:26:39,760
our chat section so right here

2587
01:26:39,760 --> 01:26:43,800
just somewhere in this general section

2588
01:26:43,800 --> 01:26:45,840
here we're gonna go ahead and

2589
01:26:45,840 --> 01:26:46,260
add

2590
01:26:46,260 --> 01:26:48,280
in the ability to sub to

2591
01:26:48,280 --> 01:26:50,200
the the friend channels right so

2592
01:26:50,200 --> 01:26:55,060
we'll say funk sub to friends

2593
01:26:56,340 --> 01:26:58,820
channels channels like that and then

2594
01:26:58,820 --> 01:26:59,720
what i'm gonna do is say

2595
01:26:59,720 --> 01:27:03,800
var results is equal to await

2596
01:27:05,000 --> 01:27:09,080
client dot list friends asynchronously i'm

2597
01:27:09,080 --> 01:27:10,840
gonna pass in my session and

2598
01:27:10,840 --> 01:27:11,980
that'll just bring in all of

2599
01:27:11,980 --> 01:27:12,140
my

2600
01:27:12,140 --> 01:27:14,140
friends and then from here i

2601
01:27:14,140 --> 01:27:15,460
can go ahead and subscribe to

2602
01:27:15,460 --> 01:27:17,700
their channel so for i in

2603
01:27:17,700 --> 01:27:20,520
results dot friends

2604
01:27:21,840 --> 01:27:24,200
like that and then i'm gonna

2605
01:27:24,200 --> 01:27:25,640
go ahead and say var type

2606
01:27:25,640 --> 01:27:29,480
is equal to nakama socket dot

2607
01:27:29,480 --> 01:27:32,060
channel type dot direct

2608
01:27:32,060 --> 01:27:34,580
message and then i can go

2609
01:27:34,580 --> 01:27:36,640
ahead and pull back my chat

2610
01:27:36,640 --> 01:27:38,160
that i have so i can

2611
01:27:38,160 --> 01:27:39,340
sub to that channel so i

2612
01:27:39,340 --> 01:27:39,440
can

2613
01:27:39,440 --> 01:27:44,520
say await socket oh i have

2614
01:27:44,520 --> 01:27:46,340
sub to friends sub to friend

2615
01:27:46,340 --> 01:27:48,920
so we'll do friend channels and

2616
01:27:48,920 --> 01:27:49,580
that'll fix that

2617
01:27:49,580 --> 01:27:51,920
little function not found so socket

2618
01:27:51,920 --> 01:27:54,460
dot join chat async and then

2619
01:27:54,460 --> 01:27:55,500
i'll go ahead and pass an

2620
01:27:55,500 --> 01:27:56,860
i dot user

2621
01:27:57,420 --> 01:28:02,500
dot id comma type comma true

2622
01:28:02,500 --> 01:28:05,720
comma false and that'll basically allow

2623
01:28:05,720 --> 01:28:07,300
me to pull those sockets back

2624
01:28:07,300 --> 01:28:07,540
now

2625
01:28:07,540 --> 01:28:09,600
this should return if i remember

2626
01:28:09,600 --> 01:28:11,460
correctly a channel so if we

2627
01:28:11,460 --> 01:28:12,600
actually hit ctrl f you can

2628
01:28:12,600 --> 01:28:13,480
see we have a

2629
01:28:13,480 --> 01:28:14,200
couple of them you can see

2630
01:28:14,200 --> 01:28:15,580
we have current channel right here

2631
01:28:15,580 --> 01:28:17,040
so what i'm going to do

2632
01:28:17,040 --> 01:28:17,940
is i'm going to come

2633
01:28:17,940 --> 01:28:22,740
here and say chat channels is

2634
01:28:22,740 --> 01:28:24,960
equal to a weight socket okay

2635
01:28:24,960 --> 01:28:28,840
and actually now that i think

2636
01:28:28,840 --> 01:28:29,060
about

2637
01:28:29,060 --> 01:28:30,980
this let's do this so we'll

2638
01:28:30,980 --> 01:28:35,480
do channel let's do this channel

2639
01:28:35,480 --> 01:28:38,200
is equal to this and then

2640
01:28:38,200 --> 01:28:38,800
we can come down

2641
01:28:38,800 --> 01:28:42,260
here and just say chat channels

2642
01:28:42,260 --> 01:28:47,480
bracket bracket i dot user dot

2643
01:28:47,480 --> 01:28:50,320
id actually i wonder if i

2644
01:28:50,320 --> 01:28:51,100
should do dot

2645
01:28:51,100 --> 01:28:53,640
user name instead that way it's

2646
01:28:53,640 --> 01:28:56,220
just a more common value and

2647
01:28:56,220 --> 01:28:58,340
i could go is equal to

2648
01:28:58,340 --> 01:29:01,420
channel like that

2649
01:29:01,420 --> 01:29:04,380
and that'll basically hook our channel

2650
01:29:04,380 --> 01:29:06,260
here to this object so i'll

2651
01:29:06,260 --> 01:29:07,660
say var and then there we

2652
01:29:07,660 --> 01:29:07,880
go

2653
01:29:08,620 --> 01:29:11,000
and chat channels doesn't exist yet

2654
01:29:11,000 --> 01:29:12,360
but now we have a key

2655
01:29:12,360 --> 01:29:14,120
value pair here that we can

2656
01:29:14,120 --> 01:29:14,600
use

2657
01:29:14,600 --> 01:29:15,920
and that's going to be really

2658
01:29:15,920 --> 01:29:17,200
big for us if we want

2659
01:29:17,200 --> 01:29:20,620
to use those channels later so

2660
01:29:20,620 --> 01:29:21,860
now i can go ahead

2661
01:29:21,860 --> 01:29:23,240
and grab chat channels i can

2662
01:29:23,240 --> 01:29:25,100
go up to the top var

2663
01:29:25,100 --> 01:29:28,320
chat channels like that and i

2664
01:29:28,320 --> 01:29:29,320
can actually come in

2665
01:29:29,320 --> 01:29:31,760
here and now i have access

2666
01:29:31,760 --> 01:29:33,520
to all of my chats right

2667
01:29:33,520 --> 01:29:34,560
here so if i have like

2668
01:29:34,560 --> 01:29:35,780
100 chats i could actually

2669
01:29:35,780 --> 01:29:38,080
pull back the channel information and

2670
01:29:38,080 --> 01:29:40,780
switch between them really easily using

2671
01:29:40,780 --> 01:29:41,680
this object

2672
01:29:42,200 --> 01:29:44,640
and i'll probably go through that

2673
01:29:44,640 --> 01:29:47,140
later but it's a way to

2674
01:29:47,140 --> 01:29:49,680
extend our chat to be a

2675
01:29:49,680 --> 01:29:52,320
bit more useful if that

2676
01:29:52,320 --> 01:29:55,260
makes sense so if you think

2677
01:29:55,260 --> 01:29:57,260
about it like this basically what

2678
01:29:57,260 --> 01:29:58,380
we could do is we could

2679
01:29:58,380 --> 01:30:00,780
add in a tab

2680
01:30:02,660 --> 01:30:05,740
container right here make that guy

2681
01:30:05,740 --> 01:30:09,180
full screen and then underneath that

2682
01:30:09,180 --> 01:30:10,540
tab container you can

2683
01:30:10,540 --> 01:30:12,780
actually switch between different tabs right

2684
01:30:12,780 --> 01:30:15,080
and i think what we could

2685
01:30:15,080 --> 01:30:15,560
do

2686
01:30:17,260 --> 01:30:18,620
and again this is going to

2687
01:30:18,620 --> 01:30:20,720
be a lot of coding and

2688
01:30:20,720 --> 01:30:22,220
then we could actually come in

2689
01:30:22,220 --> 01:30:24,240
here make this about

2690
01:30:24,240 --> 01:30:25,820
i don't know about this big

2691
01:30:25,820 --> 01:30:27,140
give or take and then we

2692
01:30:27,140 --> 01:30:28,680
could put that chat text underneath

2693
01:30:28,680 --> 01:30:29,480
here right

2694
01:30:30,100 --> 01:30:32,300
and this would allow us to

2695
01:30:32,300 --> 01:30:35,300
in theory do this and then

2696
01:30:35,300 --> 01:30:37,400
change the title of this to

2697
01:30:37,400 --> 01:30:39,580
username like so

2698
01:30:39,580 --> 01:30:41,720
you can see here here's the

2699
01:30:41,720 --> 01:30:44,720
username so what we could do

2700
01:30:44,720 --> 01:30:49,020
at least in theory is on

2701
01:30:49,020 --> 01:30:50,300
startup once we

2702
01:30:50,300 --> 01:30:52,340
subscribe to all of those channels

2703
01:30:52,340 --> 01:30:54,040
it would just fill this out

2704
01:30:54,040 --> 01:30:55,520
so for instance if we come

2705
01:30:55,520 --> 01:30:55,980
in here

2706
01:30:56,900 --> 01:30:59,840
and we go and subscribe to

2707
01:30:59,840 --> 01:31:01,360
those friend channels so if we

2708
01:31:01,360 --> 01:31:03,560
grab this guy bring it down

2709
01:31:03,560 --> 01:31:05,320
here come in here

2710
01:31:05,320 --> 01:31:09,700
and then basically just say tab

2711
01:31:09,700 --> 01:31:11,940
container or i guess it's going

2712
01:31:11,940 --> 01:31:15,220
to be dollar sign tab container

2713
01:31:15,220 --> 01:31:17,200
dot

2714
01:31:18,360 --> 01:31:20,560
add child and then we can

2715
01:31:20,560 --> 01:31:22,840
add a child of this text

2716
01:31:22,840 --> 01:31:27,240
box here so basically if we

2717
01:31:27,240 --> 01:31:28,980
add a child of this text

2718
01:31:28,980 --> 01:31:30,180
box and i'm just kind of

2719
01:31:30,180 --> 01:31:31,620
thinking this through as i talk

2720
01:31:31,620 --> 01:31:32,900
to you guys so my apologies

2721
01:31:32,900 --> 01:31:34,620
for how confusing this

2722
01:31:34,620 --> 01:31:35,760
is probably going to end up

2723
01:31:35,760 --> 01:31:40,700
being but we could do a

2724
01:31:40,700 --> 01:31:43,440
text box so this is going

2725
01:31:43,440 --> 01:31:45,680
to be a text edit so

2726
01:31:45,680 --> 01:31:46,980
var

2727
01:31:48,920 --> 01:31:51,360
current edit is equal to text

2728
01:31:51,360 --> 01:31:54,100
edit dot new like that and

2729
01:31:54,100 --> 01:31:55,580
then we could pass in our

2730
01:31:55,580 --> 01:31:57,780
current edit like that

2731
01:32:07,540 --> 01:32:11,480
so i dot user dot user

2732
01:32:11,480 --> 01:32:15,180
name like so and then when

2733
01:32:15,180 --> 01:32:17,880
we log in you'll see that

2734
01:32:17,880 --> 01:32:18,780
i'm going to have a tab

2735
01:32:18,780 --> 01:32:18,960
right

2736
01:32:18,960 --> 01:32:20,200
here called username but if i

2737
01:32:20,200 --> 01:32:23,360
click on login and it's mad

2738
01:32:23,360 --> 01:32:24,080
at me so you can see

2739
01:32:24,080 --> 01:32:26,180
invalid index test 2

2740
01:32:26,180 --> 01:32:28,240
so let's take a look at

2741
01:32:28,240 --> 01:32:31,240
this so create chat null so

2742
01:32:31,240 --> 01:32:33,080
this is a null object it

2743
01:32:33,080 --> 01:32:33,960
needs to be a type

2744
01:32:33,960 --> 01:32:36,060
dictionary that's my guess at least

2745
01:32:36,060 --> 01:32:37,540
so we'll come in here we'll

2746
01:32:37,540 --> 01:32:41,160
say colon equals bracket bracket like

2747
01:32:41,160 --> 01:32:42,160
that and that'll make it into

2748
01:32:42,160 --> 01:32:43,940
an object and now if we

2749
01:32:43,940 --> 01:32:45,420
try it it should in theory

2750
01:32:45,420 --> 01:32:47,340
work there we go and

2751
01:32:47,340 --> 01:32:48,080
you can see we have test

2752
01:32:48,080 --> 01:32:50,720
2 and username right here and

2753
01:32:50,720 --> 01:32:52,320
that means that we would be

2754
01:32:52,320 --> 01:32:53,240
able to go and

2755
01:32:53,240 --> 01:32:55,860
fetch any messages that we want

2756
01:32:55,860 --> 01:32:58,220
from that person so if we

2757
01:32:58,220 --> 01:32:59,720
were to go in here sub

2758
01:32:59,720 --> 01:33:01,180
to friend chat go down

2759
01:33:01,180 --> 01:33:03,160
here we could actually go and

2760
01:33:03,160 --> 01:33:05,040
fetch that person's information if you

2761
01:33:05,040 --> 01:33:06,620
remember we actually do that

2762
01:33:06,620 --> 01:33:09,380
right here we pull back the

2763
01:33:09,380 --> 01:33:11,480
messages right here so what we

2764
01:33:11,480 --> 01:33:13,840
could do is if we list

2765
01:33:13,840 --> 01:33:14,860
channel messages

2766
01:33:14,860 --> 01:33:17,180
asynchronously we should probably pull this

2767
01:33:17,180 --> 01:33:18,060
out and just do

2768
01:33:21,620 --> 01:33:24,220
list messages like that do this

2769
01:33:24,220 --> 01:33:25,240
it's going to want to have

2770
01:33:25,240 --> 01:33:27,100
a current channel dot id so

2771
01:33:27,880 --> 01:33:30,420
current channel like that and then

2772
01:33:30,420 --> 01:33:32,160
we could come in here and

2773
01:33:32,160 --> 01:33:38,300
just do current edit dot text

2774
01:33:38,300 --> 01:33:39,600
is equal to

2775
01:33:40,660 --> 01:33:42,460
list messages and then we have

2776
01:33:42,460 --> 01:33:43,760
to pass in our current channel

2777
01:33:43,760 --> 01:33:47,320
so that would be our let's

2778
01:33:47,320 --> 01:33:47,520
see

2779
01:33:47,520 --> 01:33:49,940
channel right here so channel so

2780
01:33:49,940 --> 01:33:51,280
we'll pass to that channel that'll

2781
01:33:51,280 --> 01:33:52,980
pass back all of the text

2782
01:33:52,980 --> 01:33:53,480
in that

2783
01:33:53,480 --> 01:33:55,980
channel this is a coroutine so

2784
01:33:55,980 --> 01:33:57,300
it must be called with await

2785
01:33:57,300 --> 01:34:00,060
that makes sense so await

2786
01:34:02,200 --> 01:34:04,420
and then instead of doing this

2787
01:34:04,420 --> 01:34:07,360
we'll just return that value so

2788
01:34:07,360 --> 01:34:10,860
we'll just say var text oh

2789
01:34:10,860 --> 01:34:11,160
i guess

2790
01:34:11,160 --> 01:34:12,140
i'm gonna have to create a

2791
01:34:12,140 --> 01:34:14,980
text so var text is equal

2792
01:34:14,980 --> 01:34:16,960
to quote and then we'll need

2793
01:34:16,960 --> 01:34:18,780
to just do text plus

2794
01:34:18,780 --> 01:34:20,680
equals blah and then we can

2795
01:34:20,680 --> 01:34:24,220
just return our text like that

2796
01:34:24,220 --> 01:34:28,040
and then that will return text

2797
01:34:28,040 --> 01:34:28,540
right here

2798
01:34:28,540 --> 01:34:31,340
and then instead of doing this

2799
01:34:31,340 --> 01:34:34,740
when we join a chat group

2800
01:34:34,740 --> 01:34:36,700
we can just go dollar sign

2801
01:34:36,700 --> 01:34:39,440
or we could just go

2802
01:34:39,440 --> 01:34:41,780
in here and add in a

2803
01:34:41,780 --> 01:34:43,040
panel like what we're doing right

2804
01:34:43,040 --> 01:34:43,840
here you can see how we're

2805
01:34:43,840 --> 01:34:44,400
joining chat

2806
01:34:44,400 --> 01:34:46,780
asynchronously so we really could just

2807
01:34:46,780 --> 01:34:50,780
grab this section here

2808
01:34:52,140 --> 01:34:54,520
and just paste it right here

2809
01:34:54,520 --> 01:34:58,680
on this guy like so and

2810
01:34:58,680 --> 01:35:01,060
that'll basically solve that problem right

2811
01:35:01,060 --> 01:35:01,360
there

2812
01:35:01,360 --> 01:35:03,460
now technically this is duplicated code

2813
01:35:03,460 --> 01:35:04,800
and that's probably not the most

2814
01:35:04,800 --> 01:35:06,660
ideal situation but that's

2815
01:35:06,660 --> 01:35:09,520
probably okay for right now and

2816
01:35:09,520 --> 01:35:13,720
instead of doing our chat channel

2817
01:35:13,720 --> 01:35:16,300
i username what we would do

2818
01:35:16,300 --> 01:35:16,600
is we

2819
01:35:16,600 --> 01:35:18,320
would do something like current channel

2820
01:35:18,320 --> 01:35:23,400
and then selected group so selected

2821
01:35:23,400 --> 01:35:26,480
group.id the current name

2822
01:35:26,480 --> 01:35:29,040
would also be the selected group

2823
01:35:29,040 --> 01:35:31,000
id i guess we'd probably want

2824
01:35:31,000 --> 01:35:31,840
to come up with a better

2825
01:35:31,840 --> 01:35:32,560
way maybe

2826
01:35:32,560 --> 01:35:34,060
we could just call it current

2827
01:35:34,060 --> 01:35:35,780
group right instead of the name

2828
01:35:35,780 --> 01:35:39,320
like so and then we could

2829
01:35:39,320 --> 01:35:39,720
probably

2830
01:35:39,720 --> 01:35:41,740
come in here and list our

2831
01:35:41,740 --> 01:35:44,520
current channel as well and in

2832
01:35:44,520 --> 01:35:46,200
theory that would work so now

2833
01:35:46,200 --> 01:35:47,240
if we hit play

2834
01:35:47,240 --> 01:35:48,580
in theory we would have a

2835
01:35:48,580 --> 01:35:51,700
tabular messaging system now we can

2836
01:35:51,700 --> 01:35:53,660
hit submit and there's all of

2837
01:35:53,660 --> 01:35:54,260
our messages

2838
01:35:54,260 --> 01:35:56,380
right there and we have different

2839
01:35:56,380 --> 01:35:57,840
tabs that we can work with

2840
01:35:57,840 --> 01:35:59,660
i think if i do test

2841
01:35:59,660 --> 01:36:00,620
it's probably going

2842
01:36:00,620 --> 01:36:01,720
to get mad at me invalid

2843
01:36:01,720 --> 01:36:04,740
index id that makes sense because

2844
01:36:04,740 --> 01:36:06,620
current channel.id

2845
01:36:09,300 --> 01:36:11,800
current channel is null my guess

2846
01:36:11,800 --> 01:36:13,120
is because i'm not in a

2847
01:36:13,120 --> 01:36:14,960
channel yet so that would make

2848
01:36:14,960 --> 01:36:16,260
sense so what

2849
01:36:16,260 --> 01:36:17,460
we would need to do is

2850
01:36:17,460 --> 01:36:18,600
we need to make our tab

2851
01:36:18,600 --> 01:36:20,680
container handle that when the tab

2852
01:36:20,680 --> 01:36:21,940
gets switched which

2853
01:36:21,940 --> 01:36:24,580
i think there is a on

2854
01:36:24,580 --> 01:36:26,940
tab changed right here so we

2855
01:36:26,940 --> 01:36:28,720
would have to keep track of

2856
01:36:28,720 --> 01:36:30,640
which index our stuff

2857
01:36:30,640 --> 01:36:32,620
is actually located in so i

2858
01:36:32,620 --> 01:36:34,260
think that that's okay so we

2859
01:36:34,260 --> 01:36:35,780
could actually just do this on

2860
01:36:35,780 --> 01:36:37,340
tab changed like

2861
01:36:37,340 --> 01:36:38,780
so and then we could just

2862
01:36:38,780 --> 01:36:41,240
keep track of what index we're

2863
01:36:41,240 --> 01:36:43,260
on when the user changes their

2864
01:36:43,260 --> 01:36:44,460
tab it kind of

2865
01:36:44,460 --> 01:36:46,120
keeps track of that so how

2866
01:36:46,120 --> 01:36:48,300
i would do that is if

2867
01:36:48,300 --> 01:36:52,360
i go into where the tabs

2868
01:36:52,360 --> 01:36:54,360
are located so you can see

2869
01:36:54,360 --> 01:36:56,360
here and i know this is

2870
01:36:56,360 --> 01:36:58,020
probably a little bit confusing and

2871
01:36:58,020 --> 01:36:59,820
my apologies i'm just kind of

2872
01:36:59,820 --> 01:37:00,100
working

2873
01:37:00,100 --> 01:37:01,460
through it with you guys but

2874
01:37:01,460 --> 01:37:02,940
so you can see right here

2875
01:37:02,940 --> 01:37:05,360
we have a channel uh selected

2876
01:37:05,360 --> 01:37:06,320
group id current

2877
01:37:06,320 --> 01:37:08,680
channel so what we could do

2878
01:37:08,680 --> 01:37:10,540
is when we do our tab

2879
01:37:10,540 --> 01:37:14,380
container we could actually connect our

2880
01:37:14,380 --> 01:37:16,880
um tab changed

2881
01:37:16,880 --> 01:37:20,340
event and then bind the um

2882
01:37:20,340 --> 01:37:22,660
user id to it so we

2883
01:37:22,660 --> 01:37:23,880
could do is we could do

2884
01:37:23,880 --> 01:37:27,180
dollar sign panel tab container dot

2885
01:37:27,180 --> 01:37:29,580
add child like so but we

2886
01:37:29,580 --> 01:37:33,880
could do dot tab changed dot

2887
01:37:33,880 --> 01:37:38,900
connect and then we could put

2888
01:37:38,900 --> 01:37:42,200
on tab changed and i

2889
01:37:42,200 --> 01:37:43,900
guess i should do on chat

2890
01:37:43,900 --> 01:37:47,980
tab changed dot bind and i

2891
01:37:47,980 --> 01:37:51,300
can pass in the selected group

2892
01:37:51,300 --> 01:37:53,320
id like so

2893
01:37:53,320 --> 01:37:55,680
so and then we could come

2894
01:37:55,680 --> 01:37:58,300
in here and just say func

2895
01:37:58,300 --> 01:38:02,700
on chat tab changed like so

2896
01:38:02,700 --> 01:38:03,940
and then we could pass in

2897
01:38:03,940 --> 01:38:08,260
int tab comma or i guess

2898
01:38:08,260 --> 01:38:09,360
it would be i'm sorry i'm

2899
01:38:09,360 --> 01:38:10,540
trying to code in c sharp

2900
01:38:10,540 --> 01:38:14,120
tab colon int comma and then

2901
01:38:14,120 --> 01:38:17,280
we could pass in group id

2902
01:38:17,280 --> 01:38:24,260
or channel id like that and

2903
01:38:24,260 --> 01:38:26,200
that would pass in that value

2904
01:38:26,200 --> 01:38:27,980
like that and there

2905
01:38:27,980 --> 01:38:30,120
we go so what that's going

2906
01:38:30,120 --> 01:38:31,120
to do is allow us to

2907
01:38:31,120 --> 01:38:37,000
print well uh tab comma channel

2908
01:38:37,000 --> 01:38:38,860
id like that and that

2909
01:38:38,860 --> 01:38:39,860
will give us the ability to

2910
01:38:39,860 --> 01:38:41,580
work with this now when we

2911
01:38:41,580 --> 01:38:43,940
join a chat group that's how

2912
01:38:43,940 --> 01:38:44,560
we have to handle

2913
01:38:44,560 --> 01:38:46,380
that but when we do our

2914
01:38:46,380 --> 01:38:47,920
sub to friends channel we got

2915
01:38:47,920 --> 01:38:49,080
to do that as well so

2916
01:38:49,080 --> 01:38:50,280
that way we can do it

2917
01:38:50,280 --> 01:38:50,400
on

2918
01:38:50,400 --> 01:38:51,520
both so now if i hit

2919
01:38:51,520 --> 01:38:54,300
play in theory if i do

2920
01:38:54,300 --> 01:38:57,120
submit it's mad at me unable

2921
01:38:57,120 --> 01:38:59,320
to get index id on base

2922
01:38:59,320 --> 01:38:59,760
nil

2923
01:38:59,760 --> 01:39:02,020
that's because selected group is null

2924
01:39:02,020 --> 01:39:04,860
and that's because i'm dumb and

2925
01:39:04,860 --> 01:39:06,380
i chose the wrong bind it's

2926
01:39:06,380 --> 01:39:06,480
going

2927
01:39:06,480 --> 01:39:08,080
to be i dot user dot

2928
01:39:08,080 --> 01:39:10,660
username so we'll grab that and

2929
01:39:10,660 --> 01:39:12,400
paste it right here let's try

2930
01:39:12,400 --> 01:39:13,240
that one more time

2931
01:39:13,900 --> 01:39:14,920
so i'm going to come in

2932
01:39:14,920 --> 01:39:15,860
here i'm going to go submit

2933
01:39:15,860 --> 01:39:17,700
and it once again is going

2934
01:39:17,700 --> 01:39:19,280
to be mad a non-existent

2935
01:39:19,280 --> 01:39:23,040
function bind on base int that's

2936
01:39:23,040 --> 01:39:26,440
mad about let me see i

2937
01:39:26,440 --> 01:39:28,040
think i might have figured it

2938
01:39:28,040 --> 01:39:28,900
out what if i do

2939
01:39:28,900 --> 01:39:31,960
this instead and then i have

2940
01:39:31,960 --> 01:39:33,540
to go and find my other

2941
01:39:33,540 --> 01:39:36,520
bind which should be i think

2942
01:39:36,520 --> 01:39:37,280
i need to put it

2943
01:39:37,280 --> 01:39:42,620
out inside the the signal connection

2944
01:39:42,620 --> 01:39:44,620
so i'm connecting i'm binding this

2945
01:39:44,620 --> 01:39:45,820
to the signal not to

2946
01:39:45,820 --> 01:39:47,840
the connection function i think that's

2947
01:39:47,840 --> 01:39:49,460
what's doing it so let's try

2948
01:39:49,460 --> 01:39:51,680
that let's grab the other one

2949
01:39:51,680 --> 01:39:52,240
so you

2950
01:39:52,240 --> 01:39:54,820
see how this one connect dot

2951
01:39:54,820 --> 01:39:56,900
bind instead i think i need

2952
01:39:56,900 --> 01:39:59,800
to bind and then do that

2953
01:39:59,800 --> 01:40:01,620
and then i should be

2954
01:40:01,620 --> 01:40:03,100
able to make that work and

2955
01:40:03,100 --> 01:40:06,820
i believe it is index and

2956
01:40:06,820 --> 01:40:08,620
then channel id so let's try

2957
01:40:08,620 --> 01:40:09,560
that let's see what

2958
01:40:09,560 --> 01:40:11,940
that does there we go and

2959
01:40:11,940 --> 01:40:13,020
then if i click test two

2960
01:40:13,020 --> 01:40:16,240
it should have displayed test two

2961
01:40:16,240 --> 01:40:17,060
right there so

2962
01:40:17,060 --> 01:40:19,460
that's perfect so what that means

2963
01:40:19,460 --> 01:40:21,780
is that we can go current

2964
01:40:21,780 --> 01:40:23,800
channel is equal to

2965
01:40:24,700 --> 01:40:28,360
chat channels bracket bracket channel id

2966
01:40:28,360 --> 01:40:32,800
like that and then what that

2967
01:40:32,800 --> 01:40:34,400
means is now we should be

2968
01:40:34,400 --> 01:40:34,900
able to

2969
01:40:34,900 --> 01:40:37,360
since we're binding those parameters i

2970
01:40:37,360 --> 01:40:38,520
should be able to send a

2971
01:40:38,520 --> 01:40:41,220
message and it should just take

2972
01:40:41,220 --> 01:40:41,420
it

2973
01:40:41,420 --> 01:40:43,660
in theory invalid get text on

2974
01:40:43,660 --> 01:40:45,920
null that's fine my guess is

2975
01:40:45,920 --> 01:40:48,820
that's because chat text box doesn't

2976
01:40:48,820 --> 01:40:49,240
exist

2977
01:40:49,240 --> 01:40:50,660
anymore because now we're going the

2978
01:40:50,660 --> 01:40:53,020
opposite direction right so we're sending

2979
01:40:53,020 --> 01:40:54,260
a message if you

2980
01:40:54,260 --> 01:40:56,480
see here if you look at

2981
01:40:56,480 --> 01:40:58,660
the content message is test type

2982
01:40:58,660 --> 01:41:00,460
is zero and if you take

2983
01:41:00,460 --> 01:41:01,900
a look at this object

2984
01:41:01,900 --> 01:41:05,140
it has the channel id sender

2985
01:41:05,140 --> 01:41:08,100
id user id 12 and then

2986
01:41:08,100 --> 01:41:10,640
user name now if we take

2987
01:41:10,640 --> 01:41:14,800
a look at our channel objects

2988
01:41:14,800 --> 01:41:17,140
right here so chat channels you

2989
01:41:17,140 --> 01:41:19,660
can see test two is our

2990
01:41:19,660 --> 01:41:21,680
parameter here that's going to be

2991
01:41:21,680 --> 01:41:22,740
our players

2992
01:41:22,740 --> 01:41:25,620
information if that makes sense so

2993
01:41:25,620 --> 01:41:29,280
i think we could probably get

2994
01:41:29,280 --> 01:41:32,960
away with since this is going

2995
01:41:32,960 --> 01:41:33,540
to give

2996
01:41:33,540 --> 01:41:37,480
us test as its content and

2997
01:41:37,480 --> 01:41:39,060
the message is going to say

2998
01:41:39,060 --> 01:41:42,760
sender id is right here the

2999
01:41:42,760 --> 01:41:44,200
channel id is right

3000
01:41:44,200 --> 01:41:45,440
here i wonder if we should

3001
01:41:45,440 --> 01:41:47,240
pull because it has a username

3002
01:41:47,240 --> 01:41:48,740
right here but that's not going

3003
01:41:48,740 --> 01:41:49,200
to hook us

3004
01:41:49,200 --> 01:41:51,220
up to our channel code so

3005
01:41:51,220 --> 01:41:54,820
i'm curious if we need to

3006
01:41:54,820 --> 01:41:56,440
change how we send our data

3007
01:41:56,440 --> 01:41:56,880
across

3008
01:41:56,880 --> 01:41:58,640
so we send our data we're

3009
01:41:58,640 --> 01:42:00,180
sending the message and then the

3010
01:42:00,180 --> 01:42:02,860
current channel id okay so i

3011
01:42:02,860 --> 01:42:03,380
think i know

3012
01:42:03,380 --> 01:42:04,740
what i'm going to do here

3013
01:42:04,740 --> 01:42:06,180
so we're actually going to change

3014
01:42:06,180 --> 01:42:08,440
up a little bit how we're

3015
01:42:08,440 --> 01:42:09,680
doing this and

3016
01:42:09,680 --> 01:42:11,460
the reason why i'll show you

3017
01:42:11,460 --> 01:42:14,020
if we take a look at

3018
01:42:14,020 --> 01:42:16,100
right here we're passing in our

3019
01:42:16,100 --> 01:42:16,960
current channel

3020
01:42:16,960 --> 01:42:18,740
what i'm going to do is

3021
01:42:18,740 --> 01:42:19,960
i'm going to come in here

3022
01:42:19,960 --> 01:42:25,380
and pass in instead of just

3023
01:42:25,380 --> 01:42:26,840
a current channel i'm

3024
01:42:26,840 --> 01:42:29,940
going to pass in channel like

3025
01:42:29,940 --> 01:42:32,740
that colon current channel and then

3026
01:42:32,740 --> 01:42:33,800
i'm also going to pass in

3027
01:42:33,800 --> 01:42:34,380
a label

3028
01:42:34,380 --> 01:42:37,480
value just so i can have

3029
01:42:37,480 --> 01:42:39,000
the label if i need it

3030
01:42:39,000 --> 01:42:39,900
for whatever reason

3031
01:42:42,100 --> 01:42:44,320
and the label in the selected

3032
01:42:44,320 --> 01:42:46,600
group id will probably just be

3033
01:42:46,600 --> 01:42:49,400
group chat because it really

3034
01:42:49,400 --> 01:42:50,840
doesn't need to have anything special

3035
01:42:50,840 --> 01:42:52,800
and if we go to the

3036
01:42:52,800 --> 01:42:55,980
other one so channel chats we

3037
01:42:55,980 --> 01:42:57,580
go to the

3038
01:42:57,580 --> 01:43:00,560
other one which is right here

3039
01:43:00,560 --> 01:43:02,360
so this one needs to go

3040
01:43:02,360 --> 01:43:04,540
dot channel because we're making that

3041
01:43:04,540 --> 01:43:05,020
adjustment

3042
01:43:05,020 --> 01:43:07,020
real quick you can see right

3043
01:43:07,020 --> 01:43:08,680
here we're doing channel so you

3044
01:43:08,680 --> 01:43:09,440
can see we'll need to make

3045
01:43:09,440 --> 01:43:09,620
that

3046
01:43:09,620 --> 01:43:11,840
adjustment and then we'll just copy

3047
01:43:11,840 --> 01:43:13,960
this guy right here we'll paste

3048
01:43:13,960 --> 01:43:16,020
it like so and then i'm

3049
01:43:16,020 --> 01:43:16,300
going to go

3050
01:43:16,300 --> 01:43:18,940
ahead and pass in ctrl x

3051
01:43:21,940 --> 01:43:24,880
channel like that and that will

3052
01:43:24,880 --> 01:43:26,560
allow us to have an object

3053
01:43:26,560 --> 01:43:29,320
that has a label here and

3054
01:43:29,320 --> 01:43:29,860
then for the

3055
01:43:29,860 --> 01:43:31,960
actual label itself i'll just pass

3056
01:43:31,960 --> 01:43:34,580
this guy in like that and

3057
01:43:34,580 --> 01:43:36,240
then i'll just do channel.id

3058
01:43:36,240 --> 01:43:37,380
like that

3059
01:43:37,380 --> 01:43:40,160
and then if we have this

3060
01:43:40,160 --> 01:43:42,040
then we should be able to

3061
01:43:44,480 --> 01:43:47,060
use this to pull back that

3062
01:43:47,060 --> 01:43:49,860
channel information instead and i know

3063
01:43:49,860 --> 01:43:51,320
what you're thinking that

3064
01:43:51,320 --> 01:43:52,800
doesn't sound like it's going to

3065
01:43:52,800 --> 01:43:55,180
work but it's probably not going

3066
01:43:55,180 --> 01:43:57,980
to work so let's go ahead

3067
01:43:57,980 --> 01:43:58,580
and

3068
01:43:58,580 --> 01:44:02,040
say on tab change bind selected

3069
01:44:02,040 --> 01:44:04,020
group id if i do on

3070
01:44:04,020 --> 01:44:07,600
tab changed bind channel id

3071
01:44:09,460 --> 01:44:12,700
like that and then when we

3072
01:44:12,700 --> 01:44:15,840
produce our message here we're going

3073
01:44:15,840 --> 01:44:18,220
to be fetching back this on

3074
01:44:18,220 --> 01:44:18,640
channel

3075
01:44:18,640 --> 01:44:25,620
message parse the content and right

3076
01:44:25,620 --> 01:44:28,360
here we will have a chat

3077
01:44:28,360 --> 01:44:29,380
box so you can see we

3078
01:44:29,380 --> 01:44:31,140
have chat chat box

3079
01:44:31,140 --> 01:44:34,820
it'll be tab container dot get

3080
01:44:34,820 --> 01:44:40,820
node like that content dot and

3081
01:44:40,820 --> 01:44:42,540
if we take a look at

3082
01:44:42,540 --> 01:44:43,560
what our message is

3083
01:44:43,560 --> 01:44:44,860
going to be right here so

3084
01:44:44,860 --> 01:44:46,560
we have our right message asynchronous

3085
01:44:46,560 --> 01:44:49,180
we'll just say content dot id

3086
01:44:49,180 --> 01:44:50,120
like so

3087
01:44:51,240 --> 01:44:52,800
and then here we can pass

3088
01:44:52,800 --> 01:44:56,600
in quote id colon and fetch

3089
01:44:56,600 --> 01:44:59,560
back our channel information so chat

3090
01:44:59,560 --> 01:45:00,240
channels

3091
01:45:01,160 --> 01:45:05,680
like so channel id so it'd

3092
01:45:05,680 --> 01:45:10,040
be current channel dot id right

3093
01:45:10,040 --> 01:45:10,340
here

3094
01:45:12,440 --> 01:45:14,340
like that and that will pass

3095
01:45:14,340 --> 01:45:16,600
back our channel information and then

3096
01:45:16,600 --> 01:45:17,880
from here we could just go

3097
01:45:17,880 --> 01:45:18,380
dot

3098
01:45:19,200 --> 01:45:19,800
label

3099
01:45:21,760 --> 01:45:23,920
and that should allow us to

3100
01:45:23,920 --> 01:45:25,640
fetch back the correct node and

3101
01:45:25,640 --> 01:45:27,660
set the proper information right there

3102
01:45:27,660 --> 01:45:30,440
and in theory that would work

3103
01:45:30,440 --> 01:45:32,020
let's try that and see how

3104
01:45:32,020 --> 01:45:34,340
that works so if we hit

3105
01:45:34,340 --> 01:45:35,960
submit test to

3106
01:45:36,520 --> 01:45:38,580
test send you'll see that we

3107
01:45:38,580 --> 01:45:40,420
now get our test information so

3108
01:45:40,420 --> 01:45:44,020
this is a test message like

3109
01:45:44,020 --> 01:45:44,280
that

3110
01:45:44,280 --> 01:45:45,860
and we click go you'll see

3111
01:45:45,860 --> 01:45:47,640
this is a test message just

3112
01:45:47,640 --> 01:45:49,940
like that and that's basically how

3113
01:45:49,940 --> 01:45:50,380
we can make

3114
01:45:50,380 --> 01:45:52,860
a tabbed system as well that

3115
01:45:52,860 --> 01:45:56,380
should actually work for our chat

3116
01:45:56,380 --> 01:45:59,180
system so now that we have

3117
01:45:59,180 --> 01:46:00,480
a basic

3118
01:46:01,040 --> 01:46:04,320
chatting system that fully works let's

3119
01:46:04,320 --> 01:46:05,460
talk about how we can host

3120
01:46:05,460 --> 01:46:07,460
this out on the cloud because

3121
01:46:07,460 --> 01:46:08,040
the

3122
01:46:08,040 --> 01:46:10,120
best way to get your networking

3123
01:46:10,120 --> 01:46:12,040
working is by hosting it out

3124
01:46:12,040 --> 01:46:13,600
on the cloud that means that

3125
01:46:13,600 --> 01:46:14,340
you have to pay

3126
01:46:14,340 --> 01:46:16,380
a server to host that information

3127
01:46:16,380 --> 01:46:18,420
so if you want a multiplayer

3128
01:46:18,420 --> 01:46:20,160
game you need to actually pay

3129
01:46:20,160 --> 01:46:20,880
to host

3130
01:46:20,880 --> 01:46:24,020
that data somewhere right and that

3131
01:46:24,020 --> 01:46:26,620
is where digital ocean comes in

3132
01:46:26,620 --> 01:46:29,580
digital ocean is a

3133
01:46:30,480 --> 01:46:33,280
pretty great tools kit that will

3134
01:46:33,280 --> 01:46:35,600
allow you to host your projects

3135
01:46:35,600 --> 01:46:38,420
right here on their servers and

3136
01:46:38,420 --> 01:46:38,640
it's

3137
01:46:38,640 --> 01:46:40,240
relatively cheap if you take a

3138
01:46:40,240 --> 01:46:41,340
look at the pricing you can

3139
01:46:41,340 --> 01:46:43,100
see they have some pretty cheap

3140
01:46:43,100 --> 01:46:44,020
droplets so if you

3141
01:46:44,020 --> 01:46:46,120
wanted a cheap like five dollar

3142
01:46:46,120 --> 01:46:48,260
server to host your game that's

3143
01:46:48,260 --> 01:46:49,420
more or less what this is

3144
01:46:49,420 --> 01:46:50,040
for is it

3145
01:46:50,040 --> 01:46:52,640
allows you to actually host stuff

3146
01:46:52,640 --> 01:46:54,440
out in the cloud for relatively

3147
01:46:54,440 --> 01:46:57,340
cheap and i will drop a

3148
01:46:57,340 --> 01:46:57,940
link in the

3149
01:46:57,940 --> 01:46:59,520
description below that if you guys

3150
01:46:59,520 --> 01:47:01,160
use it it will give me

3151
01:47:01,160 --> 01:47:02,700
credits to be able to host

3152
01:47:02,700 --> 01:47:03,820
my own stuff now

3153
01:47:04,310 --> 01:47:07,060
i will be hosting stuff for

3154
01:47:07,060 --> 01:47:09,640
this tutorial here i'll be giving

3155
01:47:09,640 --> 01:47:11,080
you guys an ip address and

3156
01:47:11,080 --> 01:47:11,760
you guys can use

3157
01:47:11,760 --> 01:47:14,540
it for your testing but just

3158
01:47:14,540 --> 01:47:15,720
know that if you want to

3159
01:47:15,720 --> 01:47:17,480
go out into production you need

3160
01:47:17,480 --> 01:47:18,620
to use your own

3161
01:47:18,620 --> 01:47:21,140
server and something to keep in

3162
01:47:21,140 --> 01:47:23,660
mind you can host your own

3163
01:47:23,660 --> 01:47:25,960
server as well locally but it's

3164
01:47:25,960 --> 01:47:26,720
a lot harder

3165
01:47:26,720 --> 01:47:28,460
it's not as safe and people

3166
01:47:28,460 --> 01:47:29,680
can hack into your networks and

3167
01:47:29,680 --> 01:47:30,760
things like that so it's really

3168
01:47:30,760 --> 01:47:31,080
nice

3169
01:47:31,080 --> 01:47:32,760
just to use something like this

3170
01:47:32,760 --> 01:47:34,760
to host it for you so

3171
01:47:34,760 --> 01:47:37,000
that you can get your game

3172
01:47:37,000 --> 01:47:37,960
out there and get people

3173
01:47:37,960 --> 01:47:40,400
playing it and playing together so

3174
01:47:40,400 --> 01:47:42,320
let's go ahead and create an

3175
01:47:42,320 --> 01:47:44,120
account or log in whichever one

3176
01:47:44,120 --> 01:47:44,240
you

3177
01:47:44,240 --> 01:47:45,200
guys have so i'm going to

3178
01:47:45,200 --> 01:47:46,280
go ahead and log in real

3179
01:47:46,280 --> 01:47:49,920
quick so this is digital ocean

3180
01:47:49,920 --> 01:47:51,940
and basically the nice

3181
01:47:51,940 --> 01:47:53,120
thing here is this is your

3182
01:47:53,120 --> 01:47:55,400
dashboard right so this is the

3183
01:47:55,400 --> 01:47:57,380
digital ocean dashboard so here is

3184
01:47:57,380 --> 01:47:57,580
where you

3185
01:47:57,580 --> 01:47:59,360
can manage all of your resources

3186
01:47:59,360 --> 01:48:00,380
now you can see up here

3187
01:48:00,380 --> 01:48:02,840
you have your profile information and

3188
01:48:02,840 --> 01:48:02,920
then

3189
01:48:02,920 --> 01:48:04,560
you have whatever droplets you have

3190
01:48:04,560 --> 01:48:07,280
now in digital ocean droplets are

3191
01:48:07,280 --> 01:48:09,720
considered machines okay and

3192
01:48:09,720 --> 01:48:10,880
you can see that they have

3193
01:48:10,880 --> 01:48:12,280
all sorts of really cool features

3194
01:48:12,280 --> 01:48:14,260
here they have spaces which is

3195
01:48:14,260 --> 01:48:14,940
basically like

3196
01:48:14,940 --> 01:48:16,980
storage they have database stuff so

3197
01:48:16,980 --> 01:48:17,940
if you actually come in here

3198
01:48:17,940 --> 01:48:19,340
you can see that you can

3199
01:48:19,340 --> 01:48:20,240
spin up

3200
01:48:20,240 --> 01:48:22,740
databases right here so if you're

3201
01:48:22,740 --> 01:48:25,680
using nakama you can actually store

3202
01:48:25,680 --> 01:48:28,300
your database outside of your

3203
01:48:28,300 --> 01:48:31,460
droplet and allow for load balancing

3204
01:48:31,460 --> 01:48:33,100
they actually have a full built

3205
01:48:33,100 --> 01:48:35,280
-in load balancing system right here

3206
01:48:35,280 --> 01:48:37,300
spinning up a load balance so

3207
01:48:37,300 --> 01:48:39,160
you can actually choose different data

3208
01:48:39,160 --> 01:48:42,180
regions and pass data in between

3209
01:48:42,180 --> 01:48:44,380
different regions and things like that

3210
01:48:44,380 --> 01:48:46,880
by using their load balancers now

3211
01:48:46,880 --> 01:48:48,740
that being said that's way beyond

3212
01:48:48,740 --> 01:48:50,620
the scope of this tutorial but

3213
01:48:50,620 --> 01:48:51,700
that's what i'm trying to say

3214
01:48:51,700 --> 01:48:52,860
is digital ocean has a bunch

3215
01:48:52,860 --> 01:48:54,220
of stuff for you to use

3216
01:48:54,220 --> 01:48:56,340
that can help you get up

3217
01:48:56,340 --> 01:48:57,180
to the point where you can

3218
01:48:57,180 --> 01:48:59,640
use nakama premium and actually have

3219
01:48:59,640 --> 01:49:00,200
them handle

3220
01:49:00,200 --> 01:49:01,020
a lot of that for you

3221
01:49:01,020 --> 01:49:02,200
but this is a good way

3222
01:49:02,200 --> 01:49:04,460
to kind of get started into

3223
01:49:04,460 --> 01:49:05,720
that if that makes sense

3224
01:49:05,720 --> 01:49:08,800
so let's go ahead and talk

3225
01:49:08,800 --> 01:49:10,060
about how to create a droplet

3226
01:49:10,060 --> 01:49:10,720
so let's go up here to

3227
01:49:10,720 --> 01:49:11,220
the upper right

3228
01:49:11,220 --> 01:49:13,000
hand corner click on create click

3229
01:49:13,000 --> 01:49:15,720
on droplet you could do an

3230
01:49:15,720 --> 01:49:17,580
app platform that's technically going

3231
01:49:17,580 --> 01:49:18,600
to be cheaper but it's a

3232
01:49:18,600 --> 01:49:20,240
lot harder to get everything set

3233
01:49:20,240 --> 01:49:21,680
up properly so i'm just going

3234
01:49:21,680 --> 01:49:22,700
to do a droplet for right

3235
01:49:22,700 --> 01:49:22,920
now

3236
01:49:26,080 --> 01:49:28,040
and so we can pick what

3237
01:49:28,040 --> 01:49:30,120
region we want our droplet in

3238
01:49:30,120 --> 01:49:30,880
so right here i'm going to

3239
01:49:30,880 --> 01:49:31,780
choose new york new

3240
01:49:31,780 --> 01:49:32,900
york is the closest to me

3241
01:49:32,900 --> 01:49:34,940
so we'll choose that we'll come

3242
01:49:34,940 --> 01:49:36,100
down here and you could choose

3243
01:49:36,100 --> 01:49:36,620
an image

3244
01:49:36,620 --> 01:49:37,700
now if you have a specific

3245
01:49:37,700 --> 01:49:38,860
image that you're looking for go

3246
01:49:38,860 --> 01:49:39,860
ahead and pick it right here

3247
01:49:39,860 --> 01:49:41,420
in my case i'm going to

3248
01:49:41,420 --> 01:49:42,780
go with ubuntu but if you

3249
01:49:42,780 --> 01:49:44,060
want to you can also look

3250
01:49:44,060 --> 01:49:44,900
at the marketplace

3251
01:49:44,900 --> 01:49:46,920
and you could pick different stuff

3252
01:49:46,920 --> 01:49:49,440
so docker on ubuntu probably would

3253
01:49:49,440 --> 01:49:50,580
be a good image to get

3254
01:49:50,580 --> 01:49:51,060
or

3255
01:49:51,060 --> 01:49:54,400
maybe something like lamp if you're

3256
01:49:54,400 --> 01:49:55,620
trying to do a lamp server

3257
01:49:55,620 --> 01:49:57,140
or wordpress or something like that

3258
01:49:57,140 --> 01:49:57,300
they

3259
01:49:57,300 --> 01:49:59,980
have so many different droplets that

3260
01:49:59,980 --> 01:50:04,880
you can actually use have at

3261
01:50:04,880 --> 01:50:06,440
your disposal you can see

3262
01:50:06,440 --> 01:50:07,560
here you can also do custom

3263
01:50:07,560 --> 01:50:08,560
images so if you have an

3264
01:50:08,560 --> 01:50:09,780
image you can actually just spin

3265
01:50:09,780 --> 01:50:10,740
it up and have it

3266
01:50:10,740 --> 01:50:13,400
work now in my case i'm

3267
01:50:13,400 --> 01:50:14,620
going to go with os ubuntu

3268
01:50:14,620 --> 01:50:15,900
we're going to start from base

3269
01:50:15,900 --> 01:50:16,440
even though

3270
01:50:17,100 --> 01:50:20,400
technically docker on ubuntu probably is

3271
01:50:20,400 --> 01:50:22,900
a better option so i'm going

3272
01:50:22,900 --> 01:50:23,340
to go

3273
01:50:25,000 --> 01:50:26,380
so so i'm going to go

3274
01:50:26,380 --> 01:50:28,780
with marketplace docker on ubuntu that's

3275
01:50:28,780 --> 01:50:29,500
going to save us a lot

3276
01:50:29,500 --> 01:50:29,920
of trouble

3277
01:50:29,920 --> 01:50:31,000
and get it all set up

3278
01:50:31,000 --> 01:50:32,100
for us right so all we

3279
01:50:32,100 --> 01:50:32,660
have to do is get our

3280
01:50:32,660 --> 01:50:33,900
docker composed and then set up

3281
01:50:33,900 --> 01:50:33,980
our

3282
01:50:33,980 --> 01:50:35,480
firewall rules and we'll be good

3283
01:50:35,480 --> 01:50:37,020
to go so we'll go ahead

3284
01:50:37,020 --> 01:50:38,700
and add that guy now if

3285
01:50:38,700 --> 01:50:39,800
you come in here you

3286
01:50:39,800 --> 01:50:41,200
can see that you have a

3287
01:50:41,200 --> 01:50:43,300
bunch of different options for size

3288
01:50:43,300 --> 01:50:45,080
now it depends on what you're

3289
01:50:45,080 --> 01:50:45,960
trying to do

3290
01:50:50,560 --> 01:50:52,780
and typically what i tell people

3291
01:50:52,780 --> 01:50:54,440
is you want to pick the

3292
01:50:54,440 --> 01:50:58,260
lowest value that you can and

3293
01:50:58,260 --> 01:50:59,920
plus one so

3294
01:50:59,920 --> 01:51:01,200
for instance if you think that

3295
01:51:01,200 --> 01:51:02,440
your game is going to be

3296
01:51:02,440 --> 01:51:03,580
really small and not a lot

3297
01:51:03,580 --> 01:51:04,060
of people are going

3298
01:51:04,060 --> 01:51:05,660
to play it then something like

3299
01:51:05,660 --> 01:51:07,200
the 14 a month one is

3300
01:51:07,200 --> 01:51:09,020
probably pretty good if you're looking

3301
01:51:09,020 --> 01:51:09,440
for

3302
01:51:09,440 --> 01:51:11,200
something really cheap just for testing

3303
01:51:11,200 --> 01:51:12,680
if you go to regular and

3304
01:51:12,680 --> 01:51:14,180
you kick it over you can

3305
01:51:14,180 --> 01:51:14,560
see

3306
01:51:14,560 --> 01:51:16,200
that you can just do something

3307
01:51:16,200 --> 01:51:17,680
like the six dollar a month

3308
01:51:17,680 --> 01:51:19,160
one or even the four dollar

3309
01:51:19,160 --> 01:51:19,840
a month one

3310
01:51:19,840 --> 01:51:21,880
if you can get away with

3311
01:51:21,880 --> 01:51:23,960
under 10 gigabytes if you were

3312
01:51:23,960 --> 01:51:25,300
to come up here and choose

3313
01:51:25,300 --> 01:51:26,400
os ubuntu

3314
01:51:26,400 --> 01:51:28,040
then you could go down to

3315
01:51:28,040 --> 01:51:30,200
four dollars a month at 512

3316
01:51:30,200 --> 01:51:33,140
megabytes now once you get down

3317
01:51:33,140 --> 01:51:34,260
that low

3318
01:51:35,070 --> 01:51:37,100
this is basically only used for

3319
01:51:37,100 --> 01:51:39,280
testing you want to at minimum

3320
01:51:39,280 --> 01:51:40,800
have six dollars a month

3321
01:51:40,800 --> 01:51:42,980
the one gigabyte one cpu just

3322
01:51:42,980 --> 01:51:44,680
because it's going to allow you

3323
01:51:44,680 --> 01:51:45,480
to have a lot

3324
01:51:47,920 --> 01:51:51,140
more flexibility for your project now

3325
01:51:51,140 --> 01:51:53,100
since i'm doing a marketplace image

3326
01:51:53,100 --> 01:51:53,300
of

3327
01:51:54,880 --> 01:51:57,160
and now since this is going

3328
01:51:57,160 --> 01:51:59,060
to be a tutorial i should

3329
01:51:59,060 --> 01:52:01,280
probably just do ubuntu with the

3330
01:52:01,280 --> 01:52:02,640
four because odds are

3331
01:52:03,260 --> 01:52:04,760
you're not going to have the

3332
01:52:04,760 --> 01:52:06,480
funding to do this or something

3333
01:52:06,480 --> 01:52:07,720
like that so we'll try the

3334
01:52:07,720 --> 01:52:08,180
four we

3335
01:52:08,180 --> 01:52:09,280
might have to upgrade to six

3336
01:52:09,280 --> 01:52:11,460
we'll see and then you can

3337
01:52:11,460 --> 01:52:13,160
see here that you can add

3338
01:52:13,160 --> 01:52:14,180
a volume which will

3339
01:52:14,180 --> 01:52:15,700
allow you to expand your disk

3340
01:52:15,700 --> 01:52:17,160
space now in our case we

3341
01:52:17,160 --> 01:52:18,880
don't need that because it's fine

3342
01:52:18,880 --> 01:52:19,500
for right now

3343
01:52:19,500 --> 01:52:20,880
and you can see that we

3344
01:52:20,880 --> 01:52:22,800
have authentication so we have ssh

3345
01:52:22,800 --> 01:52:24,640
key and password now in my

3346
01:52:24,640 --> 01:52:25,440
case we're just going to do

3347
01:52:27,480 --> 01:52:28,560
so i'm going to set my

3348
01:52:28,560 --> 01:52:31,340
password right here and we'll scroll

3349
01:52:31,340 --> 01:52:32,880
down here and you can see

3350
01:52:32,880 --> 01:52:34,780
that we can do improved metrics

3351
01:52:34,780 --> 01:52:36,960
and monitoring for free so may

3352
01:52:36,960 --> 01:52:38,660
as well turn that on and

3353
01:52:38,660 --> 01:52:39,200
i don't think

3354
01:52:39,200 --> 01:52:40,380
we need to do a database

3355
01:52:40,380 --> 01:52:43,060
cluster here but we can look

3356
01:52:43,060 --> 01:52:44,500
at that in the future so

3357
01:52:44,500 --> 01:52:45,440
you can see here is

3358
01:52:45,440 --> 01:52:46,920
our host name right here which

3359
01:52:46,920 --> 01:52:49,580
i'll call it youtube2 tags i'm

3360
01:52:49,580 --> 01:52:50,560
not worried about it and then

3361
01:52:50,560 --> 01:52:51,000
you'll see that

3362
01:52:51,000 --> 01:52:52,640
it has a project right here

3363
01:52:52,640 --> 01:52:54,280
now this project is where it's

3364
01:52:54,280 --> 01:52:55,740
going to get built under so

3365
01:52:55,740 --> 01:52:56,400
don't worry

3366
01:52:56,400 --> 01:52:57,900
it'll just get built under your

3367
01:52:57,900 --> 01:52:59,360
account and then we'll click create

3368
01:52:59,360 --> 01:53:01,720
droplet now this is going to

3369
01:53:01,720 --> 01:53:03,940
allow us to have a droplet

3370
01:53:03,940 --> 01:53:06,740
once it gets built which should

3371
01:53:06,740 --> 01:53:09,500
be relatively quick there we go

3372
01:53:09,500 --> 01:53:09,980
you can see

3373
01:53:09,980 --> 01:53:10,960
it's in the middle of building

3374
01:53:10,960 --> 01:53:12,480
it and it is now completed

3375
01:53:12,480 --> 01:53:14,240
so it actually created your little

3376
01:53:14,240 --> 01:53:14,600
droplet

3377
01:53:14,600 --> 01:53:16,660
right here so now at this

3378
01:53:16,660 --> 01:53:18,220
point once we click into it

3379
01:53:18,220 --> 01:53:19,840
you can see here is our

3380
01:53:19,840 --> 01:53:22,320
youtube 2 droplet you can

3381
01:53:22,320 --> 01:53:23,920
see we have our graphs for

3382
01:53:23,920 --> 01:53:26,300
our bandwidth cpu usage stuff like

3383
01:53:26,300 --> 01:53:28,060
that we have access which allows

3384
01:53:28,060 --> 01:53:28,560
us to

3385
01:53:28,560 --> 01:53:30,900
adjust our access to it we

3386
01:53:30,900 --> 01:53:32,180
have power which allows you to

3387
01:53:32,180 --> 01:53:33,600
turn it off and on we

3388
01:53:33,600 --> 01:53:34,700
have volumes which allow

3389
01:53:34,700 --> 01:53:37,020
you to have block storage resize

3390
01:53:37,020 --> 01:53:39,320
which allows you to change how

3391
01:53:39,320 --> 01:53:41,540
big and strong that droplet is

3392
01:53:41,540 --> 01:53:43,800
so you're welcome to go in

3393
01:53:43,800 --> 01:53:46,320
and actually upgrade this later so

3394
01:53:46,320 --> 01:53:48,120
if you need that one giga

3395
01:53:48,120 --> 01:53:48,540
memory or

3396
01:53:48,540 --> 01:53:51,660
that one 10 gigabyte ssd right

3397
01:53:51,660 --> 01:53:53,560
that's all stuff that right here

3398
01:53:53,560 --> 01:53:55,200
is available and then you can

3399
01:53:55,200 --> 01:53:55,420
come

3400
01:53:55,420 --> 01:53:57,480
in here and go into networking

3401
01:53:57,480 --> 01:53:58,880
you can change your network ip

3402
01:53:58,880 --> 01:54:01,700
address your firewall stuff you can

3403
01:54:01,700 --> 01:54:01,880
come

3404
01:54:01,880 --> 01:54:03,060
in here and back it up

3405
01:54:03,060 --> 01:54:04,760
you can get snapshots of it

3406
01:54:04,760 --> 01:54:06,520
so that way if you need

3407
01:54:06,520 --> 01:54:09,180
this droplet to be perfect

3408
01:54:09,180 --> 01:54:12,120
and snapshotted for backup purposes this

3409
01:54:12,120 --> 01:54:13,440
is what this is for it

3410
01:54:13,440 --> 01:54:14,980
allows you to basically go back

3411
01:54:14,980 --> 01:54:15,100
to

3412
01:54:15,100 --> 01:54:16,460
that point in time and apply

3413
01:54:16,460 --> 01:54:18,240
it to your image so the

3414
01:54:18,240 --> 01:54:19,200
nice thing is is if you

3415
01:54:19,200 --> 01:54:21,160
create snapshots and your

3416
01:54:21,160 --> 01:54:22,460
stuff gets hacked or something like

3417
01:54:22,460 --> 01:54:23,880
that you can roll back to

3418
01:54:23,880 --> 01:54:27,040
that snapshot and stop that hack

3419
01:54:27,040 --> 01:54:27,220
from

3420
01:54:27,220 --> 01:54:30,400
happening kernel is something that you're

3421
01:54:30,400 --> 01:54:31,560
not going to be using but

3422
01:54:31,560 --> 01:54:32,960
basically it allows you to upgrade

3423
01:54:32,960 --> 01:54:33,160
your

3424
01:54:33,160 --> 01:54:35,540
linux kernel history is the history

3425
01:54:35,540 --> 01:54:37,020
of it destroy allows you to

3426
01:54:37,020 --> 01:54:38,860
destroy that droplet tags allows you

3427
01:54:38,860 --> 01:54:40,860
to tag it and recovery allows

3428
01:54:40,860 --> 01:54:43,080
you to try to recover your

3429
01:54:43,080 --> 01:54:45,020
droplet now that we've gone through

3430
01:54:45,020 --> 01:54:46,180
all of this

3431
01:54:46,180 --> 01:54:48,280
let's go up to our console

3432
01:54:48,280 --> 01:54:49,800
here and click on that you'll

3433
01:54:49,800 --> 01:54:50,920
see that that's going to pop

3434
01:54:50,920 --> 01:54:52,100
up a droplet

3435
01:54:52,100 --> 01:54:54,640
console now this is pretty cool

3436
01:54:54,640 --> 01:54:56,160
because you actually have a full

3437
01:54:56,160 --> 01:54:58,360
linux machine here so if you

3438
01:54:58,360 --> 01:54:58,720
don't know

3439
01:54:58,720 --> 01:55:00,480
linux now is the time to

3440
01:55:00,480 --> 01:55:02,480
learn because linux is very important

3441
01:55:02,480 --> 01:55:05,020
to know so first things first

3442
01:55:05,020 --> 01:55:05,660
inside

3443
01:55:05,660 --> 01:55:10,420
of ubuntu to install docker what

3444
01:55:10,420 --> 01:55:11,560
you need to do is you

3445
01:55:11,560 --> 01:55:12,400
need to type

3446
01:55:14,640 --> 01:55:18,160
sudo apt-get update and that's

3447
01:55:18,160 --> 01:55:20,400
going to update all of your

3448
01:55:20,400 --> 01:55:22,540
mirrors out there and then we

3449
01:55:22,540 --> 01:55:23,380
need to go in

3450
01:55:23,380 --> 01:55:25,880
and actually add the repository because

3451
01:55:25,880 --> 01:55:27,820
docker doesn't actually exist in the

3452
01:55:27,820 --> 01:55:28,820
repo by default

3453
01:55:28,820 --> 01:55:32,080
so we'll say sudo apt-get

3454
01:55:32,080 --> 01:55:38,940
install ca-certificates curl like that

3455
01:55:38,940 --> 01:55:40,660
and that's going to go ahead

3456
01:55:40,660 --> 01:55:40,980
and

3457
01:55:40,980 --> 01:55:42,080
make sure that we have curl

3458
01:55:42,080 --> 01:55:44,620
installed and then we'll sudo install

3459
01:55:44,620 --> 01:55:49,340
m 0755-d

3460
01:55:50,380 --> 01:55:54,460
slash etc slash apt slash key

3461
01:55:54,460 --> 01:55:57,780
rings and then we're going to

3462
01:55:57,780 --> 01:55:59,680
go in and curl out to

3463
01:55:59,680 --> 01:56:00,900
the docker

3464
01:56:00,900 --> 01:56:04,160
linux ubuntu i will actually leave

3465
01:56:04,160 --> 01:56:06,300
these commands in the comments below

3466
01:56:06,300 --> 01:56:07,060
by the way so you guys

3467
01:56:07,060 --> 01:56:07,700
can use it

3468
01:56:07,700 --> 01:56:09,260
but sudo curl

3469
01:56:12,260 --> 01:56:16,200
dash f s s dash l

3470
01:56:16,200 --> 01:56:20,880
f s capital s l https

3471
01:56:20,880 --> 01:56:24,900
colon slash slash download dot docker

3472
01:56:24,900 --> 01:56:28,080
dot com slash linux slash ubuntu

3473
01:56:28,740 --> 01:56:33,460
slash gpg dash o space slash

3474
01:56:33,460 --> 01:56:33,800
etc

3475
01:56:36,840 --> 01:56:41,120
slash apt slash key rings

3476
01:56:43,080 --> 01:56:47,180
slash docker dot asc and what

3477
01:56:47,180 --> 01:56:48,080
that's going to do is it's

3478
01:56:48,080 --> 01:56:50,640
going to actually create a docker

3479
01:56:51,520 --> 01:56:54,260
gpg apt repo for you so

3480
01:56:54,260 --> 01:56:55,420
that way you can actually go

3481
01:56:55,420 --> 01:56:56,240
and install docker

3482
01:56:56,240 --> 01:56:57,620
and then we need to allow

3483
01:56:57,620 --> 01:56:59,580
access to it so sudo ch

3484
01:56:59,580 --> 01:57:03,560
mod a plus r slash etc

3485
01:57:04,620 --> 01:57:09,220
slash apt slash key rings docker

3486
01:57:09,220 --> 01:57:11,620
asc and that basically allows us

3487
01:57:11,620 --> 01:57:12,120
to

3488
01:57:13,220 --> 01:57:16,400
execute and use that data that's

3489
01:57:16,400 --> 01:57:18,020
right there so basically linux is

3490
01:57:18,020 --> 01:57:18,740
a permission

3491
01:57:20,140 --> 01:57:22,660
system that is very very aggressive

3492
01:57:22,660 --> 01:57:23,820
so you need to make sure

3493
01:57:23,820 --> 01:57:26,920
that you keep that stuff under

3494
01:57:26,920 --> 01:57:27,300
wraps

3495
01:57:27,300 --> 01:57:29,340
if that makes sense so uh

3496
01:57:29,340 --> 01:57:31,240
linux by default does not give

3497
01:57:31,240 --> 01:57:32,840
you permissions to anything and

3498
01:57:32,840 --> 01:57:34,340
you have to give yourself permissions

3499
01:57:34,340 --> 01:57:35,800
to it so that's kind of

3500
01:57:35,800 --> 01:57:37,020
what we're doing right here

3501
01:57:37,660 --> 01:57:39,200
so then we can come in

3502
01:57:39,200 --> 01:57:42,860
here and finally fire off our

3503
01:57:42,860 --> 01:57:43,780
apt resources

3504
01:57:45,300 --> 01:57:46,460
now this command is going to

3505
01:57:46,460 --> 01:57:48,060
be really difficult to do so

3506
01:57:48,060 --> 01:57:50,580
we'll do echo slash enter and

3507
01:57:50,580 --> 01:57:50,860
that's going

3508
01:57:50,860 --> 01:57:52,000
to allow us to kind of

3509
01:57:52,000 --> 01:57:54,640
get a actual script going here

3510
01:57:54,640 --> 01:57:57,380
so we'll say quote deb space

3511
01:57:57,380 --> 01:57:59,920
bracket arch

3512
01:58:27,100 --> 01:58:29,900
that's going to be really difficult

3513
01:58:29,900 --> 01:58:29,900
to do so we're going to

3514
01:58:29,900 --> 01:58:29,900
do so we're going to do

3515
01:58:29,900 --> 01:58:29,900
so we're going to

3516
01:58:35,680 --> 01:58:39,120
docker dot docker dot com slash

3517
01:58:39,120 --> 01:58:41,880
linux slash ubuntu

3518
01:58:45,320 --> 01:58:46,660
and then we're going to put

3519
01:58:46,660 --> 01:58:51,460
that in dollar sign dot slash

3520
01:58:51,460 --> 01:58:52,260
etc

3521
01:58:52,260 --> 01:58:56,900
etc slash os dash release and

3522
01:58:56,900 --> 01:58:59,240
we're going to echo our version

3523
01:58:59,240 --> 01:58:59,880
code name

3524
01:59:04,300 --> 01:59:05,620
and we're going to pull back

3525
01:59:05,620 --> 01:59:09,560
the stable version like that we're

3526
01:59:09,560 --> 01:59:10,760
going to pass in a pipe

3527
01:59:10,760 --> 01:59:11,100
and we're

3528
01:59:11,100 --> 01:59:12,800
going to pipe that into sudo

3529
01:59:12,800 --> 01:59:17,840
t slash etc slash apt slash

3530
01:59:17,840 --> 01:59:21,580
source dot list dot d

3531
01:59:23,980 --> 01:59:27,740
slash docker dot list greater than

3532
01:59:27,740 --> 01:59:29,580
sign slash dev

3533
01:59:31,240 --> 01:59:33,580
slash null and i know that

3534
01:59:33,580 --> 01:59:36,920
that's a terrible command but basically

3535
01:59:36,920 --> 01:59:38,140
all this command is doing

3536
01:59:38,140 --> 01:59:39,640
is we're going and we're adding

3537
01:59:39,640 --> 01:59:41,960
in we're going deb all of

3538
01:59:41,960 --> 01:59:44,220
this information and we're piping all

3539
01:59:44,220 --> 01:59:44,460
this

3540
01:59:44,460 --> 01:59:47,760
info into our sudo our sources

3541
01:59:47,760 --> 01:59:50,020
list right here for docker and

3542
01:59:50,020 --> 01:59:51,660
that's basically all we're doing here

3543
01:59:51,660 --> 01:59:51,800
i

3544
01:59:51,800 --> 01:59:53,360
know that it seems really confusing

3545
01:59:53,360 --> 01:59:55,120
but that's basically what we're doing

3546
01:59:55,120 --> 01:59:56,160
here now i'm going to

3547
01:59:56,160 --> 01:59:57,640
double check this command because i

3548
01:59:57,640 --> 01:59:59,500
just spotted a mistake right here

3549
01:59:59,500 --> 02:00:01,540
where i did equal equal instead

3550
02:00:01,540 --> 02:00:03,420
of dash dash so let me

3551
02:00:03,420 --> 02:00:05,220
double check this command and make

3552
02:00:05,220 --> 02:00:06,340
sure that i'm happy with it

3553
02:00:06,340 --> 02:00:07,740
so we have arch

3554
02:00:07,740 --> 02:00:10,200
eat dollar sign d package our

3555
02:00:10,200 --> 02:00:12,080
print architecture we're going to sign

3556
02:00:12,080 --> 02:00:14,020
it by our docker asc

3557
02:00:14,860 --> 02:00:16,000
file and we're going to go

3558
02:00:16,000 --> 02:00:17,820
out to our docker linux ubuntu

3559
02:00:17,820 --> 02:00:19,340
and we're going to pull back

3560
02:00:19,340 --> 02:00:22,960
the os release

3561
02:00:24,620 --> 02:00:27,000
and i misspelled echo right here

3562
02:00:27,000 --> 02:00:27,940
you can see i made a

3563
02:00:27,940 --> 02:00:28,340
mistake

3564
02:00:28,340 --> 02:00:29,940
as always you make a million

3565
02:00:29,940 --> 02:00:31,160
mistakes when you do this so

3566
02:00:31,160 --> 02:00:31,760
echo

3567
02:00:37,780 --> 02:00:39,820
echo so that's e-c-h

3568
02:00:39,820 --> 02:00:41,240
-o and then we have our

3569
02:00:41,240 --> 02:00:43,100
version code name that we are

3570
02:00:43,100 --> 02:00:44,060
echoing into

3571
02:00:44,060 --> 02:00:46,460
our release we're pulling back the

3572
02:00:46,460 --> 02:00:48,040
stable edition we're going to pipe

3573
02:00:48,040 --> 02:00:49,440
that into sudo t

3574
02:00:49,940 --> 02:00:51,940
right here into our docker lists

3575
02:00:51,940 --> 02:00:53,980
and we're greater than slash dev

3576
02:00:53,980 --> 02:00:56,240
null and we'll run that

3577
02:00:57,780 --> 02:00:59,600
command e-c-o is not

3578
02:00:59,600 --> 02:01:01,780
found that's because i spelled echo

3579
02:01:01,780 --> 02:01:03,700
wrong so i guess it's good

3580
02:01:03,700 --> 02:01:04,060
thing

3581
02:01:04,060 --> 02:01:06,200
that i that it failed immediately

3582
02:01:06,200 --> 02:01:09,900
so e c h o and

3583
02:01:09,900 --> 02:01:11,600
we will try running it hopefully

3584
02:01:11,600 --> 02:01:12,500
this doesn't blow up

3585
02:01:14,680 --> 02:01:16,360
all right so we have no

3586
02:01:16,360 --> 02:01:20,480
such file or directory so all

3587
02:01:20,480 --> 02:01:21,320
right so i think i figured

3588
02:01:21,320 --> 02:01:22,300
it out basically there

3589
02:01:22,300 --> 02:01:23,640
is an issue with the command

3590
02:01:23,640 --> 02:01:26,080
for i think it was this

3591
02:01:26,080 --> 02:01:29,020
area here so don't worry just

3592
02:01:29,020 --> 02:01:31,020
copy what i have

3593
02:01:31,020 --> 02:01:33,000
in my description and just use

3594
02:01:33,000 --> 02:01:34,440
that and it will just work

3595
02:01:34,440 --> 02:01:36,120
for you so now all i

3596
02:01:36,120 --> 02:01:36,760
got to do is type

3597
02:01:36,760 --> 02:01:42,120
sudo apt dash get update like

3598
02:01:42,120 --> 02:01:43,160
that and that's going to update

3599
02:01:43,160 --> 02:01:45,260
all of our packages in our

3600
02:01:45,260 --> 02:01:46,300
repo and it's

3601
02:01:46,300 --> 02:01:47,520
going to go and fetch out

3602
02:01:47,520 --> 02:01:50,880
to the docker system and pull

3603
02:01:50,880 --> 02:01:53,740
back the actual docker packages so

3604
02:01:53,740 --> 02:01:54,000
you can see

3605
02:01:54,000 --> 02:01:56,100
right here it's actually pulling down

3606
02:01:56,100 --> 02:01:58,100
that information right there and then

3607
02:01:58,100 --> 02:01:58,540
we're going to go ahead

3608
02:01:58,540 --> 02:02:00,880
and install docker so sudo apt

3609
02:02:00,880 --> 02:02:05,220
dash get install docker dash ce

3610
02:02:05,220 --> 02:02:09,560
docker dash ce dash cli

3611
02:02:12,460 --> 02:02:16,960
container.io docker dash build dash

3612
02:02:16,960 --> 02:02:20,500
plug-in and finally the most

3613
02:02:20,500 --> 02:02:22,820
important one of the group docker

3614
02:02:22,820 --> 02:02:23,240
dash

3615
02:02:23,240 --> 02:02:25,560
compose dash compose dash plug-in

3616
02:02:25,560 --> 02:02:27,780
and that's the big one that's

3617
02:02:27,780 --> 02:02:29,520
the one that's actually going to

3618
02:02:29,520 --> 02:02:31,580
matter for our project for the

3619
02:02:31,580 --> 02:02:32,360
most part i mean the rest

3620
02:02:32,360 --> 02:02:33,760
of these are obviously important docker

3621
02:02:33,760 --> 02:02:34,060
ce

3622
02:02:34,060 --> 02:02:37,280
is the docker uh runtime docker

3623
02:02:37,280 --> 02:02:39,380
ce cli is this command line

3624
02:02:39,380 --> 02:02:42,320
interface the uh container is the

3625
02:02:42,320 --> 02:02:42,620
actual

3626
02:02:42,620 --> 02:02:46,180
container uh system docker build plugins

3627
02:02:46,180 --> 02:02:47,940
is to build your own docker

3628
02:02:47,940 --> 02:02:49,680
containers and then docker compose

3629
02:02:49,680 --> 02:02:52,240
allows you to actually compose dockers

3630
02:02:52,240 --> 02:02:53,740
based off of a docker composition

3631
02:02:53,740 --> 02:02:55,580
file if you remember before

3632
02:02:55,580 --> 02:02:56,960
when we talked about how to

3633
02:02:56,960 --> 02:02:58,640
build nakama that was one of

3634
02:02:58,640 --> 02:02:59,740
the big things that you need

3635
02:02:59,740 --> 02:03:00,800
to use so we'll

3636
02:03:00,800 --> 02:03:01,840
hit enter it's going to go

3637
02:03:01,840 --> 02:03:02,960
ahead and try to pull it

3638
02:03:02,960 --> 02:03:04,460
it says that it cannot locate

3639
02:03:04,460 --> 02:03:05,840
the docker build plugin

3640
02:03:05,840 --> 02:03:07,320
my guess is i spelled something

3641
02:03:07,320 --> 02:03:10,560
wrong here so let's see docker

3642
02:03:10,560 --> 02:03:14,000
build x plugin there we go

3643
02:03:14,000 --> 02:03:15,000
hit go

3644
02:03:15,000 --> 02:03:17,200
and it should go ahead and

3645
02:03:17,200 --> 02:03:21,200
download and install docker now we

3646
02:03:21,200 --> 02:03:22,840
might need to upgrade to the

3647
02:03:22,840 --> 02:03:23,180
next

3648
02:03:23,180 --> 02:03:25,120
step up to the one gigabyte

3649
02:03:25,120 --> 02:03:26,040
edition but we're going to see

3650
02:03:26,040 --> 02:03:27,220
if we can get away with

3651
02:03:27,220 --> 02:03:28,080
the four

3652
02:03:28,080 --> 02:03:30,500
dollar a month version first and

3653
02:03:30,500 --> 02:03:32,020
if we can't then we'll upgrade

3654
02:03:32,020 --> 02:03:33,980
to the six dollar a month

3655
02:03:33,980 --> 02:03:34,980
version and

3656
02:03:34,980 --> 02:03:36,260
then we can run our docker

3657
02:03:36,260 --> 02:03:38,060
setup here so we'll see how

3658
02:03:38,060 --> 02:03:39,560
this works but we'll go from

3659
02:03:39,560 --> 02:03:39,760
there

3660
02:03:41,400 --> 02:03:43,280
so it looks like it is

3661
02:03:43,280 --> 02:03:44,920
running if we type ps you

3662
02:03:44,920 --> 02:03:46,800
will see that we have a

3663
02:03:46,800 --> 02:03:49,820
bash and ps running

3664
02:03:52,420 --> 02:03:54,700
so if we type docker is

3665
02:03:54,700 --> 02:03:56,060
it going to pop up and

3666
02:03:56,060 --> 02:03:57,320
there we go so we do

3667
02:03:57,320 --> 02:03:59,920
have docker running so perfect

3668
02:03:59,920 --> 02:04:01,900
that's exactly what we want so

3669
02:04:01,900 --> 02:04:04,740
now from here we need to

3670
02:04:04,740 --> 02:04:07,040
get a docker compose file onto

3671
02:04:07,040 --> 02:04:08,520
here so if we

3672
02:04:08,520 --> 02:04:11,060
type ls right here you can

3673
02:04:11,060 --> 02:04:12,540
see that we have nothing going

3674
02:04:12,540 --> 02:04:14,560
on so what we can do

3675
02:04:14,560 --> 02:04:16,620
is we can type mk

3676
02:04:16,620 --> 02:04:21,140
dur nakama cd nakama like that

3677
02:04:21,140 --> 02:04:21,920
and that's going to get us

3678
02:04:21,920 --> 02:04:23,900
into that directory so mk dur

3679
02:04:23,900 --> 02:04:24,380
makes the

3680
02:04:24,380 --> 02:04:26,420
directory cd nakama just brings us

3681
02:04:26,420 --> 02:04:29,680
into the nakama directory so now

3682
02:04:29,680 --> 02:04:31,620
we can come in here and

3683
02:04:31,620 --> 02:04:32,360
basically

3684
02:04:32,360 --> 02:04:37,080
compose our docker file so if

3685
02:04:37,080 --> 02:04:38,620
we're lucky we'll be able to

3686
02:04:38,620 --> 02:04:40,800
just copy and paste our composition

3687
02:04:40,800 --> 02:04:41,100
file

3688
02:04:41,100 --> 02:04:42,200
so if we go out here

3689
02:04:42,200 --> 02:04:44,260
we go to documents and we

3690
02:04:44,260 --> 02:04:46,480
find our nakama instance i believe

3691
02:04:46,480 --> 02:04:48,320
i have a nakama

3692
02:04:48,320 --> 02:04:52,420
server tutorial docker compose.yaml so

3693
02:04:52,420 --> 02:04:54,000
if we open this guy up

3694
02:04:54,000 --> 02:04:56,600
you'll see this is what our

3695
02:04:56,600 --> 02:04:57,520
docker compose

3696
02:04:57,520 --> 02:04:59,700
file looks like you can see

3697
02:04:59,700 --> 02:05:00,900
right here this is what it

3698
02:05:00,900 --> 02:05:01,820
looks like so if we hit

3699
02:05:01,820 --> 02:05:03,680
ctrl a ctrl c

3700
02:05:04,160 --> 02:05:06,820
and then we go into our

3701
02:05:06,820 --> 02:05:09,140
web browser here and we type

3702
02:05:09,140 --> 02:05:16,260
nano docker dash compose dot yml

3703
02:05:17,200 --> 02:05:19,280
and then we right click paste

3704
02:05:19,280 --> 02:05:21,400
it should paste all that data

3705
02:05:21,400 --> 02:05:23,520
right into here so that way

3706
02:05:23,520 --> 02:05:23,920
we don't

3707
02:05:23,920 --> 02:05:25,340
actually have to set up filezilla

3708
02:05:25,340 --> 02:05:27,200
because one of the things that's

3709
02:05:27,200 --> 02:05:28,760
unfortunate is a lot of times

3710
02:05:28,760 --> 02:05:31,940
if you're doing godot networking you

3711
02:05:31,940 --> 02:05:34,040
need to actually put files up

3712
02:05:34,040 --> 02:05:36,660
into filezilla and into the

3713
02:05:36,660 --> 02:05:38,900
ftp and bring them over to

3714
02:05:38,900 --> 02:05:41,140
digital oceans to your digital ocean

3715
02:05:41,140 --> 02:05:43,040
droplet so thankfully we can just

3716
02:05:43,040 --> 02:05:43,320
copy

3717
02:05:43,320 --> 02:05:45,420
and paste this and control x

3718
02:05:45,420 --> 02:05:48,360
y and it'll be docker compose

3719
02:05:48,360 --> 02:05:51,320
dot yaml and now from here

3720
02:05:51,320 --> 02:05:52,780
we should be able

3721
02:05:52,780 --> 02:05:55,400
to just get it to run

3722
02:05:55,400 --> 02:05:57,780
if we're lucky so what we'll

3723
02:05:57,780 --> 02:05:59,880
do come in here and type

3724
02:05:59,880 --> 02:06:03,000
docker compose up and

3725
02:06:03,000 --> 02:06:04,000
you'll see it's going to go

3726
02:06:04,000 --> 02:06:05,720
ahead and attempt to pull and

3727
02:06:05,720 --> 02:06:08,300
build our docker instance right here

3728
02:06:08,300 --> 02:06:08,960
now we

3729
02:06:08,960 --> 02:06:10,660
might run out of ram it

3730
02:06:10,660 --> 02:06:13,340
just kind of depends but hopefully

3731
02:06:13,340 --> 02:06:15,000
with 512 megs of ram it's

3732
02:06:15,000 --> 02:06:15,300
going to be

3733
02:06:15,300 --> 02:06:16,860
really tight i don't know if

3734
02:06:16,860 --> 02:06:17,820
this is going to work we're

3735
02:06:17,820 --> 02:06:18,800
probably going to need a gig

3736
02:06:18,800 --> 02:06:19,940
but we can see

3737
02:06:19,940 --> 02:06:21,620
so we'll let this run and

3738
02:06:21,620 --> 02:06:22,960
we'll attempt to run it and

3739
02:06:22,960 --> 02:06:25,420
it looks like it might have

3740
02:06:25,420 --> 02:06:27,280
worked so what

3741
02:06:27,280 --> 02:06:28,700
we can do is if we

3742
02:06:28,700 --> 02:06:31,740
go out to our youtube 2

3743
02:06:31,740 --> 02:06:34,320
we grab our public ip we

3744
02:06:34,320 --> 02:06:35,680
go to our nakama console

3745
02:06:36,260 --> 02:06:38,980
and we just put in actually

3746
02:06:38,980 --> 02:06:40,420
i'll just make a new thing

3747
02:06:40,420 --> 02:06:44,440
colon and we'll put in 7351

3748
02:06:44,440 --> 02:06:47,440
so 7351 enter

3749
02:06:48,120 --> 02:06:49,880
does it do anything that's the

3750
02:06:49,880 --> 02:06:52,580
first question it doesn't look like

3751
02:06:52,580 --> 02:06:54,400
it's going to so now we

3752
02:06:54,400 --> 02:06:54,640
got to

3753
02:06:54,640 --> 02:06:57,340
figure out is it this guy's

3754
02:06:57,340 --> 02:06:59,560
fault it looks like this is

3755
02:06:59,560 --> 02:07:04,580
running so my question is server

3756
02:07:04,580 --> 02:07:04,960
is ready

3757
02:07:04,960 --> 02:07:06,740
to receive web requests so it

3758
02:07:06,740 --> 02:07:08,560
did spin up properly it started

3759
02:07:08,560 --> 02:07:11,460
the rule manager properly so that's

3760
02:07:11,460 --> 02:07:12,060
good

3761
02:07:12,060 --> 02:07:13,900
news oh you can see it

3762
02:07:13,900 --> 02:07:16,400
is just absolutely chugging though so

3763
02:07:16,400 --> 02:07:17,320
if we take a look at

3764
02:07:17,320 --> 02:07:19,280
our youtube docker

3765
02:07:19,280 --> 02:07:22,120
container let's see it looks like

3766
02:07:22,120 --> 02:07:24,400
our cpu utilization is pretty high

3767
02:07:24,400 --> 02:07:26,400
our disk io is relatively high

3768
02:07:26,400 --> 02:07:26,860
as well

3769
02:07:26,860 --> 02:07:29,460
we probably need to upgrade to

3770
02:07:29,460 --> 02:07:31,860
have one gig of ram but

3771
02:07:31,860 --> 02:07:35,820
at least it is running so

3772
02:07:35,820 --> 02:07:37,400
there is that the

3773
02:07:37,400 --> 02:07:39,580
question is so i was able

3774
02:07:39,580 --> 02:07:40,700
to get it to stop so

3775
02:07:40,700 --> 02:07:42,140
what we'll do is we'll close

3776
02:07:42,140 --> 02:07:43,380
it we'll go to our youtube

3777
02:07:43,380 --> 02:07:45,760
we'll go over to upgrade droplet

3778
02:07:45,760 --> 02:07:47,200
and then we'll go ahead and

3779
02:07:47,200 --> 02:07:48,560
just upgrade that up to

3780
02:07:48,560 --> 02:07:51,160
one size larger to the one

3781
02:07:51,160 --> 02:07:53,020
gigabyte edition so we'll do that

3782
02:07:53,020 --> 02:07:56,720
and then we'll click cpu ram

3783
02:07:57,380 --> 02:07:58,700
when it's going to ask us

3784
02:07:58,700 --> 02:08:00,180
to turn off our droplet so

3785
02:08:00,180 --> 02:08:01,760
we'll go up to power we'll

3786
02:08:01,760 --> 02:08:02,640
power it off because

3787
02:08:02,640 --> 02:08:04,140
there's nothing on here anyway so

3788
02:08:04,140 --> 02:08:05,380
we can just power cycle it

3789
02:08:05,380 --> 02:08:07,180
pretty hard there we go it's

3790
02:08:07,180 --> 02:08:07,860
powered down

3791
02:08:07,860 --> 02:08:10,120
we'll go to resize and we'll

3792
02:08:10,120 --> 02:08:12,260
adjust it up one size just

3793
02:08:12,260 --> 02:08:14,060
to let it be the proper

3794
02:08:14,060 --> 02:08:15,800
size that it needs to

3795
02:08:15,800 --> 02:08:17,060
be we're going to let that

3796
02:08:17,060 --> 02:08:18,640
run you'll see it's thinking about

3797
02:08:18,640 --> 02:08:21,060
it there we go and now

3798
02:08:21,060 --> 02:08:21,720
we got a

3799
02:08:21,720 --> 02:08:24,580
one size bigger droplet now we

3800
02:08:24,580 --> 02:08:25,700
can go ahead and power cycle

3801
02:08:25,700 --> 02:08:27,620
that bad boy back on let's

3802
02:08:27,620 --> 02:08:28,100
go into our

3803
02:08:28,100 --> 02:08:29,940
networking let's come down to our

3804
02:08:29,940 --> 02:08:32,380
firewall and create a firewall now

3805
02:08:32,380 --> 02:08:33,740
the firewall is just going to

3806
02:08:33,740 --> 02:08:34,380
be test

3807
02:08:34,380 --> 02:08:36,640
firewall and what we'll do is

3808
02:08:36,640 --> 02:08:38,600
we'll have an inbound of ssh

3809
02:08:38,600 --> 02:08:40,360
we're also going to allow

3810
02:08:44,120 --> 02:08:46,720
a custom one and we're going

3811
02:08:46,720 --> 02:08:50,060
to allow for seven three five

3812
02:08:50,060 --> 02:08:51,960
one so we'll copy that bad

3813
02:08:51,960 --> 02:08:52,200
boy

3814
02:08:53,020 --> 02:08:54,920
and we'll go ahead and paste

3815
02:08:54,920 --> 02:08:56,200
it like that and then we'll

3816
02:08:56,200 --> 02:08:58,940
do the same thing for seven

3817
02:08:58,940 --> 02:09:00,200
three five zero

3818
02:09:00,840 --> 02:09:02,360
as well and then we're going

3819
02:09:02,360 --> 02:09:05,140
to allow another one which is

3820
02:09:05,140 --> 02:09:06,260
going to be seven three five

3821
02:09:06,260 --> 02:09:07,300
one udp

3822
02:09:07,300 --> 02:09:10,520
and seven three five zero udp

3823
02:09:10,520 --> 02:09:12,320
that way we can have all

3824
02:09:12,320 --> 02:09:13,500
of our stuff all of our

3825
02:09:13,500 --> 02:09:14,200
ducks in a row and

3826
02:09:14,200 --> 02:09:15,860
everything kind of covered now you

3827
02:09:15,860 --> 02:09:17,440
can see here all outbound is

3828
02:09:17,440 --> 02:09:19,040
good and we should be good

3829
02:09:19,040 --> 02:09:19,580
to go so

3830
02:09:19,580 --> 02:09:21,020
we'll go ahead and hit create

3831
02:09:21,020 --> 02:09:23,500
firewall and that should create that

3832
02:09:23,500 --> 02:09:26,040
firewall onto that networking system so

3833
02:09:26,040 --> 02:09:27,540
we go to our droplet and

3834
02:09:27,540 --> 02:09:28,920
we go to youtube 2 you

3835
02:09:28,920 --> 02:09:31,800
should see right here under our

3836
02:09:31,800 --> 02:09:34,360
firewall networking

3837
02:09:35,540 --> 02:09:37,380
no firewalls are applied to this

3838
02:09:37,380 --> 02:09:39,100
droplet so i need to apply

3839
02:09:39,100 --> 02:09:41,480
this firewall so let's see if

3840
02:09:41,480 --> 02:09:41,900
we

3841
02:09:41,900 --> 02:09:44,580
need droplets we can choose our

3842
02:09:44,580 --> 02:09:46,740
droplet add droplet and then we

3843
02:09:46,740 --> 02:09:49,220
will search for youtube 2

3844
02:09:49,860 --> 02:09:51,300
and we'll go ahead and connect

3845
02:09:51,300 --> 02:09:52,920
it to that droplet so now

3846
02:09:52,920 --> 02:09:54,980
that should give our droplet the

3847
02:09:54,980 --> 02:09:55,520
firewall

3848
02:09:55,520 --> 02:09:57,460
it needs to do its job

3849
02:09:57,460 --> 02:09:58,260
so now we should be able

3850
02:09:58,260 --> 02:09:59,860
to go to console and fire

3851
02:09:59,860 --> 02:10:02,180
that up and then hit

3852
02:10:04,940 --> 02:10:07,960
cd nakama and then docker compose

3853
02:10:07,960 --> 02:10:10,360
up and in theory it should

3854
02:10:10,360 --> 02:10:11,940
run a lot faster which it

3855
02:10:11,940 --> 02:10:12,620
is you can see

3856
02:10:12,620 --> 02:10:14,420
it's actually firing off just well

3857
02:10:14,420 --> 02:10:16,880
the init node was successfully done

3858
02:10:16,880 --> 02:10:19,100
cockroach database is up so

3859
02:10:19,100 --> 02:10:20,360
now we're starting to get the

3860
02:10:20,360 --> 02:10:22,200
proper logs that we expect so

3861
02:10:22,200 --> 02:10:23,860
my guess is it had something

3862
02:10:23,860 --> 02:10:24,360
to do with

3863
02:10:24,360 --> 02:10:25,880
the lack of ram that we

3864
02:10:25,880 --> 02:10:27,720
had so let's try that we'll

3865
02:10:27,720 --> 02:10:30,320
refresh and there we go so

3866
02:10:30,320 --> 02:10:31,820
you can see now we have

3867
02:10:31,820 --> 02:10:35,580
nakama running out on our website

3868
02:10:35,580 --> 02:10:38,280
which is one nine eight nine

3869
02:10:38,280 --> 02:10:41,160
one nine nine eighty one one

3870
02:10:41,160 --> 02:10:41,800
eight

3871
02:10:41,800 --> 02:10:43,080
and you guys of course can

3872
02:10:43,080 --> 02:10:44,740
go to this and use it

3873
02:10:44,740 --> 02:10:46,880
so if you type admin password

3874
02:10:46,880 --> 02:10:49,120
you can see we have

3875
02:10:49,120 --> 02:10:51,600
our nakama instance just like before

3876
02:10:51,600 --> 02:10:54,100
and it's exactly the same so

3877
02:10:54,100 --> 02:10:55,720
you guys can actually use this

3878
02:10:55,720 --> 02:10:56,520
for your

3879
02:10:56,520 --> 02:10:58,860
own project providing that it doesn't

3880
02:10:58,860 --> 02:11:01,100
get shut down immediately because for

3881
02:11:01,100 --> 02:11:02,240
some reason it gets

3882
02:11:02,240 --> 02:11:04,040
shut down sometimes and that causes

3883
02:11:04,040 --> 02:11:08,240
some issues but that's how easy

3884
02:11:08,240 --> 02:11:09,380
it is to get this to

3885
02:11:09,380 --> 02:11:10,400
fire off

3886
02:11:10,400 --> 02:11:12,320
now and in order to detach

3887
02:11:12,320 --> 02:11:14,160
let's hit ctrl c we'll stop

3888
02:11:14,160 --> 02:11:15,900
our docker connection right here

3889
02:11:16,600 --> 02:11:18,040
and you'll see in a second

3890
02:11:18,040 --> 02:11:19,680
it's going to gracefully stop so

3891
02:11:19,680 --> 02:11:20,640
we'll give it a minute to

3892
02:11:20,640 --> 02:11:21,660
kill everything

3893
02:11:23,720 --> 02:11:26,220
we'll hit docker compose up dash

3894
02:11:26,220 --> 02:11:29,860
dash detach what that should do

3895
02:11:29,860 --> 02:11:31,400
is it should allow us to

3896
02:11:31,400 --> 02:11:32,040
fire this

3897
02:11:32,040 --> 02:11:34,240
up and be detached and there

3898
02:11:34,240 --> 02:11:35,700
you go so now we're detached

3899
02:11:35,700 --> 02:11:37,400
so if we hit ps you'll

3900
02:11:37,400 --> 02:11:38,340
see that it's not

3901
02:11:38,340 --> 02:11:40,200
running but if i come in

3902
02:11:40,200 --> 02:11:41,740
here and i refresh you can

3903
02:11:41,740 --> 02:11:43,340
see that nakama is running if

3904
02:11:43,340 --> 02:11:45,040
i close this and i

3905
02:11:45,040 --> 02:11:46,800
refresh you will see that nakama

3906
02:11:46,800 --> 02:11:49,120
is running even though we are

3907
02:11:49,120 --> 02:11:51,220
no longer connected to our docker

3908
02:11:51,220 --> 02:11:53,340
instance so that's how we can

3909
02:11:53,340 --> 02:11:55,400
actually get that to run without

3910
02:11:55,400 --> 02:11:59,020
needing to keep that window open

3911
02:11:59,020 --> 02:11:59,920
because if you were to have

3912
02:11:59,920 --> 02:12:02,680
closed the window when nakama's running

3913
02:12:02,680 --> 02:12:04,120
like that previously without

3914
02:12:04,120 --> 02:12:06,860
running the dash dash detach then

3915
02:12:06,860 --> 02:12:08,600
it would have closed that docker

3916
02:12:08,600 --> 02:12:09,760
instance and then your whole

3917
02:12:09,760 --> 02:12:11,480
project would have been gone so

3918
02:12:11,480 --> 02:12:13,900
that's basically how that works so

3919
02:12:13,900 --> 02:12:15,940
now if we head out to

3920
02:12:15,940 --> 02:12:16,860
godot here

3921
02:12:16,860 --> 02:12:18,020
we can come up to here

3922
02:12:18,020 --> 02:12:22,040
and change this value to our

3923
02:12:22,040 --> 02:12:23,880
nakama instance so if we come

3924
02:12:23,880 --> 02:12:24,300
in here

3925
02:12:24,300 --> 02:12:26,180
you can see here is our

3926
02:12:26,180 --> 02:12:27,800
nakama instance right here so we'll

3927
02:12:27,800 --> 02:12:30,160
copy that we'll paste this like

3928
02:12:30,160 --> 02:12:31,660
so and then

3929
02:12:31,660 --> 02:12:34,940
if we hit play you will

3930
02:12:34,940 --> 02:12:38,660
see that we can now submit

3931
02:12:38,660 --> 02:12:41,600
and log in so you'll see

3932
02:12:41,600 --> 02:12:43,640
that i have logged in so

3933
02:12:43,640 --> 02:12:43,820
now

3934
02:12:43,820 --> 02:12:44,880
if i take a look at

3935
02:12:44,880 --> 02:12:46,760
my nakama instance out here on

3936
02:12:46,760 --> 02:12:49,720
the web if i refresh you'll

3937
02:12:49,720 --> 02:12:50,440
see that when we go

3938
02:12:50,440 --> 02:12:52,080
to accounts i have an account

3939
02:12:52,080 --> 02:12:55,180
right here just like as if

3940
02:12:55,180 --> 02:12:57,300
i was playing the game locally

3941
02:12:57,300 --> 02:12:58,440
so this is how

3942
02:12:58,440 --> 02:12:59,640
that works and you can come

3943
02:12:59,640 --> 02:13:01,480
in here and go test two

3944
02:13:01,480 --> 02:13:03,760
and you'll see that if i

3945
02:13:03,760 --> 02:13:06,300
click name of match test

3946
02:13:07,000 --> 02:13:10,260
join create test join create we

3947
02:13:10,260 --> 02:13:12,400
just joined our match and then

3948
02:13:12,400 --> 02:13:14,940
if the host says start game

3949
02:13:14,940 --> 02:13:15,500
and then

3950
02:13:15,500 --> 02:13:17,440
start game you'll see that we

3951
02:13:17,440 --> 02:13:19,400
both started our game now something

3952
02:13:19,400 --> 02:13:21,240
here is broken but i don't

3953
02:13:21,240 --> 02:13:21,520
think that

3954
02:13:21,520 --> 02:13:23,660
that's a nakama issue i think

3955
02:13:23,660 --> 02:13:25,520
that's just a my code issue

3956
02:13:25,520 --> 02:13:27,680
so you can see that we

3957
02:13:27,680 --> 02:13:29,060
are transferring the

3958
02:13:29,060 --> 02:13:31,420
data as expected here in our

3959
02:13:31,420 --> 02:13:33,780
nakama instance so we do have

3960
02:13:33,780 --> 02:13:36,200
the presences as expected but i

3961
02:13:36,200 --> 02:13:37,020
feel like

3962
02:13:37,020 --> 02:13:40,180
something here is wonky a little

3963
02:13:40,180 --> 02:13:41,880
bit and i think that's because

3964
02:13:41,880 --> 02:13:44,180
i'm not in the right scene

3965
02:13:44,180 --> 02:13:44,820
to do

3966
02:13:44,820 --> 02:13:45,620
this i think i have to

3967
02:13:45,620 --> 02:13:48,180
go to game manager.tscn if

3968
02:13:48,180 --> 02:13:49,540
you remember this is our game

3969
02:13:49,540 --> 02:13:50,640
manager here so

3970
02:13:50,640 --> 02:13:53,320
let's refresh this guy let's try

3971
02:13:53,320 --> 02:13:55,380
rerunning it so we'll hit test

3972
02:13:55,380 --> 02:14:00,680
test to test join create test

3973
02:14:00,680 --> 02:14:01,080
join

3974
02:14:01,080 --> 02:14:03,960
create start game start game and

3975
02:14:03,960 --> 02:14:05,220
you can see that our game

3976
02:14:05,220 --> 02:14:08,540
is now running not locally anymore

3977
02:14:08,540 --> 02:14:09,420
so this

3978
02:14:09,420 --> 02:14:11,560
will work with your friends across

3979
02:14:11,560 --> 02:14:12,840
the web and what i'm going

3980
02:14:12,840 --> 02:14:13,620
to do is i'm going to

3981
02:14:13,620 --> 02:14:14,200
go get one of my

3982
02:14:14,200 --> 02:14:16,340
friends and i will have him

3983
02:14:16,340 --> 02:14:18,620
pull my code and then he

3984
02:14:18,620 --> 02:14:19,880
will also do this and i'll

3985
02:14:19,880 --> 02:14:20,500
show you guys that

3986
02:14:20,500 --> 02:14:21,820
it does work out on the

3987
02:14:21,820 --> 02:14:23,440
internet so i will be right

3988
02:14:23,440 --> 02:14:23,740
back

3989
02:14:26,060 --> 02:14:27,620
okay and then hit start game

3990
02:14:27,620 --> 02:14:30,860
and as you guys can see

3991
02:14:30,860 --> 02:14:33,520
right here my friend and i

3992
02:14:33,520 --> 02:14:34,480
are both working

3993
02:14:34,480 --> 02:14:36,580
together and playing the same game

3994
02:14:36,580 --> 02:14:38,520
at the same time over the

3995
02:14:38,520 --> 02:14:41,160
internet using our nakama instance now

3996
02:14:41,160 --> 02:14:42,960
you can see here that there

3997
02:14:42,960 --> 02:14:44,140
is a little bit of lag

3998
02:14:44,140 --> 02:14:45,540
and i think the reason for

3999
02:14:45,540 --> 02:14:46,660
that is because we're

4000
02:14:46,660 --> 02:14:50,460
flooding the actual nakama instance because

4001
02:14:50,460 --> 02:14:53,880
it has a bunch of data

4002
02:14:53,880 --> 02:14:55,200
that it's passing through so we

4003
02:14:55,200 --> 02:14:56,440
should probably figure out a better

4004
02:14:56,440 --> 02:14:58,420
way to optimize this but at

4005
02:14:58,420 --> 02:14:59,700
least we have it working for

4006
02:14:59,700 --> 02:15:00,120
now

4007
02:15:00,740 --> 02:15:03,040
so at this point we've gone

4008
02:15:03,040 --> 02:15:05,160
through quite a few things we

4009
02:15:05,160 --> 02:15:07,020
talked about groups we talked about

4010
02:15:07,020 --> 02:15:08,880
chatting and we talked about how

4011
02:15:08,880 --> 02:15:10,500
to get our stuff to work

4012
02:15:10,500 --> 02:15:13,220
out on the internet for our

4013
02:15:13,220 --> 02:15:14,980
project and allow us to

4014
02:15:14,980 --> 02:15:17,620
work on multiple networks with each

4015
02:15:17,620 --> 02:15:18,900
other so if you like this

4016
02:15:18,900 --> 02:15:19,880
video go and hit that like

4017
02:15:19,880 --> 02:15:20,420
button hey

4018
02:15:20,420 --> 02:15:21,460
you know if you dislike this

4019
02:15:21,460 --> 02:15:22,360
video go and hit that dislike

4020
02:15:22,360 --> 02:15:23,560
button because i am here to

4021
02:15:23,560 --> 02:15:24,480
make content for

4022
02:15:24,480 --> 02:15:26,220
you guys this video was a

4023
02:15:26,220 --> 02:15:27,340
viewer suggested video so if you

4024
02:15:27,340 --> 02:15:28,900
have any suggestions please leave them

4025
02:15:28,900 --> 02:15:29,020
in the

4026
02:15:29,020 --> 02:15:30,760
comments below or jump on my

4027
02:15:30,760 --> 02:15:32,240
github link is in the description

4028
02:15:32,240 --> 02:15:33,800
and put in a service ticket

4029
02:15:33,800 --> 02:15:34,340
and i'll be

4030
02:15:34,340 --> 02:15:35,180
more than happy to add it

4031
02:15:35,180 --> 02:15:36,640
to my list of tutorials for

4032
02:15:36,640 --> 02:15:37,820
the future and hey if you

4033
02:15:37,820 --> 02:15:38,620
have any questions or

4034
02:15:38,620 --> 02:15:40,540
comments about this video go ahead

4035
02:15:40,540 --> 02:15:41,340
and leave them in the comments

4036
02:15:41,340 --> 02:15:42,900
below or jump on my discord

4037
02:15:42,900 --> 02:15:43,460
link is in the

4038
02:15:43,460 --> 02:15:44,780
description and i'll be more than

4039
02:15:44,780 --> 02:15:46,380
happy to help you out but

4040
02:15:46,380 --> 02:15:48,060
that is all i have for

4041
02:15:48,060 --> 02:15:48,520
you guys today

4042
02:15:48,520 --> 02:15:51,080
so thank you so much again

4043
02:15:51,080 --> 02:15:52,660
for watching and i will see

4044
02:15:52,660 --> 02:15:54,400
you all next time thanks

4045
02:15:56,720 --> 02:15:58,120
so

4046
02:16:04,320 --> 02:16:05,720
so

4047
02:16:10,200 --> 02:16:10,560
Thank you.

