1
00:00:00,000 --> 00:00:01,800
hey guys this is mitch with

2
00:00:01,800 --> 00:00:03,800
fine boy cgi and today we're

3
00:00:03,800 --> 00:00:05,840
going to continue our nakama tutorial

4
00:00:06,190 --> 00:00:08,500
series where i take you from

5
00:00:08,500 --> 00:00:11,460
zero to understanding all the fundamentals

6
00:00:11,460 --> 00:00:13,420
of nakama and in this video

7
00:00:13,420 --> 00:00:14,520
we're going to talk about how

8
00:00:14,520 --> 00:00:16,200
to do groups so that's going

9
00:00:16,200 --> 00:00:17,600
to allow you to add users

10
00:00:17,600 --> 00:00:18,020
to like

11
00:00:18,020 --> 00:00:19,340
a guild or like a group

12
00:00:19,340 --> 00:00:21,240
setting then we're going to talk

13
00:00:21,240 --> 00:00:23,560
about doing chats and chatting between

14
00:00:23,560 --> 00:00:25,320
each other so sending messages to

15
00:00:25,320 --> 00:00:28,280
each other and finally due to

16
00:00:28,280 --> 00:00:29,540
popular request i'm going

17
00:00:29,540 --> 00:00:31,040
to talk about how to host

18
00:00:31,040 --> 00:00:32,880
your nakama instance out on the

19
00:00:32,880 --> 00:00:34,680
internet so that you can play

20
00:00:34,680 --> 00:00:35,080
games

21
00:00:35,080 --> 00:00:37,100
with your friends or of course

22
00:00:37,100 --> 00:00:38,780
you can release your game out

23
00:00:38,780 --> 00:00:40,520
to make it into a multiplayer

24
00:00:40,520 --> 00:00:41,080
game

25
00:00:41,580 --> 00:00:42,380
so that's what i have in

26
00:00:42,380 --> 00:00:44,160
store for you guys today so

27
00:00:44,160 --> 00:00:44,980
let's go ahead and get started

28
00:00:46,780 --> 00:00:49,340
all right so this tutorial assumes

29
00:00:49,340 --> 00:00:51,540
that you already completed the previous

30
00:00:51,540 --> 00:00:52,240
tutorial where we

31
00:00:52,240 --> 00:00:54,340
actually integrated nakama for the most

32
00:00:54,340 --> 00:00:56,200
part so this one's going to

33
00:00:56,200 --> 00:00:57,780
be going over more of

34
00:00:57,780 --> 00:00:59,520
the features and things like that

35
00:00:59,520 --> 00:00:59,520
so i'm going to go ahead

36
00:00:59,520 --> 00:00:59,520
and get started so let's get

37
00:00:59,520 --> 00:00:59,520
started

38
00:00:59,540 --> 00:01:02,620
so let's go ahead and get

39
00:01:02,620 --> 00:01:04,100
started with that and the first

40
00:01:04,100 --> 00:01:05,200
thing we're going to talk about

41
00:01:05,200 --> 00:01:07,580
is creating groups so groups are

42
00:01:07,580 --> 00:01:12,040
basically like a guild or a

43
00:01:12,040 --> 00:01:13,580
team of people that want to

44
00:01:13,580 --> 00:01:13,740
play

45
00:01:13,740 --> 00:01:15,960
with each other multiple times not

46
00:01:15,960 --> 00:01:18,040
necessarily as a party but as

47
00:01:18,040 --> 00:01:19,360
an actual group so after the

48
00:01:19,360 --> 00:01:20,880
game is ended and everything is

49
00:01:20,880 --> 00:01:23,120
done you still have access to

50
00:01:23,120 --> 00:01:24,880
that group of people so the

51
00:01:24,880 --> 00:01:25,060
first

52
00:01:25,060 --> 00:01:25,980
thing that i'm going to do

53
00:01:25,980 --> 00:01:26,900
is i'm going to come in

54
00:01:26,900 --> 00:01:28,580
here and i'm going to hide

55
00:01:28,580 --> 00:01:29,440
our friend section

56
00:01:29,540 --> 00:01:30,780
because we're actually running out of

57
00:01:30,780 --> 00:01:32,480
space here and i really should

58
00:01:32,480 --> 00:01:33,620
name all of these but that's

59
00:01:33,620 --> 00:01:34,560
probably going to brick all of

60
00:01:34,560 --> 00:01:35,740
my code so we'll go ahead

61
00:01:35,740 --> 00:01:37,360
and just hide that panel go

62
00:01:37,360 --> 00:01:37,600
ahead and

63
00:01:37,600 --> 00:01:40,800
add in a new panel like

64
00:01:40,800 --> 00:01:42,220
so i'm going to go over

65
00:01:42,220 --> 00:01:44,880
here make it about this big

66
00:01:44,880 --> 00:01:46,080
give or take i'm

67
00:01:46,080 --> 00:01:47,100
going to right click add a

68
00:01:47,100 --> 00:01:48,620
child node we'll add in a

69
00:01:48,620 --> 00:01:52,520
label like that we're going to

70
00:01:52,520 --> 00:01:52,960
make it about

71
00:01:52,960 --> 00:01:56,340
this big and we'll have a

72
00:01:56,340 --> 00:01:59,460
name parameter there we'll

73
00:01:59,540 --> 00:02:02,440
go ahead and duplicate it and

74
00:02:02,440 --> 00:02:03,280
say description

75
00:02:06,960 --> 00:02:08,820
and then we'll come in here

76
00:02:08,820 --> 00:02:10,240
right click add a child node

77
00:02:10,240 --> 00:02:12,120
and we'll add in a line

78
00:02:12,120 --> 00:02:13,640
edit like so

79
00:02:14,040 --> 00:02:15,900
and we'll make it about this

80
00:02:15,900 --> 00:02:17,580
big give or take we'll control

81
00:02:17,580 --> 00:02:18,420
duplicate that

82
00:02:18,420 --> 00:02:20,280
and we'll make it about this

83
00:02:20,280 --> 00:02:22,400
big i mean technically the description

84
00:02:22,400 --> 00:02:23,200
should be a

85
00:02:23,200 --> 00:02:25,520
little bit longer but that's okay

86
00:02:25,520 --> 00:02:27,200
we'll make it work for what

87
00:02:27,200 --> 00:02:28,900
we're gonna do so that's

88
00:02:28,900 --> 00:02:29,400
fine

89
00:02:29,540 --> 00:02:30,840
and i'll just kind of organize

90
00:02:30,840 --> 00:02:32,500
this properly then we'll add in

91
00:02:32,500 --> 00:02:34,140
a button and this button's

92
00:02:34,140 --> 00:02:35,280
going to allow us to create

93
00:02:35,280 --> 00:02:37,220
a group now i'm going to

94
00:02:37,220 --> 00:02:38,740
need multiple buttons but for right

95
00:02:38,740 --> 00:02:39,240
now we'll

96
00:02:39,240 --> 00:02:43,880
just do one i think so

97
00:02:43,880 --> 00:02:45,240
we'll go ahead and say create

98
00:02:45,240 --> 00:02:47,740
group like so and i'll probably

99
00:02:47,740 --> 00:02:48,020
need to

100
00:02:48,020 --> 00:02:49,420
make this panel larger to be

101
00:02:49,420 --> 00:02:50,560
honest i'm running out of space

102
00:02:50,560 --> 00:02:51,860
here so we'll go ahead and

103
00:02:51,860 --> 00:02:52,480
just make

104
00:02:52,480 --> 00:02:53,860
this a touch bit bigger like

105
00:02:53,860 --> 00:02:56,440
so now when we want to

106
00:02:56,440 --> 00:02:57,720
create a group all we have

107
00:02:57,720 --> 00:02:58,900
to do is if we grab

108
00:02:58,900 --> 00:02:59,420
this button

109
00:02:59,540 --> 00:03:02,220
name it create group like so

110
00:03:02,220 --> 00:03:04,480
we'll go into our node button

111
00:03:04,480 --> 00:03:06,180
down and we'll hook that to

112
00:03:06,180 --> 00:03:06,860
our control

113
00:03:06,860 --> 00:03:09,000
node just like that now you'll

114
00:03:09,000 --> 00:03:10,120
see when i hook it to

115
00:03:10,120 --> 00:03:12,020
the control node it should create

116
00:03:18,420 --> 00:03:21,180
a create group button down function

117
00:03:21,180 --> 00:03:22,620
it looks like i already did

118
00:03:22,620 --> 00:03:24,260
this in a previous section

119
00:03:24,260 --> 00:03:25,200
so i'm going to go ahead

120
00:03:25,200 --> 00:03:26,360
and get rid of that that's

121
00:03:26,360 --> 00:03:27,980
my fault that caught me off

122
00:03:27,980 --> 00:03:28,420
guard real

123
00:03:28,420 --> 00:03:29,200
quick but

124
00:03:29,540 --> 00:03:30,560
To create a group, all we

125
00:03:30,560 --> 00:03:33,960
have to do is say client

126
00:03:33,960 --> 00:03:38,520
.createGroupAsync, and then we can pass

127
00:03:38,520 --> 00:03:40,680
in our session like so, and

128
00:03:40,680 --> 00:03:41,660
then we have to pass in

129
00:03:41,660 --> 00:03:42,060
a name.

130
00:03:42,140 --> 00:03:43,540
Now, the name is whatever the

131
00:03:43,540 --> 00:03:44,680
name is that we put as

132
00:03:44,680 --> 00:03:45,360
our line edit.

133
00:03:45,600 --> 00:03:46,700
Now, if we take a look,

134
00:03:46,840 --> 00:03:48,060
we have our name right here.

135
00:03:48,200 --> 00:03:51,620
So we'll say group name and

136
00:03:51,620 --> 00:03:54,900
then group description like so, and

137
00:03:54,900 --> 00:03:55,780
then we'll go back to our

138
00:03:55,780 --> 00:03:56,080
script

139
00:03:56,080 --> 00:03:58,560
and we'll do dollar sign, group

140
00:03:58,560 --> 00:04:02,280
name, comma, or dot text, comma,

141
00:04:02,360 --> 00:04:06,420
dollar sign, group description,

142
00:04:06,720 --> 00:04:09,020
dot text, comma, and then you'll

143
00:04:09,020 --> 00:04:10,580
see that they have the option

144
00:04:10,580 --> 00:04:11,920
for an avatar URL.

145
00:04:12,360 --> 00:04:14,420
Now, you don't have to supply

146
00:04:14,420 --> 00:04:16,100
one, but you can.

147
00:04:16,460 --> 00:04:18,640
And that's really cool because it

148
00:04:18,640 --> 00:04:20,060
basically would allow you to have

149
00:04:20,060 --> 00:04:22,200
some kind of URL for

150
00:04:22,200 --> 00:04:23,480
an image that you could load

151
00:04:23,480 --> 00:04:24,120
for their group.

152
00:04:24,300 --> 00:04:24,960
So I'm going to put that

153
00:04:24,960 --> 00:04:25,540
as empty.

154
00:04:26,080 --> 00:04:27,180
Comma, and then you'll see that

155
00:04:27,180 --> 00:04:28,100
they have a language.

156
00:04:28,280 --> 00:04:30,140
So we'll say their main language

157
00:04:30,140 --> 00:04:30,840
is EN.

158
00:04:31,080 --> 00:04:33,440
It doesn't really matter necessarily, but

159
00:04:33,440 --> 00:04:35,380
it is a thing that exists.

160
00:04:36,140 --> 00:04:38,560
And actually I need to, I'm

161
00:04:38,560 --> 00:04:40,120
messing up my little things here.

162
00:04:40,200 --> 00:04:41,340
We'll put an empty URL.

163
00:04:41,620 --> 00:04:44,460
We'll put a EN for the

164
00:04:44,460 --> 00:04:48,640
avatar title, and then you can

165
00:04:48,640 --> 00:04:49,420
choose whether

166
00:04:49,420 --> 00:04:50,780
or not it's an open or

167
00:04:50,780 --> 00:04:51,420
if it's not.

168
00:04:51,600 --> 00:04:53,940
So an open means if it's

169
00:04:53,940 --> 00:04:54,800
a public group.

170
00:04:54,880 --> 00:04:55,920
So if people can actually.

171
00:04:56,080 --> 00:04:58,220
See it and index it for

172
00:04:58,220 --> 00:04:58,740
other people.

173
00:04:58,900 --> 00:05:00,940
So if you say false, then

174
00:05:00,940 --> 00:05:01,760
it's a private group.

175
00:05:01,840 --> 00:05:03,120
So if you don't want it

176
00:05:03,120 --> 00:05:05,140
to be listable, which we'll discuss

177
00:05:05,140 --> 00:05:06,120
listing in a little

178
00:05:06,120 --> 00:05:08,060
bit, but it allows you to

179
00:05:08,060 --> 00:05:09,660
basically say, is this a listable

180
00:05:09,660 --> 00:05:09,980
group?

181
00:05:10,080 --> 00:05:10,760
So I'm going to say true

182
00:05:10,760 --> 00:05:12,480
because it makes sense to have

183
00:05:12,480 --> 00:05:13,680
a listable group, and then

184
00:05:13,680 --> 00:05:14,600
you can have a max number

185
00:05:14,600 --> 00:05:15,120
of members.

186
00:05:15,320 --> 00:05:17,580
Now, once this is set, you

187
00:05:17,580 --> 00:05:18,920
can not change it.

188
00:05:19,000 --> 00:05:20,380
So make sure you set it

189
00:05:20,380 --> 00:05:21,340
to a value that you want.

190
00:05:21,480 --> 00:05:23,060
So if a guild can only

191
00:05:23,060 --> 00:05:25,560
have 64 members, then you set

192
00:05:25,560 --> 00:05:26,060
it to 64.

193
00:05:26,080 --> 00:05:28,100
If it's a hundred members, then

194
00:05:28,100 --> 00:05:28,820
you can set it to a

195
00:05:28,820 --> 00:05:29,160
hundred.

196
00:05:29,320 --> 00:05:30,340
So in my case, I'm going

197
00:05:30,340 --> 00:05:31,900
to say 32, just because 32

198
00:05:31,900 --> 00:05:33,960
is just a good round number.

199
00:05:34,240 --> 00:05:35,700
Now, after that, there is nothing

200
00:05:35,700 --> 00:05:36,700
else that we can do.

201
00:05:36,780 --> 00:05:37,760
So we'll go ahead and just

202
00:05:37,760 --> 00:05:38,300
say 32.

203
00:05:38,620 --> 00:05:41,760
Now, typically this also returns a

204
00:05:41,760 --> 00:05:42,560
group API.

205
00:05:42,740 --> 00:05:44,580
So you could say var group

206
00:05:44,580 --> 00:05:47,540
is equal to await client asynchronous.

207
00:05:47,840 --> 00:05:48,660
And then we can just go

208
00:05:48,660 --> 00:05:49,880
ahead and print out that group.

209
00:05:49,980 --> 00:05:51,180
Now you don't have to do

210
00:05:51,180 --> 00:05:53,240
this, but it is a way

211
00:05:53,240 --> 00:05:54,540
to get ahold of that

212
00:05:54,540 --> 00:05:56,000
object, if that makes sense.

213
00:05:56,000 --> 00:05:56,060
Okay.

214
00:05:56,060 --> 00:05:57,260
So if you needed to go

215
00:05:57,260 --> 00:06:00,000
ahead and make your group, you

216
00:06:00,000 --> 00:06:01,060
know, visible or not

217
00:06:01,060 --> 00:06:02,720
visible or something like that, you

218
00:06:02,720 --> 00:06:03,840
could do that right here.

219
00:06:04,080 --> 00:06:06,080
So now if we go ahead

220
00:06:06,080 --> 00:06:09,000
and make sure that our Nakama

221
00:06:09,000 --> 00:06:10,080
instance is running.

222
00:06:10,220 --> 00:06:10,920
So if I take a look

223
00:06:10,920 --> 00:06:12,060
at my containers, you can see

224
00:06:12,060 --> 00:06:13,740
it is actually running.

225
00:06:13,900 --> 00:06:14,940
So there we go.

226
00:06:15,140 --> 00:06:16,980
We'll go ahead and hit play.

227
00:06:18,540 --> 00:06:19,500
And then we're going to go

228
00:06:19,500 --> 00:06:21,060
ahead and submit.

229
00:06:21,300 --> 00:06:22,640
We're going to connect to our

230
00:06:22,640 --> 00:06:22,880
game.

231
00:06:23,000 --> 00:06:24,080
We're going to call our group

232
00:06:24,080 --> 00:06:25,340
test group.

233
00:06:26,060 --> 00:06:26,540
Description.

234
00:06:28,140 --> 00:06:29,900
This is our test group and

235
00:06:29,900 --> 00:06:30,820
we'll click create.

236
00:06:31,020 --> 00:06:32,960
Now you'll see that we have

237
00:06:32,960 --> 00:06:36,280
a error group name must be

238
00:06:36,280 --> 00:06:36,560
set.

239
00:06:36,700 --> 00:06:38,300
So I must've messed up on

240
00:06:38,300 --> 00:06:39,080
my group name.

241
00:06:39,540 --> 00:06:41,780
So let's take a look panel

242
00:06:41,780 --> 00:06:43,540
five group name.

243
00:06:43,680 --> 00:06:46,380
Oh, I made a mistake because

244
00:06:46,380 --> 00:06:47,940
this is the original panel.

245
00:06:48,140 --> 00:06:50,120
I did some recording earlier that,

246
00:06:50,120 --> 00:06:52,260
um, I didn't keep it, but

247
00:06:52,260 --> 00:06:52,340
I

248
00:06:52,340 --> 00:06:53,860
never actually removed that panel.

249
00:06:53,940 --> 00:06:55,280
So we'll change this to panel.

250
00:06:56,920 --> 00:06:58,560
And then we'll go from there.

251
00:06:58,660 --> 00:07:00,040
So we'll refresh this and try

252
00:07:00,040 --> 00:07:01,040
this one more time.

253
00:07:01,160 --> 00:07:01,840
That's my fault.

254
00:07:02,000 --> 00:07:04,040
So we'll submit test group.

255
00:07:05,420 --> 00:07:08,520
This is a test group, create

256
00:07:08,520 --> 00:07:09,900
group, and you'll see that we

257
00:07:09,900 --> 00:07:11,880
get a success right there.

258
00:07:12,060 --> 00:07:13,760
So now I'm going to navigate

259
00:07:13,760 --> 00:07:16,260
to one, two, seven Nakama console

260
00:07:16,260 --> 00:07:16,800
right here.

261
00:07:16,880 --> 00:07:17,960
So we'll go to our one,

262
00:07:18,020 --> 00:07:19,680
two, seven, seven, three, five, one,

263
00:07:19,800 --> 00:07:20,580
and then

264
00:07:20,580 --> 00:07:22,660
we will connect into our Nakama

265
00:07:22,660 --> 00:07:22,940
group.

266
00:07:23,080 --> 00:07:24,260
If we go to groups, you

267
00:07:24,260 --> 00:07:25,800
will see there is our test

268
00:07:25,800 --> 00:07:26,040
group.

269
00:07:26,040 --> 00:07:27,900
And you can see, this is

270
00:07:27,900 --> 00:07:28,400
what we have.

271
00:07:28,520 --> 00:07:29,220
If we take a look at

272
00:07:29,220 --> 00:07:30,820
our members, you can see that

273
00:07:30,820 --> 00:07:33,600
there is a super admin.

274
00:07:33,840 --> 00:07:36,440
So what in the world is

275
00:07:36,440 --> 00:07:37,100
a super admin?

276
00:07:37,260 --> 00:07:39,840
Well, a super admin is a

277
00:07:39,840 --> 00:07:42,520
person that has full control over

278
00:07:42,520 --> 00:07:43,480
that group.

279
00:07:43,700 --> 00:07:47,140
So this person, JJ RB V

280
00:07:47,140 --> 00:07:50,360
W E X K I is

281
00:07:50,360 --> 00:07:52,520
a super admin of that group.

282
00:07:52,740 --> 00:07:54,880
So what that means is that

283
00:07:54,880 --> 00:07:56,020
they have the ability to read.

284
00:07:56,040 --> 00:07:56,300
They have the ability to delete

285
00:07:56,300 --> 00:07:57,200
that group.

286
00:07:57,680 --> 00:08:00,020
And when you are a super

287
00:08:00,020 --> 00:08:02,700
admin, you have full control over

288
00:08:02,700 --> 00:08:03,120
that group.

289
00:08:03,260 --> 00:08:06,200
There are four different membership states.

290
00:08:06,500 --> 00:08:08,500
They're super admin, which means that

291
00:08:08,500 --> 00:08:09,940
you are basically God.

292
00:08:10,040 --> 00:08:11,160
You can do whatever you want

293
00:08:11,160 --> 00:08:11,700
to this group.

294
00:08:11,840 --> 00:08:13,020
You can delete people.

295
00:08:13,260 --> 00:08:14,720
You can do whatever you want.

296
00:08:14,880 --> 00:08:16,600
Basically you can delete the group

297
00:08:16,600 --> 00:08:19,280
and that's a big thing admin,

298
00:08:19,560 --> 00:08:20,160
which allows

299
00:08:20,160 --> 00:08:22,660
you to update your group.

300
00:08:22,860 --> 00:08:23,420
And.

301
00:08:23,620 --> 00:08:24,560
Allow you to accept.

302
00:08:24,560 --> 00:08:27,180
Kick, promote, delete, ban, or promote

303
00:08:27,180 --> 00:08:27,620
members.

304
00:08:27,960 --> 00:08:29,440
And then they have members, which

305
00:08:29,440 --> 00:08:31,820
allows you to actually have a

306
00:08:31,820 --> 00:08:32,700
regular group member.

307
00:08:32,780 --> 00:08:33,600
They don't have the ability to

308
00:08:33,600 --> 00:08:34,160
do anything.

309
00:08:34,360 --> 00:08:36,700
They cannot accept join requests, stuff

310
00:08:36,700 --> 00:08:37,180
like that.

311
00:08:37,280 --> 00:08:39,540
And then they have the join

312
00:08:39,540 --> 00:08:41,920
request mode, which basically is when

313
00:08:41,920 --> 00:08:43,020
a user wants to join,

314
00:08:43,140 --> 00:08:44,280
they need to be accepted.

315
00:08:45,000 --> 00:08:46,800
So you have to say, yes,

316
00:08:46,900 --> 00:08:48,420
I will accept you as a

317
00:08:48,420 --> 00:08:48,960
part of a group.

318
00:08:49,020 --> 00:08:51,020
And that's how, you know, the

319
00:08:51,020 --> 00:08:52,520
different states, if that makes sense.

320
00:08:52,680 --> 00:08:53,980
So if we go to our

321
00:08:53,980 --> 00:08:54,340
user.

322
00:08:54,340 --> 00:08:56,840
Management, we look for the JJR

323
00:08:56,840 --> 00:08:57,640
person.

324
00:08:57,880 --> 00:08:59,900
If we go into accounts, I

325
00:08:59,900 --> 00:09:01,320
have a bunch of usernames here

326
00:09:01,320 --> 00:09:01,820
because I've

327
00:09:01,820 --> 00:09:02,720
been doing a lot of testing

328
00:09:02,720 --> 00:09:03,500
on my end.

329
00:09:03,680 --> 00:09:07,140
But if I look for JJ,

330
00:09:07,560 --> 00:09:09,360
let me see.

331
00:09:09,420 --> 00:09:10,080
I think it's JJ.

332
00:09:10,240 --> 00:09:11,180
Let me take a look.

333
00:09:12,500 --> 00:09:16,640
Members name, JJRB, JJRB.

334
00:09:17,020 --> 00:09:19,000
Well, that person, let me see

335
00:09:19,000 --> 00:09:19,340
JJ.

336
00:09:19,840 --> 00:09:21,280
I have 71 accounts.

337
00:09:21,420 --> 00:09:22,300
So you can see, I have

338
00:09:22,300 --> 00:09:23,340
a bunch of accounts cause I've

339
00:09:23,340 --> 00:09:24,220
been doing a lot of testing.

340
00:09:24,340 --> 00:09:25,880
On my end for my own

341
00:09:25,880 --> 00:09:28,520
stuff and Nakama is being difficult.

342
00:09:28,680 --> 00:09:30,560
So let me refresh JJRB.

343
00:09:33,660 --> 00:09:36,620
Well, apparently JJ doesn't exist within

344
00:09:36,620 --> 00:09:38,340
my vast number of people.

345
00:09:38,460 --> 00:09:40,060
So I'm not sure why it

346
00:09:40,060 --> 00:09:41,440
did that, but that's okay.

347
00:09:42,260 --> 00:09:46,740
There's probably a master account that

348
00:09:46,740 --> 00:09:47,260
it's using.

349
00:09:50,700 --> 00:09:52,040
Actually it's right here.

350
00:09:52,460 --> 00:09:53,060
JJRB.

351
00:09:54,340 --> 00:09:54,740
Right here.

352
00:09:54,820 --> 00:09:56,140
So I'm not sure why it

353
00:09:56,140 --> 00:09:58,660
used this specific one, unless I

354
00:09:58,660 --> 00:10:02,140
logged in and created it

355
00:10:02,140 --> 00:10:04,600
with device authentication, which is possible,

356
00:10:04,820 --> 00:10:05,960
but that's okay.

357
00:10:06,080 --> 00:10:07,480
We'll figure that out in a

358
00:10:07,480 --> 00:10:10,700
minute, but that's basically how we

359
00:10:10,700 --> 00:10:11,800
create a group.

360
00:10:11,920 --> 00:10:12,720
Now you can see, we also

361
00:10:12,720 --> 00:10:14,920
printed out a group as well.

362
00:10:15,000 --> 00:10:16,300
So you can see here, we

363
00:10:16,300 --> 00:10:18,160
have our creator ID, which is

364
00:10:18,160 --> 00:10:18,900
right here.

365
00:10:19,100 --> 00:10:20,540
The creator ID is DB.

366
00:10:20,840 --> 00:10:22,460
So this is the creator ID.

367
00:10:22,660 --> 00:10:23,880
So our creator.

368
00:10:23,880 --> 00:10:24,660
Is JJ.

369
00:10:24,800 --> 00:10:27,220
So we must have logged in

370
00:10:27,220 --> 00:10:29,900
with device authentication, which means I

371
00:10:29,900 --> 00:10:30,180
probably

372
00:10:30,180 --> 00:10:34,520
didn't reset my client authentication stuff.

373
00:10:34,880 --> 00:10:35,960
So let me take a look

374
00:10:35,960 --> 00:10:36,640
at that real quick.

375
00:10:36,700 --> 00:10:37,540
My apologies.

376
00:10:37,800 --> 00:10:40,780
I, um, may not have reset

377
00:10:40,780 --> 00:10:42,140
some of my code so that

378
00:10:42,140 --> 00:10:43,180
it worked properly.

379
00:10:44,180 --> 00:10:48,040
Did user authentication instead of our,

380
00:10:48,280 --> 00:10:50,740
um, device authentication.

381
00:10:50,900 --> 00:10:52,300
So my guess is that's probably

382
00:10:52,300 --> 00:10:52,820
what it is.

383
00:10:52,900 --> 00:10:53,860
So if I go to log

384
00:10:53,860 --> 00:10:53,860
in.

385
00:10:54,440 --> 00:10:56,500
Yeah, right here, I'm doing a

386
00:10:56,500 --> 00:10:58,560
unique device ID right here, and

387
00:10:58,560 --> 00:10:59,040
I'm logging

388
00:10:59,040 --> 00:11:00,880
in with that socket connection.

389
00:11:01,320 --> 00:11:02,960
So that's, what's going on here.

390
00:11:03,100 --> 00:11:04,020
So what I'm going to do

391
00:11:04,020 --> 00:11:05,080
is I'm going to control K

392
00:11:05,080 --> 00:11:06,020
to comment that out.

393
00:11:06,080 --> 00:11:07,900
And I'm going to go ahead

394
00:11:07,900 --> 00:11:10,740
and log in with my username.

395
00:11:11,100 --> 00:11:12,680
So now I'm going to go

396
00:11:12,680 --> 00:11:14,220
in here and I'll reset this

397
00:11:14,220 --> 00:11:15,520
because it's going to be

398
00:11:15,520 --> 00:11:17,580
kind of difficult to have a

399
00:11:17,580 --> 00:11:21,840
group that, uh, exists that's not

400
00:11:21,840 --> 00:11:23,220
tied to an actual user.

401
00:11:23,860 --> 00:11:24,840
So I'll go ahead and do

402
00:11:24,840 --> 00:11:25,100
that.

403
00:11:25,120 --> 00:11:25,840
I'll refresh.

404
00:11:26,100 --> 00:11:26,960
And then we're going to recreate

405
00:11:26,960 --> 00:11:28,540
that group just because it makes

406
00:11:28,540 --> 00:11:29,180
more sense.

407
00:11:29,380 --> 00:11:32,060
So I'll say test group description.

408
00:11:33,440 --> 00:11:35,980
This is a test group and

409
00:11:35,980 --> 00:11:37,380
we'll go ahead and create that

410
00:11:37,380 --> 00:11:37,740
group.

411
00:11:37,900 --> 00:11:38,900
Now, if we take a look

412
00:11:38,900 --> 00:11:40,640
at our Nakama console, you will

413
00:11:40,640 --> 00:11:41,940
see that because this

414
00:11:41,940 --> 00:11:44,960
was created by test, that person

415
00:11:44,960 --> 00:11:45,920
is the super admin.

416
00:11:46,040 --> 00:11:47,960
So whoever creates the group gets

417
00:11:47,960 --> 00:11:49,120
super admin status.

418
00:11:49,760 --> 00:11:51,480
Now, in order to add users,

419
00:11:51,600 --> 00:11:53,440
it's actually relatively easy.

420
00:11:53,540 --> 00:11:53,840
Also.

421
00:11:53,840 --> 00:11:54,540
We need to do is go

422
00:11:54,540 --> 00:11:57,620
in to our project here and

423
00:11:57,620 --> 00:11:59,960
you can see right here,

424
00:12:00,120 --> 00:12:01,640
we have the ability to create

425
00:12:01,640 --> 00:12:01,940
a group.

426
00:12:02,060 --> 00:12:02,860
So we'll just go ahead and

427
00:12:02,860 --> 00:12:05,080
duplicate this and we will come

428
00:12:05,080 --> 00:12:05,680
down here

429
00:12:05,680 --> 00:12:07,980
and we'll right click disconnect.

430
00:12:08,280 --> 00:12:09,040
We're going to go in here,

431
00:12:09,120 --> 00:12:12,960
connect and say on add user.

432
00:12:13,200 --> 00:12:17,240
We'll say add a underscore user,

433
00:12:17,480 --> 00:12:22,940
underscore two group, like so button

434
00:12:22,940 --> 00:12:23,300
down.

435
00:12:23,500 --> 00:12:23,820
And we'll.

436
00:12:23,820 --> 00:12:24,980
Go ahead and connect that.

437
00:12:25,040 --> 00:12:25,880
And I'm going to rename this

438
00:12:25,880 --> 00:12:28,700
to add user to group.

439
00:12:28,840 --> 00:12:30,920
So with this for us to

440
00:12:30,920 --> 00:12:31,960
be able to add users to

441
00:12:31,960 --> 00:12:34,060
group, it's actually really easy.

442
00:12:34,400 --> 00:12:36,040
All we need to do is

443
00:12:36,040 --> 00:12:38,640
pass in the group ID that

444
00:12:38,640 --> 00:12:42,060
we want to add ourselves to.

445
00:12:42,420 --> 00:12:46,680
So unfortunately we have to actually

446
00:12:46,680 --> 00:12:48,320
pull that user identifier.

447
00:12:48,660 --> 00:12:49,640
So if you look at this,

448
00:12:49,720 --> 00:12:51,280
you can see inside of our

449
00:12:51,280 --> 00:12:52,940
groups, we have a user ID

450
00:12:52,940 --> 00:12:53,500
right.

451
00:12:53,500 --> 00:12:53,660
Here.

452
00:12:54,280 --> 00:12:56,400
This is the identifier that we

453
00:12:56,400 --> 00:12:57,880
need to give them to be

454
00:12:57,880 --> 00:12:59,320
able to add ourselves to that

455
00:12:59,320 --> 00:12:59,640
group.

456
00:12:59,840 --> 00:13:01,420
So if we come in here

457
00:13:01,420 --> 00:13:03,220
and copy this, we can come

458
00:13:03,220 --> 00:13:05,400
down here, go back into Godot.

459
00:13:05,600 --> 00:13:07,780
And then basically just say, await

460
00:13:07,780 --> 00:13:14,000
client dot join group async, and

461
00:13:14,000 --> 00:13:15,840
then do session comma.

462
00:13:16,040 --> 00:13:17,440
And then we'll just pass in

463
00:13:17,440 --> 00:13:18,380
that group identifier.

464
00:13:18,920 --> 00:13:20,900
Now, if we come in here

465
00:13:20,900 --> 00:13:22,980
and we hit play, you'll see

466
00:13:22,980 --> 00:13:23,180
in.

467
00:13:23,180 --> 00:13:25,200
A second, we'll go ahead and

468
00:13:25,200 --> 00:13:26,920
log in as test two.

469
00:13:27,080 --> 00:13:28,860
We will type test.

470
00:13:29,060 --> 00:13:30,280
I mean, it doesn't really matter

471
00:13:30,280 --> 00:13:31,520
and you can see the text

472
00:13:31,520 --> 00:13:32,720
here is wrong, but that's okay.

473
00:13:32,900 --> 00:13:35,620
We'll click create group, which is

474
00:13:35,620 --> 00:13:36,960
technically ad group.

475
00:13:37,040 --> 00:13:38,540
And you'll see that we get

476
00:13:38,540 --> 00:13:40,700
an authorization token right here.

477
00:13:40,760 --> 00:13:41,720
We got a four Oh four

478
00:13:41,720 --> 00:13:43,040
group, not found.

479
00:13:43,280 --> 00:13:45,660
So my guess is that I

480
00:13:45,660 --> 00:13:48,420
have the wrong identifier, go to

481
00:13:48,420 --> 00:13:49,820
group group ID.

482
00:13:49,980 --> 00:13:50,580
I do.

483
00:13:50,700 --> 00:13:51,760
So we'll go ahead and copy

484
00:13:51,760 --> 00:13:52,400
that.

485
00:13:53,180 --> 00:13:54,440
And we'll go back here.

486
00:13:54,520 --> 00:13:57,280
We'll change this guy like, so

487
00:13:57,280 --> 00:13:59,540
paste control S.

488
00:13:59,860 --> 00:14:01,700
And the nice thing about Godot

489
00:14:01,700 --> 00:14:04,640
is that if you just change

490
00:14:04,640 --> 00:14:05,620
the code in here, you can

491
00:14:05,620 --> 00:14:06,860
just click that and you can

492
00:14:06,860 --> 00:14:08,460
see that it should work.

493
00:14:08,660 --> 00:14:10,900
And that's because Godot is a

494
00:14:10,900 --> 00:14:12,260
non-compiled language.

495
00:14:12,500 --> 00:14:13,620
So you can actually get away

496
00:14:13,620 --> 00:14:15,780
with changing it and re-executing

497
00:14:15,780 --> 00:14:16,260
the code.

498
00:14:16,440 --> 00:14:17,380
So now, if you look at

499
00:14:17,380 --> 00:14:18,800
members, you can see test two

500
00:14:18,800 --> 00:14:19,580
is now a member.

501
00:14:19,680 --> 00:14:21,620
Now you might be wondering, okay.

502
00:14:21,680 --> 00:14:23,100
So anybody can join.

503
00:14:23,100 --> 00:14:23,540
My group.

504
00:14:24,340 --> 00:14:24,900
Yes.

505
00:14:25,000 --> 00:14:26,880
Anyone can join your group as

506
00:14:26,880 --> 00:14:28,420
long as it is public.

507
00:14:28,980 --> 00:14:33,140
If it's not public, then you

508
00:14:33,140 --> 00:14:34,040
have to be approved.

509
00:14:34,380 --> 00:14:36,740
So that's where the difference comes

510
00:14:36,740 --> 00:14:37,040
in.

511
00:14:37,140 --> 00:14:38,440
So if I come in here,

512
00:14:38,580 --> 00:14:41,220
I remove test two, I go

513
00:14:41,220 --> 00:14:43,040
to details and I change this

514
00:14:43,040 --> 00:14:45,640
to not open and I save

515
00:14:45,640 --> 00:14:45,820
it.

516
00:14:46,680 --> 00:14:48,220
Now, if I go ahead and

517
00:14:48,220 --> 00:14:50,400
I hit create group, or I

518
00:14:50,400 --> 00:14:52,540
guess connect to the group, you

519
00:14:52,540 --> 00:14:52,960
can see.

520
00:14:53,100 --> 00:14:55,320
That there is a join request.

521
00:14:55,780 --> 00:14:57,040
And that means that I have

522
00:14:57,040 --> 00:14:59,260
to approve that before they can

523
00:14:59,260 --> 00:15:00,520
be a part of the group.

524
00:15:01,220 --> 00:15:03,220
So the question is, how do

525
00:15:03,220 --> 00:15:05,240
you actually accept that join request?

526
00:15:06,020 --> 00:15:08,660
Well, to accept a join request,

527
00:15:08,820 --> 00:15:10,140
which you need to do is

528
00:15:10,140 --> 00:15:11,360
you need to come in here

529
00:15:11,360 --> 00:15:14,440
and actually code out a small

530
00:15:14,440 --> 00:15:15,220
subroutine.

531
00:15:15,460 --> 00:15:16,940
First thing first, I'm going to

532
00:15:16,940 --> 00:15:17,860
come in here and change this

533
00:15:17,860 --> 00:15:22,280
to add join group like that.

534
00:15:22,480 --> 00:15:23,080
And then.

535
00:15:23,080 --> 00:15:23,860
And then I'm going to go

536
00:15:23,860 --> 00:15:25,860
ahead and duplicate this guy, drag

537
00:15:25,860 --> 00:15:29,280
this guy down like, so, and

538
00:15:29,280 --> 00:15:32,780
I'm going to say, add user.

539
00:15:35,230 --> 00:15:38,200
To group like, so, and if

540
00:15:38,200 --> 00:15:39,660
I just hit enter, that will

541
00:15:39,660 --> 00:15:41,940
help with formatting this button a

542
00:15:41,940 --> 00:15:42,780
little bit better.

543
00:15:42,880 --> 00:15:44,720
Now we'll pull this name parameter

544
00:15:44,720 --> 00:15:47,340
to allow ourselves to actually, you

545
00:15:47,340 --> 00:15:49,780
know, go from there and this

546
00:15:49,780 --> 00:15:52,240
should probably be called join group.

547
00:15:52,340 --> 00:15:52,580
So.

548
00:15:53,260 --> 00:15:54,680
It'll be fine, I guess for

549
00:15:54,680 --> 00:15:56,100
now, but it's just something I'm

550
00:15:56,100 --> 00:15:58,120
not a huge fan of, but

551
00:15:58,120 --> 00:15:58,700
that's okay.

552
00:15:58,800 --> 00:16:00,300
So we'll go ahead and click

553
00:16:00,300 --> 00:16:01,340
node, right?

554
00:16:01,460 --> 00:16:04,120
Click disconnect, connect, and then we'll

555
00:16:04,120 --> 00:16:06,100
go ahead and create that little

556
00:16:06,100 --> 00:16:06,720
function there.

557
00:16:08,120 --> 00:16:10,120
Now to accept a join request,

558
00:16:10,280 --> 00:16:11,220
you need to be able to

559
00:16:11,220 --> 00:16:14,280
list your groups or your users

560
00:16:14,280 --> 00:16:15,400
inside of that group.

561
00:16:15,500 --> 00:16:16,760
And that's really easy to do.

562
00:16:16,840 --> 00:16:18,020
We can basically just say var

563
00:16:18,020 --> 00:16:22,680
users is equal to await client.

564
00:16:22,680 --> 00:16:29,300
List group users, async like that,

565
00:16:29,320 --> 00:16:30,560
we can pass in our session

566
00:16:30,560 --> 00:16:32,400
token, and then we can pass

567
00:16:32,400 --> 00:16:33,640
in our group ID.

568
00:16:33,900 --> 00:16:35,120
Now our group ID is right

569
00:16:35,120 --> 00:16:35,440
here.

570
00:16:35,560 --> 00:16:37,220
So we'll go ahead and copy

571
00:16:37,220 --> 00:16:39,480
that and paste it, and then

572
00:16:39,480 --> 00:16:41,060
we'll hit comma, and then we

573
00:16:41,060 --> 00:16:42,900
can actually have a different state.

574
00:16:43,020 --> 00:16:44,920
So this is where that one,

575
00:16:44,980 --> 00:16:46,560
two, or I guess, zero one,

576
00:16:46,640 --> 00:16:48,100
two, and three is useful.

577
00:16:48,380 --> 00:16:50,080
If you wanted to, you could

578
00:16:50,080 --> 00:16:52,020
list everyone that is a member

579
00:16:52,020 --> 00:16:52,560
of the group.

580
00:16:52,560 --> 00:16:54,460
Everyone that's waiting to join the

581
00:16:54,460 --> 00:16:56,600
group and anybody that's a super

582
00:16:56,600 --> 00:16:58,720
user or an admin, just by

583
00:16:58,720 --> 00:17:01,740
changing this from zero through three.

584
00:17:02,060 --> 00:17:03,680
In our case, we're going to

585
00:17:03,680 --> 00:17:05,000
be grabbing all the people that

586
00:17:05,000 --> 00:17:07,600
are awaiting for their joins.

587
00:17:07,680 --> 00:17:08,660
You can see the state is

588
00:17:08,660 --> 00:17:10,040
three, so we will go ahead

589
00:17:10,040 --> 00:17:10,640
and do that.

590
00:17:11,260 --> 00:17:13,200
And then all we need to

591
00:17:13,200 --> 00:17:14,300
do is come in here and

592
00:17:14,300 --> 00:17:20,020
say for user in users dot

593
00:17:20,020 --> 00:17:22,220
group, underscore users.

594
00:17:22,260 --> 00:17:22,540
Okay.

595
00:17:22,560 --> 00:17:23,280
And then we're going to go

596
00:17:23,280 --> 00:17:23,280
ahead and say for user in

597
00:17:23,280 --> 00:17:28,620
users, colon, var u is equal

598
00:17:28,620 --> 00:17:32,660
to user dot user, and then

599
00:17:32,660 --> 00:17:37,180
await client dot add group users,

600
00:17:37,260 --> 00:17:40,200
async, pass in our session right

601
00:17:40,200 --> 00:17:43,280
here, comma, what our group ID

602
00:17:43,280 --> 00:17:45,020
is, which in this case is

603
00:17:45,020 --> 00:17:46,260
this guy right here.

604
00:17:46,360 --> 00:17:47,860
So we'll pass that guy in,

605
00:17:47,920 --> 00:17:50,520
comma, and then we'll pass in

606
00:17:50,520 --> 00:17:50,860
u.

607
00:17:50,980 --> 00:17:52,060
And now we'll go ahead and

608
00:17:52,060 --> 00:17:52,420
add.

609
00:17:52,560 --> 00:17:53,420
Add that person.

610
00:17:53,560 --> 00:17:56,840
So now if I refresh and

611
00:17:56,840 --> 00:17:59,300
I go add user to group.

612
00:17:59,400 --> 00:18:00,960
So if I submit, I log

613
00:18:00,960 --> 00:18:03,780
in as the test user and

614
00:18:03,780 --> 00:18:05,480
I click add user to group,

615
00:18:05,580 --> 00:18:06,880
you'll see that we got an

616
00:18:06,880 --> 00:18:09,980
error here, unable to convert, uh,

617
00:18:10,380 --> 00:18:13,100
argument three to pack string array.

618
00:18:13,260 --> 00:18:15,420
So you is not correct.

619
00:18:15,500 --> 00:18:16,540
So let's take a look at

620
00:18:16,540 --> 00:18:17,900
what you is real quick.

621
00:18:18,060 --> 00:18:19,640
I don't think there's really an

622
00:18:19,640 --> 00:18:21,340
easy way to handle this without

623
00:18:21,340 --> 00:18:22,200
going bracket.

624
00:18:23,200 --> 00:18:25,180
Bracket and then passing in dot

625
00:18:25,180 --> 00:18:28,360
ID and then just using their

626
00:18:28,360 --> 00:18:28,780
ID.

627
00:18:28,920 --> 00:18:30,220
I think that that will work.

628
00:18:30,300 --> 00:18:31,740
It's not the most ideal way

629
00:18:31,740 --> 00:18:33,600
to fix it, but if I

630
00:18:33,600 --> 00:18:35,260
log in, I hit add user.

631
00:18:35,440 --> 00:18:37,880
You should see a nice request

632
00:18:37,880 --> 00:18:39,340
here, and then we'll go ahead

633
00:18:39,340 --> 00:18:41,700
and refresh this and you can

634
00:18:41,700 --> 00:18:42,820
see that they are now a

635
00:18:42,820 --> 00:18:43,140
member.

636
00:18:43,260 --> 00:18:45,680
And that's because when we built

637
00:18:45,680 --> 00:18:47,200
the group, we made it a

638
00:18:47,200 --> 00:18:49,620
private group that you might be

639
00:18:49,620 --> 00:18:50,800
wondering, is there a way for

640
00:18:50,800 --> 00:18:52,300
us to make.

641
00:18:52,300 --> 00:18:54,620
Make a group private or public

642
00:18:54,620 --> 00:18:56,160
through code, right?

643
00:18:56,260 --> 00:18:57,280
So that way it doesn't have

644
00:18:57,280 --> 00:18:59,060
to happen immediately on start.

645
00:18:59,440 --> 00:19:00,720
And the answer to your question

646
00:19:00,720 --> 00:19:02,940
is yes, you can actually do

647
00:19:02,940 --> 00:19:04,800
that pretty easily.

648
00:19:05,120 --> 00:19:06,940
All you need to do is

649
00:19:06,940 --> 00:19:08,320
come in here, go in here.

650
00:19:08,900 --> 00:19:10,980
Let's grab this, make it slightly

651
00:19:10,980 --> 00:19:11,420
bigger.

652
00:19:11,540 --> 00:19:12,900
Again, the group section is going

653
00:19:12,900 --> 00:19:14,400
to be very large for this.

654
00:19:14,540 --> 00:19:17,140
So we'll add in a check

655
00:19:17,140 --> 00:19:19,700
box here, like, so, and we'll

656
00:19:19,700 --> 00:19:20,660
call it open.

657
00:19:21,440 --> 00:19:22,280
Like that.

658
00:19:22,300 --> 00:19:23,040
And then we're going to add

659
00:19:23,040 --> 00:19:25,320
in a toggle switch.

660
00:19:25,580 --> 00:19:27,180
So I'll just put this right

661
00:19:27,180 --> 00:19:28,100
here for right now.

662
00:19:28,140 --> 00:19:29,060
We'll call it open.

663
00:19:29,140 --> 00:19:29,840
That's fine.

664
00:19:30,320 --> 00:19:31,740
And then we'll go ahead and

665
00:19:31,740 --> 00:19:34,940
say on button down, or I

666
00:19:34,940 --> 00:19:38,100
guess on toggled, we'll toggle this

667
00:19:38,100 --> 00:19:39,420
on our control node.

668
00:19:39,640 --> 00:19:42,260
And basically when it gets toggled,

669
00:19:42,320 --> 00:19:43,820
it'll show you yes or no.

670
00:19:43,980 --> 00:19:47,840
So we'll say await client dot

671
00:19:47,840 --> 00:19:50,680
update group asynchronously.

672
00:19:50,940 --> 00:19:52,000
We'll pass in our.

673
00:19:52,300 --> 00:19:52,420
Yes.

674
00:19:52,480 --> 00:19:52,600
And then we'll pass in the

675
00:19:52,600 --> 00:19:52,720
session token.

676
00:19:54,520 --> 00:19:56,800
Comma, our group ID, which is

677
00:19:56,800 --> 00:19:58,160
this guy right here.

678
00:19:58,280 --> 00:19:59,740
And we'll talk about how to

679
00:19:59,740 --> 00:20:02,140
get that group ID through code

680
00:20:02,140 --> 00:20:06,760
in a second, comma, and then

681
00:20:06,760 --> 00:20:08,860
the name of the group, which

682
00:20:08,860 --> 00:20:09,600
I'll pass in.

683
00:20:09,660 --> 00:20:10,920
No, because I don't want to

684
00:20:10,920 --> 00:20:11,480
change it.

685
00:20:11,740 --> 00:20:14,800
And then we'll pass in toggled

686
00:20:14,800 --> 00:20:16,820
underscore on like that.

687
00:20:17,080 --> 00:20:18,420
And you'll see that.

688
00:20:18,500 --> 00:20:19,320
If I come in here.

689
00:20:19,320 --> 00:20:21,740
here and I submit, and then

690
00:20:21,740 --> 00:20:22,520
I click open.

691
00:20:23,220 --> 00:20:25,720
You'll see if we refresh our

692
00:20:25,720 --> 00:20:26,980
Nakama instance here.

693
00:20:27,100 --> 00:20:28,560
So we'll refresh this page.

694
00:20:28,740 --> 00:20:30,240
You'll see it's not open.

695
00:20:30,420 --> 00:20:32,460
If we close it, it should

696
00:20:32,460 --> 00:20:35,760
hopefully do it real quick.

697
00:20:37,200 --> 00:20:38,200
Maybe not.

698
00:20:38,360 --> 00:20:39,500
Let's take a look.

699
00:20:39,600 --> 00:20:40,820
Let's do a break point here.

700
00:20:40,940 --> 00:20:42,000
I could just be crazy.

701
00:20:42,500 --> 00:20:43,920
So if I come in here,

702
00:20:44,000 --> 00:20:47,800
toggle response code 400, specify at

703
00:20:47,800 --> 00:20:49,580
least one field to update.

704
00:20:50,900 --> 00:20:52,680
Let's see if we come in

705
00:20:52,680 --> 00:20:57,740
here, comma, P name, P description,

706
00:20:58,380 --> 00:21:00,180
variant null.

707
00:21:00,380 --> 00:21:03,800
So no comma description, no comma

708
00:21:03,800 --> 00:21:10,360
avatar, no comma language tag, en

709
00:21:10,360 --> 00:21:11,200
comma.

710
00:21:11,320 --> 00:21:12,320
Now this is how you update

711
00:21:12,320 --> 00:21:14,220
any of your parameters, by the

712
00:21:14,220 --> 00:21:14,400
way.

713
00:21:14,480 --> 00:21:16,080
So now we have our P

714
00:21:16,080 --> 00:21:16,500
open.

715
00:21:16,660 --> 00:21:17,420
I think that's why.

716
00:21:22,760 --> 00:21:23,880
So we'll come in here, submit,

717
00:21:23,880 --> 00:21:23,880
we do that, and then we

718
00:21:23,880 --> 00:21:23,880
take a look at our

719
00:21:23,880 --> 00:21:24,520
user name, which is the user

720
00:21:24,520 --> 00:21:29,160
name of the group, the description

721
00:21:29,160 --> 00:21:30,040
of the group,

722
00:21:30,200 --> 00:21:32,120
and the whether or not it's

723
00:21:32,120 --> 00:21:33,220
open or not.

724
00:21:33,320 --> 00:21:34,800
So you can actually really play

725
00:21:34,800 --> 00:21:36,300
around here and update any of

726
00:21:36,300 --> 00:21:36,940
these values.

727
00:21:37,180 --> 00:21:39,260
So now if we hit play

728
00:21:39,260 --> 00:21:41,580
in theory, it should just work.

729
00:21:42,100 --> 00:21:44,000
So we'll come in here, submit.

730
00:21:44,640 --> 00:21:45,900
We do that.

731
00:21:45,940 --> 00:21:47,040
And then we take a look

732
00:21:47,040 --> 00:21:47,780
at our user name.

733
00:21:47,780 --> 00:21:47,940
And then if we go back

734
00:21:47,940 --> 00:21:48,980
to our group here, we refresh,

735
00:21:49,180 --> 00:21:50,760
you'll see that open is now

736
00:21:50,760 --> 00:21:51,180
on.

737
00:21:51,560 --> 00:21:53,540
If we set it to off

738
00:21:53,540 --> 00:21:55,500
and we refresh, you'll see that

739
00:21:55,500 --> 00:21:56,620
it is now closed.

740
00:21:56,880 --> 00:21:58,160
So that's how you can open

741
00:21:58,160 --> 00:21:58,680
and close it.

742
00:21:58,700 --> 00:21:59,460
And that's really how you can

743
00:21:59,460 --> 00:22:00,960
update any of these values.

744
00:22:01,320 --> 00:22:02,720
So if I came in here,

745
00:22:02,900 --> 00:22:04,720
if I come back to Godot

746
00:22:04,720 --> 00:22:07,340
here and I grab my description,

747
00:22:07,680 --> 00:22:11,300
I believe that's name, description, avatar,

748
00:22:11,480 --> 00:22:11,820
URL.

749
00:22:12,000 --> 00:22:13,620
So if I named this, the

750
00:22:17,780 --> 00:22:19,060
And then I changed the description

751
00:22:19,060 --> 00:22:23,420
to, we are the strong gamers,

752
00:22:23,760 --> 00:22:25,400
exclamation point.

753
00:22:26,480 --> 00:22:28,000
If I come in here and

754
00:22:28,000 --> 00:22:31,060
I hit this little toggle here,

755
00:22:31,260 --> 00:22:35,000
well, our session got DC.

756
00:22:35,100 --> 00:22:37,200
So let me refresh this guy

757
00:22:37,200 --> 00:22:37,800
real quick.

758
00:22:38,800 --> 00:22:40,960
Let me re log in and

759
00:22:40,960 --> 00:22:41,860
then I'll change it.

760
00:22:41,940 --> 00:22:42,680
So now it's going to be

761
00:22:42,680 --> 00:22:45,160
open and the titles and everything

762
00:22:45,160 --> 00:22:45,960
has been changed.

763
00:22:46,080 --> 00:22:46,780
Strong gamers.

764
00:22:46,960 --> 00:22:47,760
We are the strong.

765
00:22:47,780 --> 00:22:48,220
Gamers.

766
00:22:48,280 --> 00:22:49,600
So that's how you can update

767
00:22:49,600 --> 00:22:50,300
those values.

768
00:22:50,480 --> 00:22:53,320
Now, again, typically you wouldn't use

769
00:22:53,320 --> 00:22:55,300
a toggle switch to do this.

770
00:22:55,380 --> 00:22:56,440
I'm just showing you guys how

771
00:22:56,440 --> 00:22:56,760
to do that.

772
00:22:56,820 --> 00:22:57,520
So I can show you the

773
00:22:57,520 --> 00:22:59,160
open and close really quickly.

774
00:22:59,440 --> 00:23:01,080
You can see now it's closed.

775
00:23:01,360 --> 00:23:02,820
So that's how you can update

776
00:23:02,820 --> 00:23:03,760
that group visibility.

777
00:23:04,060 --> 00:23:05,560
That's how you can update the

778
00:23:05,560 --> 00:23:10,220
group values, information values for your

779
00:23:10,220 --> 00:23:10,620
group.

780
00:23:10,780 --> 00:23:13,540
Now, something else that's pretty big

781
00:23:13,540 --> 00:23:15,720
and pretty important to know is

782
00:23:15,720 --> 00:23:16,920
how to

783
00:23:16,920 --> 00:23:17,640
actually.

784
00:23:18,060 --> 00:23:19,100
List groups.

785
00:23:19,480 --> 00:23:23,620
So Nakama, uh, groups are a

786
00:23:23,620 --> 00:23:25,520
resource like anything else, right?

787
00:23:25,620 --> 00:23:28,000
So you can actually list them

788
00:23:28,000 --> 00:23:30,540
and index them and pull back

789
00:23:30,540 --> 00:23:32,700
information using them.

790
00:23:33,860 --> 00:23:35,820
So what does that mean?

791
00:23:35,980 --> 00:23:37,400
Well, that means that you can

792
00:23:37,400 --> 00:23:40,180
use what's called list groups asynchronously

793
00:23:40,180 --> 00:23:40,500
to

794
00:23:40,500 --> 00:23:42,380
actually list out your groups.

795
00:23:42,520 --> 00:23:43,840
So if I come in here,

796
00:23:43,960 --> 00:23:45,320
I can show you guys how

797
00:23:45,320 --> 00:23:45,960
that works.

798
00:23:46,100 --> 00:23:47,760
So I'm going to write.

799
00:23:47,760 --> 00:23:50,760
Click, add in a panel like,

800
00:23:50,820 --> 00:23:52,820
so I'll drag this guy over

801
00:23:52,820 --> 00:23:57,560
here like this, and I will

802
00:23:57,560 --> 00:23:59,740
make an H box container, or

803
00:23:59,740 --> 00:24:00,520
I guess it'd be a V

804
00:24:00,520 --> 00:24:03,460
box container like so, and I'll

805
00:24:03,460 --> 00:24:04,900
make that full wrecked so that

806
00:24:04,900 --> 00:24:06,640
way it maximizes the full screen

807
00:24:06,640 --> 00:24:07,220
now, granted

808
00:24:07,220 --> 00:24:08,680
that being said, we only have

809
00:24:08,680 --> 00:24:10,160
one group right now, so we

810
00:24:10,160 --> 00:24:11,200
kind of need to make

811
00:24:11,200 --> 00:24:12,440
multiple groups for us to be

812
00:24:12,440 --> 00:24:14,520
able to see them all, but

813
00:24:14,520 --> 00:24:16,620
we can at least show how

814
00:24:16,620 --> 00:24:17,240
that works.

815
00:24:17,760 --> 00:24:18,820
So if we come in here,

816
00:24:18,920 --> 00:24:20,360
I grab this add user to

817
00:24:20,360 --> 00:24:20,940
group button.

818
00:24:21,020 --> 00:24:22,500
I duplicate it, bring it down

819
00:24:22,500 --> 00:24:25,740
here and I type list groups

820
00:24:25,740 --> 00:24:28,460
like so, and then

821
00:24:28,460 --> 00:24:29,640
I'm going to grab this description,

822
00:24:29,880 --> 00:24:31,580
duplicate it, pull it down here,

823
00:24:31,740 --> 00:24:33,040
and

824
00:24:33,040 --> 00:24:37,540
this is going to be group

825
00:24:37,540 --> 00:24:37,920
query.

826
00:24:38,140 --> 00:24:40,160
Like, so I'll change this to

827
00:24:40,160 --> 00:24:44,680
list groups and I'll change this

828
00:24:44,680 --> 00:24:45,240
to.

829
00:24:47,200 --> 00:24:47,680
Group.

830
00:24:47,680 --> 00:24:48,200
Query.

831
00:24:48,680 --> 00:24:51,180
Now, what we can do is

832
00:24:51,180 --> 00:24:52,840
hit control S we can go

833
00:24:52,840 --> 00:24:53,880
into scripting.

834
00:24:54,360 --> 00:24:56,360
We can grab our list group,

835
00:24:56,480 --> 00:24:58,560
go to node, right click, disconnect,

836
00:24:58,800 --> 00:24:59,280
right click,

837
00:24:59,360 --> 00:25:01,520
connect and connect it.

838
00:25:02,720 --> 00:25:04,840
Now, what we could do when

839
00:25:04,840 --> 00:25:06,060
we want to list our groups

840
00:25:06,060 --> 00:25:07,920
is we can set up a

841
00:25:07,920 --> 00:25:08,320
limit.

842
00:25:08,460 --> 00:25:10,160
So we can say var limit

843
00:25:10,160 --> 00:25:12,560
is equal to, let's say 10.

844
00:25:12,700 --> 00:25:14,080
Now we don't have 10 groups

845
00:25:14,080 --> 00:25:16,120
to list, but we'll use that

846
00:25:16,120 --> 00:25:17,560
as a default value.

847
00:25:17,560 --> 00:25:21,800
Then we'll say var result is

848
00:25:21,800 --> 00:25:26,000
equal to await client dot list

849
00:25:26,000 --> 00:25:27,520
groups, async.

850
00:25:27,980 --> 00:25:29,060
Now you'll need to pass in

851
00:25:29,060 --> 00:25:31,040
your session just like usual, and

852
00:25:31,040 --> 00:25:31,640
then you'll need to

853
00:25:31,640 --> 00:25:33,900
pass in some kind of name

854
00:25:33,900 --> 00:25:36,680
that you're trying to search up.

855
00:25:36,980 --> 00:25:38,360
Now this is a variant.

856
00:25:38,480 --> 00:25:40,140
So of course you can, you

857
00:25:40,140 --> 00:25:43,880
know, get back whatever you're looking

858
00:25:43,880 --> 00:25:44,200
for.

859
00:25:44,320 --> 00:25:45,200
So in my case, I'm going

860
00:25:45,200 --> 00:25:46,360
to hit dollar sign.

861
00:25:47,900 --> 00:25:50,760
Group query dot text, and that'll

862
00:25:50,760 --> 00:25:52,420
let me have that limit.

863
00:25:52,540 --> 00:25:53,460
And then we'll pass in our

864
00:25:53,460 --> 00:25:54,560
limit, which by the way, does

865
00:25:54,560 --> 00:25:55,560
default to 10.

866
00:25:55,980 --> 00:25:57,640
Now they have a cursor value

867
00:25:57,640 --> 00:26:00,820
and that cursor value allows you

868
00:26:00,820 --> 00:26:02,880
to say, I want the next

869
00:26:02,880 --> 00:26:03,380
10.

870
00:26:03,580 --> 00:26:04,520
So think of it kind of

871
00:26:04,520 --> 00:26:04,880
like this.

872
00:26:04,940 --> 00:26:06,560
When you do your query, you're

873
00:26:06,560 --> 00:26:07,540
going to pull back the first

874
00:26:07,540 --> 00:26:09,220
10, but what happens if the

875
00:26:09,220 --> 00:26:10,480
person doesn't see the group that

876
00:26:10,480 --> 00:26:11,820
they want on the first 10?

877
00:26:12,380 --> 00:26:13,820
Well, that's where the cursor value

878
00:26:13,820 --> 00:26:14,440
comes in.

879
00:26:14,520 --> 00:26:15,720
So you can hit zero, make

880
00:26:15,720 --> 00:26:17,000
that cursor value of zero.

881
00:26:17,560 --> 00:26:18,000
All of this will interrupt.

882
00:26:18,000 --> 00:26:19,300
Language tag will allow you to

883
00:26:19,300 --> 00:26:20,660
pick a language.

884
00:26:20,720 --> 00:26:21,600
In my case, I'm going to

885
00:26:21,600 --> 00:26:22,020
do en.

886
00:26:22,280 --> 00:26:23,860
And again, you don't have to

887
00:26:23,860 --> 00:26:24,900
do that, but it's going to

888
00:26:24,900 --> 00:26:26,300
filter out any groups

889
00:26:26,300 --> 00:26:27,140
that are not English.

890
00:26:27,200 --> 00:26:28,300
You can see right here, language

891
00:26:28,300 --> 00:26:30,460
en, so that's going to allow

892
00:26:30,460 --> 00:26:30,960
you to have

893
00:26:30,960 --> 00:26:32,520
that limiting factor, right?

894
00:26:32,580 --> 00:26:34,000
Because if they're Spanish, you don't

895
00:26:34,000 --> 00:26:35,600
want to necessarily show them up

896
00:26:35,600 --> 00:26:35,800
if

897
00:26:35,800 --> 00:26:38,060
they're looking for an English group.

898
00:26:38,140 --> 00:26:39,720
If they speak English, not Spanish,

899
00:26:39,860 --> 00:26:40,760
it's going to be a problem.

900
00:26:41,440 --> 00:26:42,220
And then.

901
00:26:43,300 --> 00:26:43,900
You can.

902
00:26:43,900 --> 00:26:45,680
can look up members which allows

903
00:26:45,680 --> 00:26:48,060
you to pick members i'm going

904
00:26:48,060 --> 00:26:49,220
to pass in null for that

905
00:26:49,220 --> 00:26:49,820
and

906
00:26:49,820 --> 00:26:50,900
then you could choose whether or

907
00:26:50,900 --> 00:26:52,180
not it's an open group or

908
00:26:52,180 --> 00:26:53,960
not so a lot of times

909
00:26:53,960 --> 00:26:54,940
when you're doing

910
00:26:54,940 --> 00:26:56,200
groups you might want to check

911
00:26:56,200 --> 00:26:57,140
to see if it's a public

912
00:26:57,140 --> 00:26:59,040
group not a private group because

913
00:26:59,040 --> 00:26:59,460
sometimes

914
00:26:59,960 --> 00:27:01,680
if you have a group like

915
00:27:01,680 --> 00:27:02,820
a guild and you don't want

916
00:27:02,820 --> 00:27:04,360
people to see your guild you

917
00:27:04,360 --> 00:27:05,100
probably should

918
00:27:05,100 --> 00:27:07,400
make sure that that is false

919
00:27:07,400 --> 00:27:11,380
or true depending on your use

920
00:27:11,380 --> 00:27:13,320
case so i'll make it true

921
00:27:13,320 --> 00:27:14,660
and that's

922
00:27:14,660 --> 00:27:16,380
pretty much everything that you need

923
00:27:16,380 --> 00:27:18,420
to know here now with this

924
00:27:18,420 --> 00:27:20,720
we should be relatively good to

925
00:27:20,720 --> 00:27:20,920
go

926
00:27:20,920 --> 00:27:22,840
so now we basically will have

927
00:27:22,840 --> 00:27:24,520
our results we can say for

928
00:27:24,520 --> 00:27:30,500
group in result dot groups like

929
00:27:30,500 --> 00:27:30,820
that

930
00:27:30,820 --> 00:27:33,640
and then we can basically come

931
00:27:33,640 --> 00:27:34,960
in and print out

932
00:27:35,100 --> 00:27:37,320
our groups so you can see

933
00:27:37,320 --> 00:27:41,740
that we can go print group

934
00:27:41,740 --> 00:27:43,820
dot name like that

935
00:27:45,200 --> 00:27:47,560
and from here we should be

936
00:27:47,560 --> 00:27:49,800
relatively good to go so now

937
00:27:49,800 --> 00:27:52,960
we can hit play we can

938
00:27:52,960 --> 00:27:54,600
log in as test

939
00:27:54,600 --> 00:27:56,780
we can come in here and

940
00:27:56,780 --> 00:27:59,620
say i believe our group name

941
00:27:59,620 --> 00:28:01,640
is strong gamers so we can

942
00:28:01,640 --> 00:28:01,840
say

943
00:28:01,840 --> 00:28:05,080
strong and list groups and it'll

944
00:28:05,080 --> 00:28:05,080
be a little bit less of

945
00:28:05,080 --> 00:28:05,080
a mess but it'll be a

946
00:28:05,080 --> 00:28:05,080
little bit more

947
00:28:05,080 --> 00:28:07,500
should come back well it's not

948
00:28:07,500 --> 00:28:09,780
happy so that's not a good

949
00:28:09,780 --> 00:28:12,300
thing our p cursor query parameters

950
00:28:12,300 --> 00:28:15,940
strong that's fine not going to

951
00:28:15,940 --> 00:28:16,980
serialize escape

952
00:28:19,540 --> 00:28:23,000
cannot convert argument one from int

953
00:28:23,000 --> 00:28:23,800
to string

954
00:28:28,940 --> 00:28:31,760
i wonder if it's mad because

955
00:28:31,760 --> 00:28:36,200
our cursor is an int i

956
00:28:36,200 --> 00:28:38,000
think there's an issue here with

957
00:28:38,000 --> 00:28:38,600
how they

958
00:28:38,600 --> 00:28:40,540
have their stuff set up so

959
00:28:40,540 --> 00:28:42,460
what if we come back here

960
00:28:42,460 --> 00:28:45,640
and we do null instead so

961
00:28:45,640 --> 00:28:46,360
if we come in here

962
00:28:46,360 --> 00:28:48,840
null just to see if that

963
00:28:48,840 --> 00:28:51,260
fixes the problem so we'll come

964
00:28:51,260 --> 00:28:52,400
in here we'll type strong

965
00:28:53,880 --> 00:28:56,220
and it's still mad oh that's

966
00:28:56,220 --> 00:28:57,740
because i didn't log in so

967
00:28:57,740 --> 00:29:00,660
that's fair that's understandable so we'll

968
00:29:00,660 --> 00:29:03,460
log in we will say strong

969
00:29:03,460 --> 00:29:06,420
list groups and you can see

970
00:29:06,420 --> 00:29:07,940
that we get a 400 the

971
00:29:07,940 --> 00:29:09,200
error name filter cannot

972
00:29:09,200 --> 00:29:10,960
be combined with any other filter

973
00:29:10,960 --> 00:29:13,260
so it looks like according to

974
00:29:13,260 --> 00:29:15,160
nakama's documentation you can

975
00:29:15,160 --> 00:29:16,780
combine them but i guess you

976
00:29:16,780 --> 00:29:19,880
can't inside of here so let's

977
00:29:19,880 --> 00:29:21,660
try that and see if that

978
00:29:21,660 --> 00:29:22,280
fixes it

979
00:29:22,280 --> 00:29:23,780
because according to our documentation we

980
00:29:23,780 --> 00:29:23,780
can't combine them but i guess

981
00:29:23,780 --> 00:29:23,780
you can't

982
00:29:23,780 --> 00:29:25,560
documentation you can do this but

983
00:29:25,560 --> 00:29:28,520
i guess we can't so let's

984
00:29:28,520 --> 00:29:29,260
try that

985
00:29:32,720 --> 00:29:35,120
so we'll hit list groups and

986
00:29:35,120 --> 00:29:36,700
you will see that we get

987
00:29:36,700 --> 00:29:39,800
an authorization bearing right here i

988
00:29:39,800 --> 00:29:40,160
don't

989
00:29:40,160 --> 00:29:41,520
know if that came back with

990
00:29:41,520 --> 00:29:44,140
really anything so let me see

991
00:29:44,140 --> 00:29:45,580
what happens if i list groups

992
00:29:45,580 --> 00:29:45,900
let's

993
00:29:45,900 --> 00:29:47,120
see what our result comes back

994
00:29:47,120 --> 00:29:48,500
with after i drop a breakpoint

995
00:29:48,500 --> 00:29:50,420
here and it did it came

996
00:29:50,420 --> 00:29:50,820
back with

997
00:29:50,820 --> 00:29:53,760
nothing so nakama is not going

998
00:29:53,760 --> 00:29:53,760
to be able to do that

999
00:29:53,760 --> 00:29:53,760
so we're going to try that

1000
00:29:53,760 --> 00:29:53,760
again

1001
00:29:53,780 --> 00:29:55,160
not doing what i want it

1002
00:29:55,160 --> 00:29:57,180
to do because of course it's

1003
00:29:57,180 --> 00:29:59,680
not welcome to programming let's see

1004
00:29:59,680 --> 00:29:59,800
what

1005
00:29:59,800 --> 00:30:01,600
happens if i do capital s

1006
00:30:01,600 --> 00:30:02,520
it's probably capital

1007
00:30:07,200 --> 00:30:09,580
case sensitive so we'll come in

1008
00:30:09,580 --> 00:30:11,600
here and we'll take a look

1009
00:30:11,600 --> 00:30:14,300
at our result still got nothing

1010
00:30:14,300 --> 00:30:14,880
back

1011
00:30:14,880 --> 00:30:17,920
so we'll continue through what happens

1012
00:30:17,920 --> 00:30:21,080
if i do a percent sign

1013
00:30:21,080 --> 00:30:22,480
and see if that gives us

1014
00:30:22,480 --> 00:30:23,760
something back now

1015
00:30:25,100 --> 00:30:27,160
because it might be that it

1016
00:30:27,160 --> 00:30:28,440
needs to be a query of

1017
00:30:28,440 --> 00:30:29,780
some description so we can

1018
00:30:29,780 --> 00:30:32,960
check that out real quick yep

1019
00:30:32,960 --> 00:30:34,220
it needs to be a query

1020
00:30:34,220 --> 00:30:35,180
so you can see it pulled

1021
00:30:35,180 --> 00:30:35,860
back the one

1022
00:30:35,860 --> 00:30:37,000
that we're looking for so it

1023
00:30:37,000 --> 00:30:38,700
pulled back our group so when

1024
00:30:38,700 --> 00:30:40,420
you do a text just be

1025
00:30:40,420 --> 00:30:41,060
aware of

1026
00:30:41,060 --> 00:30:41,840
that you're going to need to

1027
00:30:41,840 --> 00:30:43,300
make it into an actual query

1028
00:30:43,300 --> 00:30:45,580
instead so you need to add

1029
00:30:45,580 --> 00:30:45,840
that

1030
00:30:45,840 --> 00:30:47,880
percent sign at the end so

1031
00:30:47,880 --> 00:30:49,020
that's just something to keep in

1032
00:30:49,020 --> 00:30:52,020
mind now you'll see when i

1033
00:30:52,020 --> 00:30:52,600
hit play

1034
00:30:52,600 --> 00:30:53,760
it's going to pull back our

1035
00:30:53,760 --> 00:30:53,760
group and it's going to pull

1036
00:30:53,760 --> 00:30:53,760
back our group and it's going

1037
00:30:53,760 --> 00:30:53,760
to pull back

1038
00:30:53,780 --> 00:30:53,960
our group and it's going to

1039
00:30:53,960 --> 00:30:56,480
print out strong gamers right there

1040
00:30:56,480 --> 00:30:58,900
so that's basically how you

1041
00:30:58,900 --> 00:31:01,320
can list and filter your groups

1042
00:31:01,320 --> 00:31:03,560
so that allows us to see

1043
00:31:03,560 --> 00:31:07,700
those groups and hunt down their

1044
00:31:07,700 --> 00:31:08,220
identifier

1045
00:31:08,220 --> 00:31:10,240
because if you look you can

1046
00:31:10,240 --> 00:31:11,600
see when i list the groups

1047
00:31:11,600 --> 00:31:14,000
you can see when i come

1048
00:31:14,000 --> 00:31:15,240
in here and i take

1049
00:31:15,240 --> 00:31:18,340
a look at my results here

1050
00:31:18,340 --> 00:31:20,260
the group i come back with

1051
00:31:20,260 --> 00:31:23,280
has their identifier right here so

1052
00:31:23,280 --> 00:31:23,500
if you

1053
00:31:23,780 --> 00:31:27,460
know where their um if you

1054
00:31:27,460 --> 00:31:28,780
know their name you can pull

1055
00:31:28,780 --> 00:31:30,780
back their id so that's how

1056
00:31:30,780 --> 00:31:31,180
we would

1057
00:31:31,180 --> 00:31:33,760
populate all these other values right

1058
00:31:33,760 --> 00:31:36,940
here is by listing it and

1059
00:31:36,940 --> 00:31:38,280
then pulling back that group

1060
00:31:38,280 --> 00:31:42,360
information now since we can pull

1061
00:31:42,360 --> 00:31:44,460
this information that means that we

1062
00:31:44,460 --> 00:31:46,100
can actually come in here and

1063
00:31:46,100 --> 00:31:49,280
use that info on our panels

1064
00:31:49,280 --> 00:31:51,440
and things like that so what

1065
00:31:51,440 --> 00:31:53,020
we could do is

1066
00:31:53,780 --> 00:31:55,380
we could come in here and

1067
00:31:55,380 --> 00:32:00,780
list out their information and populate

1068
00:32:00,780 --> 00:32:03,780
it in a vbox container

1069
00:32:03,780 --> 00:32:06,060
so we could do is we

1070
00:32:06,060 --> 00:32:11,300
could go var vbox is equal

1071
00:32:11,300 --> 00:32:15,520
to vbox container dot new like

1072
00:32:15,520 --> 00:32:17,040
that and then

1073
00:32:17,040 --> 00:32:19,300
if i need if i do

1074
00:32:19,300 --> 00:32:21,800
this correctly equals vbox container dot

1075
00:32:21,800 --> 00:32:22,100
new

1076
00:32:23,780 --> 00:32:24,940
and then we could come in

1077
00:32:24,940 --> 00:32:27,140
here and do the same thing

1078
00:32:27,140 --> 00:32:28,440
but for labels so we can

1079
00:32:28,440 --> 00:32:28,660
say

1080
00:32:28,660 --> 00:32:33,040
label so var name label is

1081
00:32:33,040 --> 00:32:37,580
equal to a label dot new

1082
00:32:37,580 --> 00:32:40,400
like that and then name label

1083
00:32:40,400 --> 00:32:42,120
dot text is

1084
00:32:42,120 --> 00:32:43,840
equal to if we take a

1085
00:32:43,840 --> 00:32:46,100
look at this right here we

1086
00:32:46,100 --> 00:32:49,500
can go name so it would

1087
00:32:49,500 --> 00:32:52,100
be group dot

1088
00:32:54,600 --> 00:32:56,560
let's take a look at this

1089
00:32:59,340 --> 00:33:02,560
what is result dot groups let's

1090
00:33:02,560 --> 00:33:07,080
see result dot groups so it's

1091
00:33:07,080 --> 00:33:08,120
going to come back with this

1092
00:33:08,120 --> 00:33:08,400
so

1093
00:33:08,400 --> 00:33:10,340
it would be dot name like

1094
00:33:10,340 --> 00:33:12,480
that and then we could say

1095
00:33:12,480 --> 00:33:13,300
vbox

1096
00:33:16,560 --> 00:33:18,740
dot add child and then we

1097
00:33:18,740 --> 00:33:21,400
could add our name label as

1098
00:33:21,400 --> 00:33:23,280
a part of that child and

1099
00:33:23,280 --> 00:33:23,580
then

1100
00:33:23,780 --> 00:33:25,140
we can come in here and

1101
00:33:25,140 --> 00:33:30,740
say dollar sign vbox and we

1102
00:33:30,740 --> 00:33:32,140
can find out which panel is

1103
00:33:32,140 --> 00:33:32,620
ours which

1104
00:33:32,620 --> 00:33:33,740
arguably we should come up with

1105
00:33:33,740 --> 00:33:35,180
a better naming convention here but

1106
00:33:35,180 --> 00:33:37,680
that's fine dot add child

1107
00:33:38,700 --> 00:33:41,140
and we could add in our

1108
00:33:41,140 --> 00:33:44,680
vbox right here like that and

1109
00:33:44,680 --> 00:33:46,860
that would allow us to effectively

1110
00:33:46,860 --> 00:33:47,860
add it as a

1111
00:33:47,860 --> 00:33:49,800
child for our project and then

1112
00:33:49,800 --> 00:33:51,680
if we refresh this in theory

1113
00:33:51,680 --> 00:33:53,600
providing that this is going to

1114
00:33:53,600 --> 00:33:53,760
work

1115
00:33:53,780 --> 00:33:54,440
and i don't know if it's

1116
00:33:54,440 --> 00:33:55,480
going to work this is kind

1117
00:33:55,480 --> 00:33:56,500
of me coding this a little

1118
00:33:56,500 --> 00:33:57,140
bit off the cuff

1119
00:33:57,140 --> 00:33:58,920
we can hit list groups and

1120
00:33:58,920 --> 00:33:59,860
you can see that we now

1121
00:33:59,860 --> 00:34:02,900
have strong gamers there so that's

1122
00:34:02,900 --> 00:34:03,080
something

1123
00:34:03,080 --> 00:34:05,040
that we can actually do and

1124
00:34:05,040 --> 00:34:07,680
pull back their information so that

1125
00:34:07,680 --> 00:34:09,040
could be really useful for

1126
00:34:09,040 --> 00:34:12,300
us to set up for like

1127
00:34:12,300 --> 00:34:13,760
a selection system or something like

1128
00:34:13,760 --> 00:34:16,540
that and speaking of that what

1129
00:34:16,540 --> 00:34:17,580
we could do is we could

1130
00:34:17,580 --> 00:34:19,180
come in here and say var

1131
00:34:19,180 --> 00:34:23,600
hbox is equal to hbox container

1132
00:34:23,780 --> 00:34:26,840
dot new like so and then

1133
00:34:26,840 --> 00:34:31,560
we can do hbox dot let's

1134
00:34:31,560 --> 00:34:32,800
see if we bring this down

1135
00:34:32,800 --> 00:34:33,920
here instead of doing

1136
00:34:33,920 --> 00:34:35,900
vbox dot add we could do

1137
00:34:35,900 --> 00:34:37,900
hbox and then we could add

1138
00:34:37,900 --> 00:34:40,300
our vbox

1139
00:34:43,320 --> 00:34:46,340
dot add child hbox like so

1140
00:34:46,340 --> 00:34:49,380
and then what that means is

1141
00:34:49,380 --> 00:34:50,200
that we could add in a

1142
00:34:50,200 --> 00:34:50,520
button

1143
00:34:50,520 --> 00:34:52,140
and i know this is kind

1144
00:34:52,140 --> 00:34:53,680
of weird because i'm actually coding

1145
00:34:53,680 --> 00:34:53,760
this and i'm not sure if

1146
00:34:53,760 --> 00:34:53,760
it's

1147
00:34:53,780 --> 00:34:55,520
a component instead of doing it

1148
00:34:55,520 --> 00:34:56,880
the other way but one of

1149
00:34:56,880 --> 00:34:57,940
the big things that people have

1150
00:34:57,940 --> 00:34:58,200
asked

1151
00:34:58,200 --> 00:34:59,040
me is if you could actually

1152
00:34:59,040 --> 00:35:00,500
do it this way and i

1153
00:35:00,500 --> 00:35:01,580
want to cover that and show

1154
00:35:01,580 --> 00:35:02,580
you guys yeah you can

1155
00:35:02,580 --> 00:35:06,200
actually build interface elements inside of

1156
00:35:06,200 --> 00:35:07,840
code and then actually have it

1157
00:35:07,840 --> 00:35:10,320
exist so that's kind of

1158
00:35:10,320 --> 00:35:12,120
what i'm showing here so if

1159
00:35:12,120 --> 00:35:13,540
we come in here and say

1160
00:35:13,540 --> 00:35:19,220
h var button is equal to

1161
00:35:19,220 --> 00:35:22,660
button dot new like so

1162
00:35:23,780 --> 00:35:24,700
then we can come in here

1163
00:35:24,700 --> 00:35:29,220
and do button dot text is

1164
00:35:29,220 --> 00:35:33,120
equal to select group like that

1165
00:35:33,120 --> 00:35:34,000
and then we can

1166
00:35:34,000 --> 00:35:35,440
come in here and say hbox

1167
00:35:35,440 --> 00:35:40,400
dot add child button like that

1168
00:35:40,400 --> 00:35:42,000
and then we can add that

1169
00:35:42,000 --> 00:35:42,820
hbox and that

1170
00:35:42,820 --> 00:35:45,400
should allow us to have all

1171
00:35:45,400 --> 00:35:46,460
of that information that we were

1172
00:35:46,460 --> 00:35:48,600
looking for before right here so

1173
00:35:48,600 --> 00:35:48,760
if

1174
00:35:48,760 --> 00:35:51,260
we hit submit list groups you

1175
00:35:51,260 --> 00:35:52,840
can see we have a button

1176
00:35:52,840 --> 00:35:53,340
right here

1177
00:35:53,780 --> 00:35:56,520
so now we can basically connect

1178
00:35:56,520 --> 00:36:01,320
its on button click right here

1179
00:36:01,320 --> 00:36:03,400
so you can say button dot

1180
00:36:06,420 --> 00:36:12,020
button down like that dot dot

1181
00:36:12,020 --> 00:36:13,720
connect and then we could just

1182
00:36:13,720 --> 00:36:14,080
say

1183
00:36:14,080 --> 00:36:15,940
and here we could call out

1184
00:36:15,940 --> 00:36:17,160
a function so if i come

1185
00:36:17,160 --> 00:36:19,220
in here and say funk on

1186
00:36:21,200 --> 00:36:23,320
group select button down and i

1187
00:36:23,320 --> 00:36:23,680
can pass

1188
00:36:23,780 --> 00:36:26,920
in the group like that and

1189
00:36:26,920 --> 00:36:29,380
i could come in here and

1190
00:36:29,380 --> 00:36:31,840
do dot connect and we could

1191
00:36:31,840 --> 00:36:32,440
do what's called

1192
00:36:33,060 --> 00:36:35,420
binding and binding is actually really

1193
00:36:35,420 --> 00:36:36,740
cool so we can say on

1194
00:36:36,740 --> 00:36:39,600
group select button like that

1195
00:36:40,780 --> 00:36:43,060
dot bind and then i can

1196
00:36:43,060 --> 00:36:45,680
bind parameters so i can actually

1197
00:36:45,680 --> 00:36:47,080
come in here and bind

1198
00:36:47,860 --> 00:36:49,740
group and now if we come

1199
00:36:49,740 --> 00:36:51,040
in here and we print out

1200
00:36:51,040 --> 00:36:53,580
that group you'll see

1201
00:36:53,780 --> 00:36:55,400
providing that we did this correctly

1202
00:36:55,400 --> 00:36:56,600
and i know that this is

1203
00:36:56,600 --> 00:36:58,500
like way beyond what the actual

1204
00:36:58,500 --> 00:37:00,180
tutorial is but i think that

1205
00:37:00,180 --> 00:37:01,440
this is pretty cool so i

1206
00:37:01,440 --> 00:37:02,480
figured i would show it off

1207
00:37:02,480 --> 00:37:04,280
if we do this we

1208
00:37:04,280 --> 00:37:05,360
can come in here and list

1209
00:37:05,360 --> 00:37:06,760
our groups and then select a

1210
00:37:06,760 --> 00:37:08,720
group and you'll see that it

1211
00:37:08,720 --> 00:37:09,640
passes in

1212
00:37:09,640 --> 00:37:12,580
that information right there it binds

1213
00:37:12,580 --> 00:37:14,940
the parameters so you could actually

1214
00:37:14,940 --> 00:37:15,720
come in here

1215
00:37:17,380 --> 00:37:20,680
and set a selected group parameter

1216
00:37:20,680 --> 00:37:23,000
right here and there you go

1217
00:37:23,000 --> 00:37:23,680
it would actually

1218
00:37:23,780 --> 00:37:25,500
work so what we could do

1219
00:37:25,500 --> 00:37:26,900
is we could come in here

1220
00:37:26,900 --> 00:37:29,040
and say all the way up

1221
00:37:29,040 --> 00:37:30,520
here set our

1222
00:37:34,700 --> 00:37:36,980
var selected group and then we

1223
00:37:36,980 --> 00:37:38,580
could come down here and just

1224
00:37:38,580 --> 00:37:38,900
say

1225
00:37:40,560 --> 00:37:42,800
selected group is equal to group

1226
00:37:42,800 --> 00:37:44,540
like that and then we could

1227
00:37:44,540 --> 00:37:45,300
come in here

1228
00:37:46,160 --> 00:37:48,440
and do i believe it's group

1229
00:37:48,440 --> 00:37:52,160
dot id so you could come

1230
00:37:52,160 --> 00:37:52,620
in here

1231
00:37:56,120 --> 00:37:59,540
go selected group.id like that

1232
00:37:59,540 --> 00:38:02,440
copy this bad boy go like

1233
00:38:02,440 --> 00:38:07,120
this paste and paste and paste

1234
00:38:07,120 --> 00:38:08,100
and then

1235
00:38:08,100 --> 00:38:10,060
you would be able to effectively

1236
00:38:10,060 --> 00:38:13,040
update the values in there without

1237
00:38:13,040 --> 00:38:15,220
needing to actually have that data

1238
00:38:15,220 --> 00:38:16,020
so if i come in here

1239
00:38:16,020 --> 00:38:17,580
i list my groups well first

1240
00:38:17,580 --> 00:38:19,060
i need to actually hook up

1241
00:38:19,060 --> 00:38:20,100
my session really quick

1242
00:38:20,560 --> 00:38:22,660
so if i submit that there

1243
00:38:22,660 --> 00:38:23,020
we go

1244
00:38:23,780 --> 00:38:25,680
i list my groups i select

1245
00:38:25,680 --> 00:38:27,260
it now i have that selected

1246
00:38:27,260 --> 00:38:28,420
i can come in here

1247
00:38:28,420 --> 00:38:31,840
and do a open and you

1248
00:38:31,840 --> 00:38:33,020
will see that if i come

1249
00:38:33,020 --> 00:38:34,660
in here and i refresh this

1250
00:38:34,660 --> 00:38:36,620
you'll see that that worked and

1251
00:38:36,620 --> 00:38:38,480
that's because we bound that parameter

1252
00:38:38,480 --> 00:38:41,180
right here well if i

1253
00:38:41,180 --> 00:38:43,760
could find it right here to

1254
00:38:43,760 --> 00:38:46,380
actually work so that's a way

1255
00:38:46,380 --> 00:38:47,980
that we can go about making

1256
00:38:47,980 --> 00:38:48,260
a

1257
00:38:48,260 --> 00:38:51,500
group selection system relatively simple and

1258
00:38:51,500 --> 00:38:52,740
that's how we can actually list

1259
00:38:52,740 --> 00:38:53,580
our groups

1260
00:38:53,780 --> 00:38:55,280
as well so i know that

1261
00:38:55,280 --> 00:38:58,060
that's kind of a complicated way

1262
00:38:58,060 --> 00:38:59,560
to show it but i figured

1263
00:38:59,560 --> 00:39:01,800
that it was an interesting way

1264
00:39:01,800 --> 00:39:03,280
to approach it and i figured

1265
00:39:03,280 --> 00:39:04,860
you guys would appreciate that

1266
00:39:05,600 --> 00:39:07,360
so now the question is what

1267
00:39:07,360 --> 00:39:09,460
if we want to promote a

1268
00:39:09,460 --> 00:39:11,320
user or maybe demote a user

1269
00:39:11,320 --> 00:39:11,580
or

1270
00:39:11,580 --> 00:39:13,260
kick or ban a user from

1271
00:39:13,260 --> 00:39:15,080
our group well in order to

1272
00:39:15,080 --> 00:39:16,880
do that first we need to

1273
00:39:16,880 --> 00:39:17,180
actually

1274
00:39:17,180 --> 00:39:20,260
get the user id of that

1275
00:39:20,260 --> 00:39:21,200
person so you can see here

1276
00:39:21,200 --> 00:39:22,460
this person is a member and

1277
00:39:22,460 --> 00:39:23,180
we want to get that

1278
00:39:23,780 --> 00:39:25,340
id back so if we come

1279
00:39:25,340 --> 00:39:27,960
back to godot here and we

1280
00:39:27,960 --> 00:39:30,640
go ahead and come down here

1281
00:39:30,640 --> 00:39:33,380
we need to basically

1282
00:39:34,100 --> 00:39:36,160
get a username go and fetch

1283
00:39:36,160 --> 00:39:39,280
their id and then basically promote

1284
00:39:39,280 --> 00:39:40,880
or demote that person so what

1285
00:39:40,880 --> 00:39:41,800
i'm going to do is i'm

1286
00:39:41,800 --> 00:39:42,880
going to right click my panel

1287
00:39:42,880 --> 00:39:43,680
i'm going to add in a

1288
00:39:43,680 --> 00:39:46,440
line edit like so i'm

1289
00:39:46,440 --> 00:39:47,600
going to drag this guy down

1290
00:39:47,600 --> 00:39:49,520
here we'll go like this make

1291
00:39:49,520 --> 00:39:50,580
it about i don't know about

1292
00:39:50,580 --> 00:39:51,100
that big

1293
00:39:51,100 --> 00:39:52,620
we'll come in here we'll say

1294
00:39:52,620 --> 00:39:53,280
user

1295
00:39:53,780 --> 00:39:59,500
user to manage we'll say and

1296
00:39:59,500 --> 00:40:00,940
then we'll come in here and

1297
00:40:00,940 --> 00:40:02,340
hopefully we won't run out of

1298
00:40:02,340 --> 00:40:02,540
space

1299
00:40:02,540 --> 00:40:03,880
if we do we'll figure something

1300
00:40:03,880 --> 00:40:05,900
out but let's right click add

1301
00:40:05,900 --> 00:40:07,040
in a child node let's add

1302
00:40:07,040 --> 00:40:07,260
in a

1303
00:40:07,260 --> 00:40:09,580
button we'll add in a button

1304
00:40:09,580 --> 00:40:13,600
for promoting right here like so

1305
00:40:13,600 --> 00:40:18,080
and if i think about it

1306
00:40:18,080 --> 00:40:20,200
for a second with groups we

1307
00:40:20,200 --> 00:40:22,840
need to promote demote kick and

1308
00:40:22,840 --> 00:40:23,760
ban something

1309
00:40:23,780 --> 00:40:25,780
and then also leave that group

1310
00:40:25,780 --> 00:40:27,580
so we'll need to figure out

1311
00:40:27,580 --> 00:40:28,760
a way to give ourselves a

1312
00:40:28,760 --> 00:40:29,160
little bit

1313
00:40:29,160 --> 00:40:30,800
more space here because i'm running

1314
00:40:30,800 --> 00:40:32,480
out so maybe i can drag

1315
00:40:32,480 --> 00:40:33,700
this guy up butt it up

1316
00:40:33,700 --> 00:40:34,040
a little bit

1317
00:40:34,040 --> 00:40:35,920
closer drag this guy down give

1318
00:40:35,920 --> 00:40:37,400
ourselves a little bit more space

1319
00:40:37,400 --> 00:40:42,300
but we can promote duplicate kick

1320
00:40:49,740 --> 00:40:50,220
demote

1321
00:40:52,340 --> 00:40:53,760
and then i blooded

1322
00:40:53,780 --> 00:40:55,660
we would need to ban somebody

1323
00:40:55,660 --> 00:41:00,080
and then finally the last interaction

1324
00:41:00,080 --> 00:41:01,460
that we need to do is

1325
00:41:01,460 --> 00:41:01,780
to

1326
00:41:01,780 --> 00:41:05,440
actually come in here and leave

1327
00:41:05,440 --> 00:41:07,100
so we could just come over

1328
00:41:07,100 --> 00:41:08,680
ah goodness we're running out of

1329
00:41:08,680 --> 00:41:08,900
space

1330
00:41:08,900 --> 00:41:10,600
here we have so much functionality

1331
00:41:10,600 --> 00:41:12,700
here it's actually hard to make

1332
00:41:12,700 --> 00:41:14,680
the space so we'll drag

1333
00:41:14,680 --> 00:41:16,300
this guy down a tiny bit

1334
00:41:16,300 --> 00:41:17,780
maybe give ourselves a bit more

1335
00:41:17,780 --> 00:41:20,040
space over here drag this guy

1336
00:41:20,040 --> 00:41:21,340
over like

1337
00:41:21,340 --> 00:41:25,020
so there we go and we

1338
00:41:25,020 --> 00:41:27,560
can change this one to leave

1339
00:41:27,560 --> 00:41:31,760
group like that now when we

1340
00:41:31,760 --> 00:41:32,460
want to promote

1341
00:41:32,460 --> 00:41:34,740
a user let's change the name

1342
00:41:34,740 --> 00:41:38,540
of this to promote user kick

1343
00:41:38,540 --> 00:41:44,300
user demote user and ban user

1344
00:41:44,300 --> 00:41:45,300
like that

1345
00:41:45,300 --> 00:41:48,440
and then leave free so i'm

1346
00:41:48,440 --> 00:41:49,140
going to go ahead and grab

1347
00:41:49,140 --> 00:41:50,780
promote user and i'm going to

1348
00:41:50,780 --> 00:41:51,080
change

1349
00:41:51,080 --> 00:41:53,140
my line edit to user to

1350
00:41:53,140 --> 00:41:55,300
manage and then i'll click on

1351
00:41:55,300 --> 00:41:56,580
promote user we're going to go

1352
00:41:56,580 --> 00:41:56,680
ahead

1353
00:41:56,680 --> 00:41:59,420
and connect that to our nakama

1354
00:41:59,420 --> 00:42:01,980
controller here we'll come down here

1355
00:42:01,980 --> 00:42:04,860
and we'll basically go ahead

1356
00:42:04,860 --> 00:42:06,680
and promote a user so first

1357
00:42:06,680 --> 00:42:07,840
things first we need to actually

1358
00:42:07,840 --> 00:42:10,980
get our user account now unfortunately

1359
00:42:11,580 --> 00:42:12,960
you need to actually go and

1360
00:42:12,960 --> 00:42:15,020
fetch that user account so first

1361
00:42:15,020 --> 00:42:18,360
we'll say var user is is

1362
00:42:18,360 --> 00:42:18,800
type

1363
00:42:18,800 --> 00:42:23,380
nakama api dot api

1364
00:42:26,840 --> 00:42:30,780
users is equal to await client

1365
00:42:30,780 --> 00:42:34,380
dot get users async and then

1366
00:42:34,380 --> 00:42:35,360
we can come in here and

1367
00:42:35,360 --> 00:42:36,140
go session

1368
00:42:36,840 --> 00:42:37,960
so we could pass in that

1369
00:42:37,960 --> 00:42:39,980
session and then we need to

1370
00:42:39,980 --> 00:42:42,340
pass in ids so when you

1371
00:42:42,340 --> 00:42:43,120
do this you can

1372
00:42:43,120 --> 00:42:45,640
pass in ids or usernames in

1373
00:42:45,640 --> 00:42:46,500
our case we're going to pass

1374
00:42:46,500 --> 00:42:46,980
in a username

1375
00:42:46,980 --> 00:42:48,720
but you can pass

1376
00:42:49,580 --> 00:42:53,040
in their actual id as well

1377
00:42:53,040 --> 00:42:53,780
so i'm just going to pass

1378
00:42:53,780 --> 00:42:55,520
in a blank and then for

1379
00:42:55,520 --> 00:42:56,600
the username i'll

1380
00:42:56,600 --> 00:42:58,080
just pass in a single parameter

1381
00:42:58,080 --> 00:42:59,780
and that's going to be dollar

1382
00:42:59,780 --> 00:43:03,460
sign user to manage dot text

1383
00:43:03,460 --> 00:43:04,260
comma

1384
00:43:04,260 --> 00:43:05,780
and you'll see that they also

1385
00:43:05,780 --> 00:43:07,760
have a facebook id in this

1386
00:43:07,760 --> 00:43:09,400
case we'll pass in null we

1387
00:43:09,400 --> 00:43:09,760
don't really

1388
00:43:09,760 --> 00:43:11,940
have a facebook id to manage

1389
00:43:11,940 --> 00:43:14,000
a user but they do separate

1390
00:43:14,000 --> 00:43:14,980
that out and i'm not really

1391
00:43:14,980 --> 00:43:15,820
sure why they

1392
00:43:15,820 --> 00:43:16,980
do that but that's a thing

1393
00:43:16,980 --> 00:43:18,240
so it's just something to keep

1394
00:43:18,240 --> 00:43:20,360
in mind now what we can

1395
00:43:20,360 --> 00:43:22,120
do is say for you

1396
00:43:22,120 --> 00:43:26,920
in users dot users and that's

1397
00:43:26,920 --> 00:43:28,620
a really bad way so we'll

1398
00:43:28,620 --> 00:43:32,420
say result and then we'll just

1399
00:43:32,420 --> 00:43:32,940
do result

1400
00:43:32,940 --> 00:43:34,160
dot users that's going to be

1401
00:43:34,160 --> 00:43:35,720
a little bit better than what

1402
00:43:35,720 --> 00:43:38,220
we're doing right now now once

1403
00:43:38,220 --> 00:43:38,640
we do

1404
00:43:38,640 --> 00:43:40,520
this we have the actual user

1405
00:43:40,520 --> 00:43:42,900
information so that's how you pull

1406
00:43:42,900 --> 00:43:44,740
back that user's information so you

1407
00:43:44,740 --> 00:43:45,400
can actually just do

1408
00:43:45,400 --> 00:43:45,680
you

1409
00:43:45,680 --> 00:43:47,680
dot id and that will be

1410
00:43:47,680 --> 00:43:50,300
their identification right that'll be their

1411
00:43:50,300 --> 00:43:50,920
actual information

1412
00:43:50,920 --> 00:43:53,680
so what we can do is

1413
00:43:53,680 --> 00:43:56,740
we can come in here and

1414
00:43:56,740 --> 00:43:58,420
promote that user so we'll come

1415
00:43:58,420 --> 00:43:58,940
in here and say

1416
00:43:58,940 --> 00:44:03,540
await client dot promote user and

1417
00:44:03,540 --> 00:44:05,560
group async you can pass in

1418
00:44:05,560 --> 00:44:07,480
our session token and then we

1419
00:44:07,480 --> 00:44:08,000
can pass

1420
00:44:08,000 --> 00:44:10,600
in our group id so in

1421
00:44:10,600 --> 00:44:11,400
our case that's going to be

1422
00:44:11,400 --> 00:44:13,360
our selected group dot id comma

1423
00:44:13,360 --> 00:44:14,680
and i believe it's

1424
00:44:14,680 --> 00:44:16,340
selected group dot id let me

1425
00:44:16,340 --> 00:44:19,220
double check really quick because sometimes

1426
00:44:19,220 --> 00:44:20,940
i forget things it is

1427
00:44:21,560 --> 00:44:22,600
and then we have to pass

1428
00:44:22,600 --> 00:44:24,440
in a user identifier so that's

1429
00:44:24,440 --> 00:44:25,760
going to be u dot id

1430
00:44:25,760 --> 00:44:27,780
like that

1431
00:44:28,580 --> 00:44:30,420
and now if we go ahead

1432
00:44:30,420 --> 00:44:32,080
and hit play you'll see in

1433
00:44:32,080 --> 00:44:34,620
a second that if i connect

1434
00:44:34,620 --> 00:44:35,320
to this

1435
00:44:35,320 --> 00:44:37,720
and then i list my groups

1436
00:44:37,720 --> 00:44:39,660
i select my group and then

1437
00:44:39,660 --> 00:44:42,620
i type in test 2 and

1438
00:44:42,620 --> 00:44:43,440
i click promote

1439
00:44:44,100 --> 00:44:44,420
well

1440
00:44:44,420 --> 00:44:47,560
we have an error so the

1441
00:44:47,560 --> 00:44:50,440
error is cannot convert argument 3

1442
00:44:50,440 --> 00:44:52,320
from string to a packed array

1443
00:44:52,320 --> 00:44:52,880
and

1444
00:44:52,880 --> 00:44:54,620
that's because this can be a

1445
00:44:54,620 --> 00:44:56,580
group of users it's not actually

1446
00:44:56,580 --> 00:44:58,240
just one group it's actually

1447
00:44:58,240 --> 00:45:00,560
multiple people so we can go

1448
00:45:00,560 --> 00:45:01,920
ahead and do that and then

1449
00:45:01,920 --> 00:45:03,580
try it again so it's because

1450
00:45:03,580 --> 00:45:04,020
we need

1451
00:45:04,020 --> 00:45:05,520
we can actually have multiples of

1452
00:45:05,520 --> 00:45:07,680
somebody so we'll go like that

1453
00:45:07,680 --> 00:45:09,480
we'll submit we'll list our

1454
00:45:09,480 --> 00:45:12,860
groups select group test 2 we'll

1455
00:45:12,860 --> 00:45:14,400
promote that person you'll see that

1456
00:45:14,400 --> 00:45:14,400
we've got a group of users

1457
00:45:14,420 --> 00:45:15,500
that that looks like that was

1458
00:45:15,500 --> 00:45:16,800
successful we'll head back to our

1459
00:45:16,800 --> 00:45:18,160
nakama console we'll refresh

1460
00:45:18,160 --> 00:45:19,380
and you will see that this

1461
00:45:19,380 --> 00:45:22,480
person is now an admin so

1462
00:45:22,480 --> 00:45:23,760
that's huge because it's going to

1463
00:45:23,760 --> 00:45:25,000
allow us to

1464
00:45:25,000 --> 00:45:26,860
be able to create admins and

1465
00:45:26,860 --> 00:45:28,140
now if we click it a

1466
00:45:28,140 --> 00:45:29,740
second time you'll see if we

1467
00:45:29,740 --> 00:45:30,960
refresh they are now

1468
00:45:30,960 --> 00:45:32,120
a super admin that means that

1469
00:45:32,120 --> 00:45:34,140
they can delete this uh group

1470
00:45:34,140 --> 00:45:35,740
if they want to now the

1471
00:45:35,740 --> 00:45:36,360
question might be

1472
00:45:36,360 --> 00:45:38,940
okay so i can promote users

1473
00:45:38,940 --> 00:45:40,960
how do i demote them right

1474
00:45:40,960 --> 00:45:44,240
well if we come in here

1475
00:45:44,240 --> 00:45:45,580
we go in right here

1476
00:45:45,580 --> 00:45:48,620
we go into demote user button

1477
00:45:48,620 --> 00:45:50,660
down let's connect that real quick

1478
00:45:50,660 --> 00:45:52,640
we come in here and basically

1479
00:45:52,640 --> 00:45:55,620
copy and paste this code so

1480
00:45:55,620 --> 00:45:57,300
we'll just copy this guy paste

1481
00:45:57,300 --> 00:45:59,620
it and instead of promote we

1482
00:45:59,620 --> 00:45:59,940
can just

1483
00:45:59,940 --> 00:46:03,900
pass in demote easy enough and

1484
00:46:03,900 --> 00:46:05,520
same thing for kick user right

1485
00:46:05,520 --> 00:46:06,280
we could just kind of

1486
00:46:06,280 --> 00:46:07,660
bring that in and let's do

1487
00:46:07,660 --> 00:46:09,580
ban user as well right so

1488
00:46:09,580 --> 00:46:10,540
we'll just bring that in as

1489
00:46:10,540 --> 00:46:12,160
well if we copy

1490
00:46:12,160 --> 00:46:14,480
this guy we can copy paste

1491
00:46:14,480 --> 00:46:17,160
and paste because they're all the

1492
00:46:17,160 --> 00:46:19,760
exact same functionality so we

1493
00:46:19,760 --> 00:46:20,820
can come in here and say

1494
00:46:20,820 --> 00:46:26,020
kick group users and then ban

1495
00:46:26,020 --> 00:46:27,280
group users

1496
00:46:29,480 --> 00:46:31,620
and now if i refresh this

1497
00:46:31,620 --> 00:46:35,640
you'll see if i submit list

1498
00:46:35,640 --> 00:46:36,080
groups

1499
00:46:36,080 --> 00:46:36,260
submit list groups

1500
00:46:36,280 --> 00:46:39,080
select my group test two i

1501
00:46:39,080 --> 00:46:41,040
go demote you'll see that that

1502
00:46:41,040 --> 00:46:42,540
worked if we come over here

1503
00:46:42,540 --> 00:46:43,400
we refresh

1504
00:46:43,400 --> 00:46:47,120
our users right here you'll see

1505
00:46:47,120 --> 00:46:48,400
that they are now an admin

1506
00:46:48,400 --> 00:46:50,720
and then i can go ahead

1507
00:46:50,720 --> 00:46:52,020
and ban a user

1508
00:46:52,020 --> 00:46:54,800
and you'll see non-existent function

1509
00:46:54,800 --> 00:46:58,760
ban groups that's probably my fault

1510
00:46:58,760 --> 00:47:01,100
group users async

1511
00:47:01,800 --> 00:47:03,400
and it looks like you actually

1512
00:47:03,400 --> 00:47:05,080
can't ban a user so we'll

1513
00:47:05,080 --> 00:47:06,160
remove that that's

1514
00:47:06,160 --> 00:47:06,260
my fault group users async and

1515
00:47:06,260 --> 00:47:06,260
it looks like you actually can't

1516
00:47:06,260 --> 00:47:06,260
ban a user so we'll remove

1517
00:47:06,260 --> 00:47:06,260
that that's

1518
00:47:06,280 --> 00:47:09,460
my fault i um was reading

1519
00:47:09,460 --> 00:47:11,300
the documentation earlier but it looks

1520
00:47:11,300 --> 00:47:12,700
like it got removed so

1521
00:47:12,700 --> 00:47:14,020
you're not actually able to ban

1522
00:47:14,020 --> 00:47:15,700
a user anymore from a group

1523
00:47:15,700 --> 00:47:17,820
so we'll come in here we'll

1524
00:47:17,820 --> 00:47:18,420
go ahead

1525
00:47:18,420 --> 00:47:22,340
and type submit list our groups

1526
00:47:22,340 --> 00:47:23,800
select our group we'll go to

1527
00:47:23,800 --> 00:47:26,540
test two we'll go ahead and

1528
00:47:26,540 --> 00:47:27,220
demote the

1529
00:47:27,220 --> 00:47:28,980
user so you'll see if we

1530
00:47:28,980 --> 00:47:31,460
refresh they are an admin if

1531
00:47:31,460 --> 00:47:32,700
we come in here we can

1532
00:47:32,700 --> 00:47:33,780
go ahead and kick them

1533
00:47:33,780 --> 00:47:35,320
and then if we refresh you

1534
00:47:35,320 --> 00:47:36,260
will see they have been removed

1535
00:47:36,260 --> 00:47:36,260
and then we can go ahead

1536
00:47:36,260 --> 00:47:36,260
and kick them and

1537
00:47:36,260 --> 00:47:36,460
then if we refresh you will

1538
00:47:36,460 --> 00:47:36,460
see they are an admin if

1539
00:47:36,460 --> 00:47:36,460
we come in here we can

1540
00:47:36,460 --> 00:47:36,460
go ahead and kick them and

1541
00:47:36,460 --> 00:47:38,840
removed from that group and that's

1542
00:47:38,840 --> 00:47:41,400
basically how you can actually manage

1543
00:47:41,400 --> 00:47:42,740
your users in here

1544
00:47:43,280 --> 00:47:45,340
and you can also delete a

1545
00:47:45,340 --> 00:47:46,900
group and leave a group so

1546
00:47:46,900 --> 00:47:49,620
if we want to leave a

1547
00:47:49,620 --> 00:47:51,480
group we can come in here

1548
00:47:51,480 --> 00:47:54,480
and go into our stuff here

1549
00:47:54,480 --> 00:47:55,740
we can click on leave group

1550
00:47:55,740 --> 00:47:58,540
button down on leave button down

1551
00:47:58,540 --> 00:47:58,740
we'll

1552
00:47:58,740 --> 00:48:00,720
connect that and to leave a

1553
00:48:00,720 --> 00:48:04,400
group it's actually relatively simple all

1554
00:48:04,400 --> 00:48:05,620
we need to do is type

1555
00:48:08,560 --> 00:48:13,100
await client dot leave group async

1556
00:48:13,100 --> 00:48:14,580
will pass in our session and

1557
00:48:14,580 --> 00:48:16,260
then we'll pass in our group

1558
00:48:16,260 --> 00:48:16,480
id

1559
00:48:16,480 --> 00:48:17,240
which is going to be our

1560
00:48:17,240 --> 00:48:20,860
selected group id now this will

1561
00:48:20,860 --> 00:48:21,940
allow us to leave our group

1562
00:48:21,940 --> 00:48:23,040
but the

1563
00:48:23,040 --> 00:48:24,360
problem is that if i leave

1564
00:48:24,360 --> 00:48:27,440
my group i will actually um

1565
00:48:27,440 --> 00:48:29,440
not have any more users in

1566
00:48:29,440 --> 00:48:29,580
that

1567
00:48:29,580 --> 00:48:30,820
group so what i'll do is

1568
00:48:30,820 --> 00:48:33,840
i'll log in as test two

1569
00:48:33,840 --> 00:48:36,500
i will come in here and

1570
00:48:36,500 --> 00:48:39,640
pass in my group name if

1571
00:48:39,640 --> 00:48:41,320
i remember correctly it's if we

1572
00:48:41,320 --> 00:48:43,000
list groups we can select the

1573
00:48:43,000 --> 00:48:44,840
group join group and then you

1574
00:48:44,840 --> 00:48:45,060
should

1575
00:48:45,060 --> 00:48:46,800
see that we will join that

1576
00:48:46,800 --> 00:48:48,780
group so you'll see as a

1577
00:48:48,780 --> 00:48:51,700
member we can refresh and there

1578
00:48:51,700 --> 00:48:52,720
we go we're in

1579
00:48:52,720 --> 00:48:55,220
that group and now we can

1580
00:48:55,220 --> 00:48:57,220
come in here and say leave

1581
00:48:57,220 --> 00:48:58,600
group and then if we refresh

1582
00:48:58,600 --> 00:48:59,300
we have

1583
00:48:59,300 --> 00:48:59,420
leave group and then if we

1584
00:48:59,420 --> 00:48:59,420
refresh we have we have a

1585
00:48:59,420 --> 00:48:59,560
leave group and then if we

1586
00:48:59,560 --> 00:48:59,560
refresh we

1587
00:48:59,580 --> 00:49:01,960
left that group right there and

1588
00:49:01,960 --> 00:49:05,000
now we can actually safely delete

1589
00:49:05,000 --> 00:49:05,980
our group right because

1590
00:49:05,980 --> 00:49:07,560
we now have shown that that

1591
00:49:07,560 --> 00:49:09,340
section works that's how you leave

1592
00:49:09,340 --> 00:49:10,860
a group it's actually really easy

1593
00:49:10,860 --> 00:49:12,600
you just do leave group asynchronously

1594
00:49:12,600 --> 00:49:14,100
so now what happens if you

1595
00:49:14,100 --> 00:49:16,100
want to delete a group well

1596
00:49:16,100 --> 00:49:17,100
we're going to need an additional

1597
00:49:17,100 --> 00:49:18,880
button for that so let's duplicate

1598
00:49:18,880 --> 00:49:20,580
our leave group we'll just pull

1599
00:49:20,580 --> 00:49:22,840
it down here i guess we're

1600
00:49:22,840 --> 00:49:23,900
kind of running out of space

1601
00:49:23,900 --> 00:49:25,000
here so i'll just put it

1602
00:49:25,000 --> 00:49:25,440
right here

1603
00:49:25,440 --> 00:49:28,320
i'll move open over we'll grab

1604
00:49:28,320 --> 00:49:30,400
leave group and we'll put delete

1605
00:49:30,400 --> 00:49:32,620
group now in order to delete

1606
00:49:32,620 --> 00:49:32,800
a

1607
00:49:32,800 --> 00:49:35,140
group we'll disconnect this connect in

1608
00:49:35,140 --> 00:49:36,540
order to delete a group it's

1609
00:49:36,540 --> 00:49:38,080
actually really simple as

1610
00:49:38,080 --> 00:49:40,540
well so when you delete a

1611
00:49:40,540 --> 00:49:41,840
group all you need to do

1612
00:49:41,840 --> 00:49:46,560
is type client await client dot

1613
00:49:46,560 --> 00:49:47,240
delete

1614
00:49:48,080 --> 00:49:49,860
group async and then you can

1615
00:49:49,860 --> 00:49:50,720
pass in the session

1616
00:49:52,760 --> 00:49:54,440
and the selected group

1617
00:49:54,440 --> 00:49:55,260
dot

1618
00:49:55,260 --> 00:49:57,220
And that's literally all you need

1619
00:49:57,220 --> 00:49:57,520
to do.

1620
00:49:57,680 --> 00:49:59,580
So now if I refresh my

1621
00:49:59,580 --> 00:50:00,240
screen here,

1622
00:50:00,680 --> 00:50:02,940
I log in as test the

1623
00:50:02,940 --> 00:50:03,880
super admin,

1624
00:50:03,980 --> 00:50:07,260
and then we'll log in as

1625
00:50:07,260 --> 00:50:07,680
test.

1626
00:50:07,700 --> 00:50:08,740
We'll come in here, we'll log

1627
00:50:08,740 --> 00:50:09,500
in as test two.

1628
00:50:09,600 --> 00:50:10,420
We'll submit.

1629
00:50:10,660 --> 00:50:12,420
We will go ahead and hit

1630
00:50:12,420 --> 00:50:13,080
list groups.

1631
00:50:13,240 --> 00:50:14,580
We'll select that group.

1632
00:50:14,640 --> 00:50:15,900
We're gonna join that group really

1633
00:50:15,900 --> 00:50:16,140
quick.

1634
00:50:16,260 --> 00:50:17,920
And remember, because this is an

1635
00:50:17,920 --> 00:50:18,560
open group,

1636
00:50:19,240 --> 00:50:21,340
that person should be able to

1637
00:50:21,340 --> 00:50:22,180
just join.

1638
00:50:25,260 --> 00:50:25,740
There we go.

1639
00:50:25,840 --> 00:50:27,360
So the person has joined.

1640
00:50:27,600 --> 00:50:29,460
And now you'll see if I

1641
00:50:29,460 --> 00:50:32,020
go in as test two, right

1642
00:50:32,020 --> 00:50:32,680
here,

1643
00:50:33,180 --> 00:50:34,800
and I go ahead and I

1644
00:50:34,800 --> 00:50:35,980
click delete group,

1645
00:50:36,120 --> 00:50:37,280
which this is leave group,

1646
00:50:37,400 --> 00:50:39,380
but it's delete group in our

1647
00:50:39,380 --> 00:50:40,800
code.

1648
00:50:40,940 --> 00:50:43,220
You'll see request has returned response

1649
00:50:43,220 --> 00:50:44,220
400.

1650
00:50:44,900 --> 00:50:46,680
Group not found, or you are

1651
00:50:46,680 --> 00:50:47,640
not allowed to delete.

1652
00:50:47,820 --> 00:50:48,980
And the reason why is because

1653
00:50:48,980 --> 00:50:49,600
that person

1654
00:50:49,600 --> 00:50:51,500
does not have the capability to

1655
00:50:51,500 --> 00:50:52,200
delete this group.

1656
00:50:52,280 --> 00:50:53,380
You can see it's still here.

1657
00:50:53,820 --> 00:50:54,300
However,

1658
00:50:54,300 --> 00:50:55,940
if I come in here as

1659
00:50:55,940 --> 00:50:58,080
test or as my super admin,

1660
00:50:58,260 --> 00:51:00,040
and I log in and I

1661
00:51:00,040 --> 00:51:01,620
click list groups,

1662
00:51:01,780 --> 00:51:02,980
I select my group,

1663
00:51:03,020 --> 00:51:04,700
and then I click delete group,

1664
00:51:04,960 --> 00:51:06,400
you'll see if we go back

1665
00:51:06,400 --> 00:51:06,880
to groups,

1666
00:51:07,020 --> 00:51:08,380
it has now been removed.

1667
00:51:08,600 --> 00:51:10,300
And that's basically everything

1668
00:51:10,300 --> 00:51:12,040
that you need to know about

1669
00:51:12,040 --> 00:51:12,760
groups.

1670
00:51:15,760 --> 00:51:17,060
Now, when it comes to chats,

1671
00:51:17,200 --> 00:51:19,480
which is actually a whole feature

1672
00:51:19,480 --> 00:51:20,600
inside of Nakama,

1673
00:51:20,640 --> 00:51:22,220
you can actually build chat rooms

1674
00:51:22,220 --> 00:51:23,920
right inside of Nakama.

1675
00:51:23,980 --> 00:51:24,280
And you can actually build chat

1676
00:51:24,280 --> 00:51:24,280
rooms right inside of Nakama.

1677
00:51:24,300 --> 00:51:25,700
So when it comes to chats,

1678
00:51:26,000 --> 00:51:27,280
how do we actually get that

1679
00:51:27,280 --> 00:51:27,660
to work?

1680
00:51:27,800 --> 00:51:29,260
Well, first things first,

1681
00:51:29,400 --> 00:51:31,220
we are majorly out of space.

1682
00:51:31,460 --> 00:51:33,100
So I am going to hide

1683
00:51:33,100 --> 00:51:33,780
the group section.

1684
00:51:33,900 --> 00:51:34,460
As you can see,

1685
00:51:34,500 --> 00:51:36,320
we have all sorts of different

1686
00:51:36,320 --> 00:51:37,420
areas here

1687
00:51:37,820 --> 00:51:40,400
where we can actually do our

1688
00:51:40,400 --> 00:51:41,580
Nakama work here.

1689
00:51:41,680 --> 00:51:42,540
So I'm actually just going to

1690
00:51:42,540 --> 00:51:43,040
come in here

1691
00:51:43,040 --> 00:51:44,520
and just start hiding a lot

1692
00:51:44,520 --> 00:51:44,800
of this

1693
00:51:44,800 --> 00:51:45,920
because we're running out of space

1694
00:51:45,920 --> 00:51:46,260
here.

1695
00:51:46,400 --> 00:51:49,180
So I'll hide this panel and

1696
00:51:49,180 --> 00:51:50,020
this panel,

1697
00:51:50,500 --> 00:51:51,380
and there we go.

1698
00:51:51,720 --> 00:51:54,240
So when it comes to,

1699
00:51:54,240 --> 00:51:54,280
so when it comes to,

1700
00:51:54,280 --> 00:51:56,580
we have three different types of

1701
00:51:56,580 --> 00:51:56,800
chats.

1702
00:51:56,860 --> 00:51:58,120
And we'll talk about all three

1703
00:51:58,120 --> 00:51:58,480
of them

1704
00:51:59,440 --> 00:52:01,520
and how to send messages and

1705
00:52:01,520 --> 00:52:02,120
stuff like that.

1706
00:52:02,220 --> 00:52:04,740
But we have three different chat

1707
00:52:04,740 --> 00:52:05,120
types.

1708
00:52:05,220 --> 00:52:07,120
We have dynamic rooms, group chats,

1709
00:52:07,280 --> 00:52:08,280
and direct chats.

1710
00:52:08,540 --> 00:52:08,980
Okay.

1711
00:52:09,160 --> 00:52:10,800
And we'll talk about the group

1712
00:52:10,800 --> 00:52:11,780
chats when we get there.

1713
00:52:11,900 --> 00:52:14,600
But one of the big ones

1714
00:52:14,600 --> 00:52:15,960
that a lot of people like

1715
00:52:15,960 --> 00:52:18,480
is the dynamic rooms.

1716
00:52:18,700 --> 00:52:22,280
The dynamic rooms is basically a

1717
00:52:22,280 --> 00:52:24,260
random chat room.

1718
00:52:24,280 --> 00:52:24,680
And it's a random room that

1719
00:52:24,680 --> 00:52:26,180
gets created for temporary,

1720
00:52:26,280 --> 00:52:28,800
for a temporary time span.

1721
00:52:29,040 --> 00:52:30,780
And it only stays open as

1722
00:52:30,780 --> 00:52:31,560
long as there are people

1723
00:52:31,560 --> 00:52:32,880
in that chat room.

1724
00:52:32,980 --> 00:52:34,360
So the nice thing about it

1725
00:52:34,360 --> 00:52:34,540
is,

1726
00:52:34,600 --> 00:52:36,120
let's say you have a match

1727
00:52:36,120 --> 00:52:37,460
or something like that,

1728
00:52:37,680 --> 00:52:39,820
you could put people in that

1729
00:52:39,820 --> 00:52:40,700
temporary room

1730
00:52:40,700 --> 00:52:42,040
and then have people communicate.

1731
00:52:42,080 --> 00:52:43,120
And then once the match is

1732
00:52:43,120 --> 00:52:43,420
over,

1733
00:52:43,580 --> 00:52:45,460
that room just gets dissolved over

1734
00:52:45,460 --> 00:52:45,800
time.

1735
00:52:46,300 --> 00:52:49,380
Whereas something like a group chat,

1736
00:52:49,600 --> 00:52:52,220
that stays for as long as

1737
00:52:52,220 --> 00:52:52,980
the group exists.

1738
00:52:52,980 --> 00:52:55,200
And then they also have direct

1739
00:52:55,200 --> 00:52:55,500
chats,

1740
00:52:55,680 --> 00:52:57,080
which is basically one-on-one

1741
00:52:57,080 --> 00:52:58,300
communications between people,

1742
00:52:58,380 --> 00:53:00,140
which persist once again, forever.

1743
00:53:00,660 --> 00:53:02,820
So in order to do dynamic

1744
00:53:02,820 --> 00:53:03,340
rooms,

1745
00:53:03,460 --> 00:53:05,420
let's first right click, add a

1746
00:53:05,420 --> 00:53:05,940
child node.

1747
00:53:05,980 --> 00:53:07,420
Let's add in a panel here

1748
00:53:07,420 --> 00:53:10,060
and let's make it about this

1749
00:53:10,060 --> 00:53:10,460
big.

1750
00:53:10,660 --> 00:53:12,660
Now we're going to have to

1751
00:53:12,660 --> 00:53:13,900
build a whole chat system.

1752
00:53:14,180 --> 00:53:16,500
So this will take a little

1753
00:53:16,500 --> 00:53:17,280
bit of time.

1754
00:53:17,460 --> 00:53:18,460
So what I'm going to do

1755
00:53:18,460 --> 00:53:19,320
is I'm going to right click,

1756
00:53:19,360 --> 00:53:20,340
add a child node.

1757
00:53:20,440 --> 00:53:22,080
I'm going to add in a,

1758
00:53:22,980 --> 00:53:23,260
button.

1759
00:53:23,440 --> 00:53:25,240
I'm going to right click, add

1760
00:53:25,240 --> 00:53:25,820
a child node,

1761
00:53:25,920 --> 00:53:28,500
add in a line edit right

1762
00:53:28,500 --> 00:53:28,980
here.

1763
00:53:29,400 --> 00:53:31,120
We're going to make the line

1764
00:53:31,120 --> 00:53:33,960
edit about yay big give or

1765
00:53:33,960 --> 00:53:34,220
take.

1766
00:53:34,360 --> 00:53:36,520
If my mouse will let me,

1767
00:53:36,580 --> 00:53:37,700
we'll do that.

1768
00:53:37,820 --> 00:53:40,280
We'll add in a button again,

1769
00:53:40,380 --> 00:53:41,720
providing that I can click on

1770
00:53:41,720 --> 00:53:41,900
this.

1771
00:53:41,980 --> 00:53:42,400
There we go.

1772
00:53:42,620 --> 00:53:44,220
We'll make it about yay big.

1773
00:53:44,320 --> 00:53:45,600
And for our line edit,

1774
00:53:45,720 --> 00:53:48,980
we'll just say chat name like

1775
00:53:48,980 --> 00:53:49,320
that.

1776
00:53:50,100 --> 00:53:51,320
And then we'll come in here

1777
00:53:51,320 --> 00:53:51,780
and say,

1778
00:53:51,900 --> 00:53:52,960
join chat.

1779
00:53:52,960 --> 00:53:55,500
Now you could automate this.

1780
00:53:55,580 --> 00:53:56,840
As soon as a person goes

1781
00:53:56,840 --> 00:53:58,880
into a match,

1782
00:53:59,060 --> 00:54:00,300
you could actually go set up

1783
00:54:00,300 --> 00:54:02,980
the room name

1784
00:54:02,980 --> 00:54:04,700
and automatically have them joined.

1785
00:54:04,800 --> 00:54:05,320
But in this case,

1786
00:54:05,340 --> 00:54:06,660
we're going to manually do it.

1787
00:54:06,720 --> 00:54:07,800
That way you guys get the

1788
00:54:07,800 --> 00:54:09,340
experience of how it works.

1789
00:54:09,520 --> 00:54:11,720
So what we'll do is we'll

1790
00:54:11,720 --> 00:54:14,320
change this to join chat room

1791
00:54:14,940 --> 00:54:15,540
like that.

1792
00:54:15,680 --> 00:54:17,260
And then the line edit will

1793
00:54:17,260 --> 00:54:19,220
be chat name like that.

1794
00:54:19,440 --> 00:54:20,220
And then I'm going to come

1795
00:54:20,220 --> 00:54:20,580
in here,

1796
00:54:20,740 --> 00:54:22,940
go over here, button down,

1797
00:54:22,940 --> 00:54:24,640
and then I will hit connect.

1798
00:54:25,820 --> 00:54:27,580
Now, when we want to join

1799
00:54:27,580 --> 00:54:28,440
a chat room,

1800
00:54:28,540 --> 00:54:30,060
all we have to do is

1801
00:54:30,060 --> 00:54:31,200
come up with a room name.

1802
00:54:31,780 --> 00:54:33,880
If it's persistent, if it's hidden,

1803
00:54:34,580 --> 00:54:37,020
and if it is a room

1804
00:54:37,020 --> 00:54:37,700
type.

1805
00:54:37,800 --> 00:54:39,320
So I will show you all

1806
00:54:39,320 --> 00:54:39,900
of those things.

1807
00:54:40,000 --> 00:54:41,180
So first things first,

1808
00:54:41,400 --> 00:54:45,220
let's go var channel is equal

1809
00:54:45,220 --> 00:54:49,140
to await socket dot join chat

1810
00:54:49,780 --> 00:54:50,260
asynchronously.

1811
00:54:50,620 --> 00:54:52,060
Now, what this is going to

1812
00:54:52,060 --> 00:54:52,640
do is we're going to have

1813
00:54:52,640 --> 00:54:52,740
a

1814
00:54:52,740 --> 00:54:52,980
target.

1815
00:54:53,240 --> 00:54:56,500
Now that target is what the

1816
00:54:56,500 --> 00:54:58,680
name of that chat room is

1817
00:54:58,680 --> 00:54:58,820
going

1818
00:54:58,820 --> 00:54:59,160
to be.

1819
00:54:59,220 --> 00:55:00,340
In this case, we'll just say,

1820
00:55:00,380 --> 00:55:02,120
actually, we already have a title

1821
00:55:02,120 --> 00:55:02,760
right here, right?

1822
00:55:02,800 --> 00:55:07,700
So dollar sign, chat, name, dot,

1823
00:55:07,720 --> 00:55:08,760
text, comma.

1824
00:55:08,900 --> 00:55:09,840
And then you'll see that we

1825
00:55:09,840 --> 00:55:11,200
have an int type.

1826
00:55:11,740 --> 00:55:13,380
So what does that actually take?

1827
00:55:13,480 --> 00:55:14,320
What is the type?

1828
00:55:14,440 --> 00:55:16,260
Well, the type is a Nakama

1829
00:55:16,260 --> 00:55:18,260
socket chat type

1830
00:55:18,260 --> 00:55:19,540
or a channel type.

1831
00:55:19,800 --> 00:55:22,440
So we'll say var type is

1832
00:55:22,440 --> 00:55:22,720
equal to,

1833
00:55:24,440 --> 00:55:29,100
Nakama socket dot channel type dot.

1834
00:55:29,140 --> 00:55:30,020
And you'll see that we have

1835
00:55:30,020 --> 00:55:31,160
different types,

1836
00:55:31,260 --> 00:55:35,900
direct message, group, and room.

1837
00:55:36,490 --> 00:55:38,240
And each one has a different

1838
00:55:38,240 --> 00:55:38,600
use.

1839
00:55:38,720 --> 00:55:40,420
So thankfully the code is basically

1840
00:55:40,420 --> 00:55:41,060
the same,

1841
00:55:42,460 --> 00:55:45,980
but what matters is if it

1842
00:55:45,980 --> 00:55:48,320
is going to be a room,

1843
00:55:48,500 --> 00:55:49,920
if it's going to be a

1844
00:55:49,920 --> 00:55:50,260
group,

1845
00:55:50,400 --> 00:55:51,360
or if it's going to be

1846
00:55:51,360 --> 00:55:52,320
a direct message.

1847
00:55:52,320 --> 00:55:53,380
In our case, it's going to

1848
00:55:53,380 --> 00:55:53,900
be a room.

1849
00:55:54,160 --> 00:55:55,020
So I'm going to come in

1850
00:55:55,020 --> 00:55:56,760
here and say type comma,

1851
00:55:57,260 --> 00:55:59,220
and then if it's persistent,

1852
00:55:59,440 --> 00:56:00,740
so in our case, we don't

1853
00:56:00,740 --> 00:56:01,420
want it to be persistent.

1854
00:56:01,520 --> 00:56:02,760
So false comma.

1855
00:56:02,920 --> 00:56:04,700
And then if it's hidden, it

1856
00:56:04,700 --> 00:56:05,380
will say false.

1857
00:56:05,420 --> 00:56:06,020
We want it to make it

1858
00:56:06,020 --> 00:56:07,600
a public messaging chat.

1859
00:56:07,700 --> 00:56:09,120
So people can actually go in

1860
00:56:09,120 --> 00:56:11,380
and message each other

1861
00:56:11,380 --> 00:56:13,200
and not have to authenticate or

1862
00:56:13,200 --> 00:56:14,340
be added to that chat.

1863
00:56:14,640 --> 00:56:15,460
And then what I'm going to

1864
00:56:15,460 --> 00:56:16,220
do is I'm going to print

1865
00:56:16,220 --> 00:56:17,100
that chat information.

1866
00:56:17,100 --> 00:56:22,020
So print channel like that.

1867
00:56:22,040 --> 00:56:22,300
So I'm going to print that

1868
00:56:22,300 --> 00:56:22,300
chat information.

1869
00:56:22,300 --> 00:56:25,040
Now this will basically print out

1870
00:56:25,040 --> 00:56:25,840
our chats information.

1871
00:56:26,180 --> 00:56:27,620
So if I refresh this and

1872
00:56:27,620 --> 00:56:28,280
I run this,

1873
00:56:28,440 --> 00:56:30,160
if I join and I say

1874
00:56:30,160 --> 00:56:31,580
test and I join,

1875
00:56:31,700 --> 00:56:32,960
you'll see that we now have

1876
00:56:32,960 --> 00:56:35,400
a chat that is right here.

1877
00:56:35,500 --> 00:56:36,480
You can see it has the

1878
00:56:36,480 --> 00:56:37,160
ID one.

1879
00:56:37,300 --> 00:56:39,040
It has ID here.

1880
00:56:39,140 --> 00:56:40,700
It says there's a user test,

1881
00:56:41,000 --> 00:56:42,420
user ID is this,

1882
00:56:42,540 --> 00:56:43,540
session ID is this.

1883
00:56:43,580 --> 00:56:44,360
So we can get all the

1884
00:56:44,360 --> 00:56:45,940
people that are inside of that

1885
00:56:45,940 --> 00:56:46,320
chat

1886
00:56:47,030 --> 00:56:47,540
right there.

1887
00:56:48,560 --> 00:56:50,660
Now, if somebody else joins test

1888
00:56:50,660 --> 00:56:52,080
two, submit,

1889
00:56:52,300 --> 00:56:53,700
and then they go test and

1890
00:56:53,700 --> 00:56:54,220
they join,

1891
00:56:54,320 --> 00:56:55,860
you can see here that we

1892
00:56:55,860 --> 00:56:58,560
also joined channel ID two,

1893
00:56:59,340 --> 00:57:02,760
user presence session, this status user

1894
00:57:02,760 --> 00:57:03,280
test.

1895
00:57:03,500 --> 00:57:04,480
So we just got back that

1896
00:57:04,480 --> 00:57:06,680
user's account information, right?

1897
00:57:06,760 --> 00:57:08,000
So we got test and test

1898
00:57:08,000 --> 00:57:10,300
two in this chat with each

1899
00:57:10,300 --> 00:57:10,620
other.

1900
00:57:10,740 --> 00:57:12,640
And that's basically what these guys

1901
00:57:12,640 --> 00:57:13,400
are saying here.

1902
00:57:14,120 --> 00:57:15,380
Now, in order to send a

1903
00:57:15,380 --> 00:57:15,700
message,

1904
00:57:15,740 --> 00:57:16,640
you need to actually be able

1905
00:57:16,640 --> 00:57:18,480
to receive that message, right?

1906
00:57:18,560 --> 00:57:21,540
So let's go to our script

1907
00:57:21,540 --> 00:57:21,840
here.

1908
00:57:22,300 --> 00:57:23,600
And let's scroll all the way

1909
00:57:23,600 --> 00:57:24,380
up to the top.

1910
00:57:24,640 --> 00:57:25,980
And the reason why I'm scrolling

1911
00:57:25,980 --> 00:57:26,700
all the way up to the

1912
00:57:26,700 --> 00:57:26,920
top

1913
00:57:26,920 --> 00:57:28,580
is because we need to subscribe

1914
00:57:28,580 --> 00:57:31,040
when we create our socket

1915
00:57:31,040 --> 00:57:33,600
to the ability to actually get

1916
00:57:33,600 --> 00:57:34,100
messages.

1917
00:57:34,560 --> 00:57:35,900
So what we need to do

1918
00:57:35,900 --> 00:57:36,840
is go find

1919
00:57:36,840 --> 00:57:38,480
where our socket gets created,

1920
00:57:41,640 --> 00:57:43,100
which is right here.

1921
00:57:43,180 --> 00:57:43,940
So we'll come in here and

1922
00:57:43,940 --> 00:57:45,360
we'll say socket dot,

1923
00:57:46,620 --> 00:57:49,340
and providing that Godot wants to

1924
00:57:49,340 --> 00:57:50,200
be nice to me,

1925
00:57:50,300 --> 00:57:51,740
it will auto complete.

1926
00:57:52,300 --> 00:57:54,740
Please, maybe not.

1927
00:57:56,080 --> 00:57:59,600
Well, we'll hit dot received underscore

1928
00:58:02,500 --> 00:58:07,420
channel underscore message dot connect like

1929
00:58:07,420 --> 00:58:07,720
that.

1930
00:58:07,860 --> 00:58:09,220
And then we'll pass in a

1931
00:58:09,220 --> 00:58:09,740
callable.

1932
00:58:09,920 --> 00:58:11,880
So what this is going to

1933
00:58:11,880 --> 00:58:13,220
be is it's just going to

1934
00:58:13,220 --> 00:58:13,280
be

1935
00:58:13,280 --> 00:58:15,280
a very basic function that prints

1936
00:58:15,280 --> 00:58:16,500
out that message currently,

1937
00:58:16,660 --> 00:58:17,180
at least.

1938
00:58:17,200 --> 00:58:20,940
So we'll say funk underscore on

1939
00:58:20,940 --> 00:58:22,280
underscore channel,

1940
00:58:25,760 --> 00:58:31,400
on channel message like that.

1941
00:58:31,460 --> 00:58:33,320
And we'll pass in a message.

1942
00:58:33,720 --> 00:58:35,700
Now this could be a type

1943
00:58:35,700 --> 00:58:36,680
if you want it to be,

1944
00:58:36,760 --> 00:58:37,780
which is going to be a

1945
00:58:37,780 --> 00:58:45,040
Nakama API dot API channel message

1946
00:58:45,720 --> 00:58:46,460
like that.

1947
00:58:47,040 --> 00:58:48,300
And then we can just go

1948
00:58:48,300 --> 00:58:49,400
ahead and print that message.

1949
00:58:50,500 --> 00:58:51,500
And there we go.

1950
00:58:52,780 --> 00:58:54,540
Now we're going to connect that

1951
00:58:54,540 --> 00:58:54,980
message.

1952
00:58:55,120 --> 00:58:57,200
So we'll just pass on channel

1953
00:58:57,200 --> 00:58:58,540
message like that.

1954
00:58:58,620 --> 00:59:00,440
And that will actually pass that

1955
00:59:00,440 --> 00:59:02,020
to this guy right here.

1956
00:59:02,120 --> 00:59:03,520
And we'll go ahead and send

1957
00:59:03,520 --> 00:59:04,100
out that signal.

1958
00:59:04,260 --> 00:59:07,940
Now, when we do our message,

1959
00:59:09,340 --> 00:59:11,460
when we want to send a

1960
00:59:11,460 --> 00:59:11,840
message,

1961
00:59:11,920 --> 00:59:13,600
we need to actually create a

1962
00:59:13,600 --> 00:59:14,240
panel for that.

1963
00:59:14,340 --> 00:59:15,260
So let's come in here.

1964
00:59:15,380 --> 00:59:17,500
Let's right click our panel and

1965
00:59:17,500 --> 00:59:18,920
add in another panel.

1966
00:59:19,020 --> 00:59:19,380
Like this.

1967
00:59:19,400 --> 00:59:20,940
So I'm going to drag this

1968
00:59:20,940 --> 00:59:21,780
guy over here,

1969
00:59:21,920 --> 00:59:23,760
make it about this big give

1970
00:59:23,760 --> 00:59:24,020
or take,

1971
00:59:24,080 --> 00:59:24,760
and we're going to create a

1972
00:59:24,760 --> 00:59:28,140
very basic message block system.

1973
00:59:28,400 --> 00:59:29,700
So it's going to be pretty

1974
00:59:29,700 --> 00:59:30,100
ugly,

1975
00:59:30,220 --> 00:59:30,920
my apologies,

1976
00:59:31,080 --> 00:59:32,540
but I want to try to

1977
00:59:32,540 --> 00:59:34,200
get this to work as quickly

1978
00:59:34,200 --> 00:59:34,960
as humanly possible.

1979
00:59:35,220 --> 00:59:36,340
So what I'm going to do

1980
00:59:36,340 --> 00:59:38,420
is I'm going to put in

1981
00:59:38,420 --> 00:59:40,200
a line edit like,

1982
00:59:40,300 --> 00:59:42,280
so I'm going to make this

1983
00:59:42,280 --> 00:59:44,600
go on the bottom stretched across.

1984
00:59:44,800 --> 00:59:46,100
I'm going to pull this back,

1985
00:59:46,420 --> 00:59:47,260
right click,

1986
00:59:47,280 --> 00:59:48,140
add a child node.

1987
00:59:48,240 --> 00:59:49,300
We'll add an up button.

1988
00:59:49,300 --> 00:59:51,060
I'm going to snap that guy

1989
00:59:51,060 --> 00:59:53,140
right in the bottom right where

1990
00:59:53,140 --> 00:59:54,100
we'll make it about,

1991
00:59:54,800 --> 00:59:56,240
if I can click on it

1992
00:59:56,240 --> 00:59:58,200
about yay big,

1993
00:59:58,420 --> 01:00:00,880
we'll put a send or maybe

1994
01:00:00,880 --> 01:00:02,340
just like an arrow like that.

1995
01:00:02,440 --> 01:00:03,500
I think that'll work.

1996
01:00:03,700 --> 01:00:07,760
We'll put a placeholder chat text

1997
01:00:07,760 --> 01:00:08,100
here.

1998
01:00:08,200 --> 01:00:10,100
We'll type this as chat text.

1999
01:00:10,360 --> 01:00:12,640
We'll make the panel title chat,

2000
01:00:12,820 --> 01:00:14,360
and then we'll make the button

2001
01:00:14,360 --> 01:00:17,860
submit chat like that.

2002
01:00:17,860 --> 01:00:20,440
I'm going to go ahead and

2003
01:00:20,440 --> 01:00:21,140
right click,

2004
01:00:21,200 --> 01:00:22,060
add a child node,

2005
01:00:22,220 --> 01:00:23,160
and I'm going to add in

2006
01:00:23,160 --> 01:00:23,600
a,

2007
01:00:27,920 --> 01:00:29,820
I am brain farting on what

2008
01:00:29,820 --> 01:00:30,220
it is.

2009
01:00:30,300 --> 01:00:32,500
It is a text edit like

2010
01:00:32,500 --> 01:00:32,820
that.

2011
01:00:32,980 --> 01:00:34,800
We'll make it full screen.

2012
01:00:35,060 --> 01:00:36,720
So full rect and we'll make

2013
01:00:36,720 --> 01:00:38,180
it about yay big.

2014
01:00:38,300 --> 01:00:39,540
That'll go ahead and make it

2015
01:00:39,540 --> 01:00:40,940
so that it's kind of scalable

2016
01:00:40,940 --> 01:00:41,940
and you know,

2017
01:00:41,960 --> 01:00:43,220
easy to use.

2018
01:00:43,300 --> 01:00:44,880
Now inside of here,

2019
01:00:45,040 --> 01:00:47,260
I'll scroll down and I will

2020
01:00:47,260 --> 01:00:47,720
do auto,

2021
01:00:47,860 --> 01:00:48,960
wrap, that's fine.

2022
01:00:49,240 --> 01:00:50,740
So that means that if I

2023
01:00:50,740 --> 01:00:52,400
put in a bunch of text

2024
01:00:52,400 --> 01:00:52,640
here,

2025
01:00:52,740 --> 01:00:54,140
it's going to auto wrap.

2026
01:00:54,320 --> 01:00:55,000
So you can see if I

2027
01:00:55,000 --> 01:00:55,560
do wrap,

2028
01:00:55,640 --> 01:00:56,360
mode boundary,

2029
01:00:56,540 --> 01:00:57,440
it will go ahead and wrap

2030
01:00:57,440 --> 01:00:57,800
that,

2031
01:00:58,940 --> 01:01:00,660
and then I will turn on

2032
01:01:00,660 --> 01:01:02,080
scroll as well.

2033
01:01:02,320 --> 01:01:03,940
So if this continues,

2034
01:01:04,080 --> 01:01:05,900
so we'll Control C,

2035
01:01:06,100 --> 01:01:06,700
Control V,

2036
01:01:06,920 --> 01:01:07,940
we'll paste it.

2037
01:01:07,980 --> 01:01:08,840
You'll see that it's going to

2038
01:01:08,840 --> 01:01:09,180
scroll.

2039
01:01:09,360 --> 01:01:10,460
We also want to.

2040
01:01:11,060 --> 01:01:12,860
We'll want to shut off editable,

2041
01:01:13,040 --> 01:01:15,480
and I think that will work

2042
01:01:15,480 --> 01:01:16,740
because I think this is placeholder

2043
01:01:16,740 --> 01:01:17,040
text.

2044
01:01:17,140 --> 01:01:17,840
So if I come in here,

2045
01:01:17,840 --> 01:01:19,640
here and we paste this text

2046
01:01:19,640 --> 01:01:20,780
in this will allow us to

2047
01:01:20,780 --> 01:01:23,480
scroll i'm curious if we can

2048
01:01:24,840 --> 01:01:28,780
make it follow the uh actual

2049
01:01:28,780 --> 01:01:30,560
scrolling but i don't think we

2050
01:01:30,560 --> 01:01:32,120
can i know there's a way

2051
01:01:32,120 --> 01:01:32,620
to do it

2052
01:01:32,620 --> 01:01:33,800
it's been a while since i've

2053
01:01:33,800 --> 01:01:35,560
done it but i think i'll

2054
01:01:35,560 --> 01:01:36,940
just go ahead and skip that

2055
01:01:36,940 --> 01:01:37,540
part but there

2056
01:01:37,540 --> 01:01:38,520
is a way to make it

2057
01:01:38,520 --> 01:01:39,760
so it automatically scrolls to the

2058
01:01:39,760 --> 01:01:42,460
bottom but that's okay right now

2059
01:01:42,460 --> 01:01:43,580
so this

2060
01:01:43,580 --> 01:01:45,580
is basically what our chat setup

2061
01:01:45,580 --> 01:01:46,220
is going to be it's going

2062
01:01:46,220 --> 01:01:47,700
to be relatively simple but

2063
01:01:47,700 --> 01:01:49,300
it's going to be something that

2064
01:01:49,300 --> 01:01:50,740
we can at least use now

2065
01:01:50,740 --> 01:01:52,440
i'm going to grab my submit

2066
01:01:52,440 --> 01:01:53,020
chat button

2067
01:01:53,020 --> 01:01:54,340
i'm going to go to node

2068
01:01:54,340 --> 01:01:56,000
button down i'm going to connect

2069
01:01:56,000 --> 01:01:58,560
that to my submit chat button

2070
01:01:58,560 --> 01:01:59,420
now

2071
01:02:00,720 --> 01:02:03,360
when we want to do a

2072
01:02:03,360 --> 01:02:05,060
message right we want to send

2073
01:02:05,060 --> 01:02:06,180
a message we can come in

2074
01:02:06,180 --> 01:02:08,160
here and say var

2075
01:02:11,380 --> 01:02:13,320
await socket dot

2076
01:02:13,580 --> 01:02:16,660
write chat message asynchronous now this

2077
01:02:16,660 --> 01:02:18,660
is going to require a id

2078
01:02:18,660 --> 01:02:20,260
so we have to actually

2079
01:02:20,260 --> 01:02:21,800
have some kind of chat name

2080
01:02:21,800 --> 01:02:23,140
in this case i'm just going

2081
01:02:23,140 --> 01:02:24,420
to go ahead and grab this

2082
01:02:24,420 --> 01:02:25,180
guy right here

2083
01:02:25,180 --> 01:02:27,860
copy it and paste it it's

2084
01:02:27,860 --> 01:02:29,420
not the most ideal situation because

2085
01:02:29,420 --> 01:02:30,640
once you're connected to that

2086
01:02:30,640 --> 01:02:32,820
channel you should probably just be

2087
01:02:32,820 --> 01:02:35,020
connected to that channel right instead

2088
01:02:35,020 --> 01:02:35,980
of passing in this

2089
01:02:35,980 --> 01:02:38,580
value here but we can basically

2090
01:02:38,580 --> 01:02:41,900
throw a value up at the

2091
01:02:41,900 --> 01:02:43,500
top and basically just save it

2092
01:02:43,580 --> 01:02:45,220
across different functions and that would

2093
01:02:45,220 --> 01:02:46,860
solve this problem but for right

2094
01:02:46,860 --> 01:02:47,660
now we'll go ahead and

2095
01:02:47,660 --> 01:02:50,180
do this and then we need

2096
01:02:50,180 --> 01:02:51,880
to pass in our message content

2097
01:02:51,880 --> 01:02:53,240
so what we can do is

2098
01:02:53,240 --> 01:02:54,280
do dollar sign

2099
01:02:55,320 --> 01:02:59,300
chat text dot text like that

2100
01:02:59,300 --> 01:03:01,060
now i think we should probably

2101
01:03:01,060 --> 01:03:03,080
change this to text edit instead

2102
01:03:03,080 --> 01:03:06,820
just do chat text box that

2103
01:03:06,820 --> 01:03:08,280
way we actually have that value

2104
01:03:08,280 --> 01:03:12,140
now if we hit play and

2105
01:03:12,140 --> 01:03:12,920
we go ahead and

2106
01:03:13,580 --> 01:03:15,400
okay if we come in here

2107
01:03:15,400 --> 01:03:19,520
we both submit join test test

2108
01:03:19,520 --> 01:03:23,100
number two submit join test if

2109
01:03:23,100 --> 01:03:24,300
we send a text

2110
01:03:24,300 --> 01:03:27,300
test send you'll see that it

2111
01:03:27,300 --> 01:03:29,040
is very mad at us cannot

2112
01:03:29,040 --> 01:03:31,460
convert argument to from string to

2113
01:03:31,460 --> 01:03:32,880
dictionary so it's going to require

2114
01:03:32,880 --> 01:03:35,200
a dictionary for us to be

2115
01:03:35,200 --> 01:03:37,280
able to do that so what

2116
01:03:37,280 --> 01:03:38,040
we need to do

2117
01:03:38,040 --> 01:03:39,600
is we need to pass in

2118
01:03:39,600 --> 01:03:42,180
an actual dictionary of objects so

2119
01:03:42,180 --> 01:03:43,000
we can come in here

2120
01:03:43,580 --> 01:03:47,900
Pass in this dictionary like so

2121
01:03:47,900 --> 01:03:52,160
and go quote message colon that.

2122
01:03:52,460 --> 01:03:54,480
And the reason why we have

2123
01:03:54,480 --> 01:03:57,080
to do this is because we

2124
01:03:57,080 --> 01:04:01,140
can actually do what's called emotes,

2125
01:04:01,140 --> 01:04:01,360
right?

2126
01:04:01,480 --> 01:04:05,460
And emotes are sent via JSON

2127
01:04:05,460 --> 01:04:06,020
data.

2128
01:04:06,240 --> 01:04:07,660
So that's the reason why it

2129
01:04:07,660 --> 01:04:09,420
requires it to be a dictionary

2130
01:04:09,420 --> 01:04:10,360
is so that we can actually

2131
01:04:10,360 --> 01:04:12,160
send over emote information.

2132
01:04:13,260 --> 01:04:14,620
Now, I'm not going to cover

2133
01:04:14,620 --> 01:04:16,780
that just because there's a whole

2134
01:04:16,780 --> 01:04:19,160
like loading emotes and stuff like

2135
01:04:19,160 --> 01:04:20,020
that that you need to do.

2136
01:04:20,100 --> 01:04:21,920
And that's way beyond the basics

2137
01:04:21,920 --> 01:04:22,700
of this tutorial.

2138
01:04:22,860 --> 01:04:24,440
So if you guys want to

2139
01:04:24,440 --> 01:04:25,360
look at that, you guys can

2140
01:04:25,360 --> 01:04:26,480
go check out their real time

2141
01:04:26,480 --> 01:04:28,280
chatting section and they'll go over

2142
01:04:28,280 --> 01:04:28,500
that.

2143
01:04:28,640 --> 01:04:29,880
But I'll go ahead and hit

2144
01:04:29,880 --> 01:04:33,340
submit test to submit, join, test,

2145
01:04:33,440 --> 01:04:36,060
join, test, test, send.

2146
01:04:36,380 --> 01:04:38,460
And you'll see that we actually

2147
01:04:38,460 --> 01:04:39,040
get an error.

2148
01:04:39,200 --> 01:04:41,880
So it says invalid chat identified.

2149
01:04:42,670 --> 01:04:45,020
So what's going on here, right?

2150
01:04:45,140 --> 01:04:47,500
Well, if you take a look

2151
01:04:47,500 --> 01:04:51,220
at your chat here, if we

2152
01:04:51,220 --> 01:04:52,660
take a look at our chat,

2153
01:04:52,780 --> 01:04:54,640
you'll see that our chat actually

2154
01:04:54,640 --> 01:04:57,740
has an identifier ID too.

2155
01:04:58,670 --> 01:04:59,280
You see that?

2156
01:04:59,440 --> 01:05:02,200
So when you have a chat,

2157
01:05:02,340 --> 01:05:05,120
it actually has an identifier associated

2158
01:05:05,120 --> 01:05:07,100
with that chat.

2159
01:05:07,360 --> 01:05:08,740
And so you don't want to

2160
01:05:08,740 --> 01:05:11,000
pass in the title of the

2161
01:05:11,000 --> 01:05:11,320
chat.

2162
01:05:11,320 --> 01:05:12,400
You want to pass in the

2163
01:05:12,400 --> 01:05:13,080
identifier.

2164
01:05:13,680 --> 01:05:14,980
You can see that we have

2165
01:05:14,980 --> 01:05:15,960
a channel right here.

2166
01:05:16,060 --> 01:05:17,560
So if I go channel.id,

2167
01:05:17,660 --> 01:05:20,220
we can go ahead and refresh

2168
01:05:20,220 --> 01:05:23,720
this guy and go submit, test,

2169
01:05:23,840 --> 01:05:24,300
submit.

2170
01:05:24,480 --> 01:05:26,280
And you'll see that we are

2171
01:05:26,280 --> 01:05:28,880
now printing out and you will

2172
01:05:28,880 --> 01:05:30,120
see that we have an ID

2173
01:05:30,120 --> 01:05:30,940
right here.

2174
01:05:30,980 --> 01:05:33,460
I added channel ID in post.

2175
01:05:33,660 --> 01:05:34,540
So that way it was nice

2176
01:05:34,540 --> 01:05:35,580
and quick, but you can see

2177
01:05:35,580 --> 01:05:37,380
right here, channel ID is two

2178
01:05:37,380 --> 01:05:38,980
dot, dot, dot test.

2179
01:05:39,620 --> 01:05:41,260
So two is the ID.

2180
01:05:41,260 --> 01:05:43,520
ID of the chat and test

2181
01:05:43,520 --> 01:05:45,040
is the actual ID that we

2182
01:05:45,040 --> 01:05:45,400
gave it.

2183
01:05:45,480 --> 01:05:46,700
So we need to pass that

2184
01:05:46,700 --> 01:05:48,600
value in right here for us

2185
01:05:48,600 --> 01:05:49,560
to be able to send messages.

2186
01:05:50,220 --> 01:05:52,120
So what we can do is

2187
01:05:52,120 --> 01:05:53,280
we can come in here, copy

2188
01:05:53,280 --> 01:05:56,020
this var channel, go all the

2189
01:05:56,020 --> 01:05:56,840
way up to the top.

2190
01:05:59,260 --> 01:06:04,580
And go var current channel like

2191
01:06:04,580 --> 01:06:04,900
that.

2192
01:06:04,960 --> 01:06:05,620
And then we go all the

2193
01:06:05,620 --> 01:06:06,500
way back down to the bottom

2194
01:06:06,500 --> 01:06:10,920
and do current channel.

2195
01:06:11,260 --> 01:06:12,380
Is equal to that.

2196
01:06:12,620 --> 01:06:13,340
And then we'll go ahead and

2197
01:06:13,340 --> 01:06:13,900
copy this.

2198
01:06:14,260 --> 01:06:16,400
We'll paste it right here.

2199
01:06:16,680 --> 01:06:17,500
Dot ID.

2200
01:06:17,900 --> 01:06:19,360
And then we can go ahead

2201
01:06:19,360 --> 01:06:21,760
and do current channel dot ID

2202
01:06:21,760 --> 01:06:23,080
right here as well.

2203
01:06:23,300 --> 01:06:25,120
Now, what that will do is

2204
01:06:25,120 --> 01:06:26,560
that it should allow us to

2205
01:06:26,560 --> 01:06:27,660
actually send it to the proper

2206
01:06:27,660 --> 01:06:28,000
ID.

2207
01:06:28,200 --> 01:06:30,200
So we'll hit submit, test to

2208
01:06:30,200 --> 01:06:34,800
submit, test, join, test, join, test,

2209
01:06:35,040 --> 01:06:35,500
send.

2210
01:06:35,760 --> 01:06:37,320
And you should see right here,

2211
01:06:37,380 --> 01:06:38,700
we no longer have an error,

2212
01:06:38,780 --> 01:06:41,120
but instead we have an.

2213
01:06:41,120 --> 01:06:44,000
An actual message right here.

2214
01:06:44,120 --> 01:06:45,680
I probably should not have used

2215
01:06:45,680 --> 01:06:46,440
the word test.

2216
01:06:46,640 --> 01:06:48,860
I should probably use, this is

2217
01:06:48,860 --> 01:06:50,080
a test message.

2218
01:06:50,340 --> 01:06:51,480
That way we can actually see

2219
01:06:51,480 --> 01:06:51,940
what it is.

2220
01:06:52,000 --> 01:06:53,360
And you can see here that

2221
01:06:53,360 --> 01:06:54,580
I send a message and you

2222
01:06:54,580 --> 01:06:57,080
see right here, channel ID test

2223
01:06:57,080 --> 01:06:59,500
code is zero content message.

2224
01:06:59,720 --> 01:07:01,280
This is a test message.

2225
01:07:01,500 --> 01:07:03,040
And that's basically how we can

2226
01:07:03,040 --> 01:07:03,960
send and receive messages.

2227
01:07:04,220 --> 01:07:06,380
Now, the nice thing is that

2228
01:07:06,380 --> 01:07:10,660
if, since we typed our message.

2229
01:07:10,660 --> 01:07:13,040
In the message section, and unfortunately

2230
01:07:13,040 --> 01:07:14,640
this is getting pretty large, so

2231
01:07:14,640 --> 01:07:16,340
I might want to abstract some

2232
01:07:16,340 --> 01:07:18,000
of this out, but if we

2233
01:07:18,000 --> 01:07:20,820
go to right here, where our

2234
01:07:20,820 --> 01:07:23,620
on-channel message is at, we

2235
01:07:23,620 --> 01:07:26,540
have our different messages that we

2236
01:07:26,540 --> 01:07:29,520
can message information here that we

2237
01:07:29,520 --> 01:07:30,240
can actually use.

2238
01:07:30,440 --> 01:07:33,000
So if we type message dot,

2239
01:07:33,120 --> 01:07:34,000
you'll see that it's going to

2240
01:07:34,000 --> 01:07:37,040
automatically give us some information here

2241
01:07:37,040 --> 01:07:37,820
that we can work with.

2242
01:07:37,960 --> 01:07:39,140
So you can see that we

2243
01:07:39,140 --> 01:07:39,960
have sender.

2244
01:07:39,960 --> 01:07:40,420
ID.

2245
01:07:40,660 --> 01:07:42,880
Username, all sorts of information.

2246
01:07:43,200 --> 01:07:44,740
So the nice thing is I

2247
01:07:44,740 --> 01:07:46,460
can come in here and I

2248
01:07:46,460 --> 01:07:50,300
can go dollar sign chat, text

2249
01:07:50,300 --> 01:07:56,400
box dot text plus equals message

2250
01:07:56,400 --> 01:08:03,520
dot user name plus colon space

2251
01:08:03,520 --> 01:08:07,960
plus message dot.

2252
01:08:08,040 --> 01:08:09,220
And then if we take a

2253
01:08:09,220 --> 01:08:10,640
look, there should be a.

2254
01:08:12,740 --> 01:08:18,860
Content dot message like that, like

2255
01:08:18,860 --> 01:08:21,360
that, and we should probably also

2256
01:08:21,360 --> 01:08:24,300
go ahead and pass in a

2257
01:08:24,300 --> 01:08:26,660
new line because we want the

2258
01:08:26,660 --> 01:08:29,280
user to have a new line

2259
01:08:29,280 --> 01:08:30,360
here now.

2260
01:08:32,640 --> 01:08:38,200
So let's try this VAR content

2261
01:08:38,200 --> 01:08:39,520
is equal to.

2262
01:08:40,140 --> 01:08:40,600
Message.

2263
01:08:40,600 --> 01:08:41,740
Message dot content.

2264
01:08:42,440 --> 01:08:45,020
And then I wonder if content

2265
01:08:45,020 --> 01:08:47,720
dot message will work instead.

2266
01:08:48,780 --> 01:08:49,840
Okay, there we go.

2267
01:08:49,880 --> 01:08:51,060
We'll try that and see if

2268
01:08:51,060 --> 01:08:51,560
that works.

2269
01:08:51,860 --> 01:08:53,540
Also, I'm going to want to

2270
01:08:53,540 --> 01:08:55,000
put a new line at the

2271
01:08:55,000 --> 01:08:55,520
end of this.

2272
01:08:55,640 --> 01:08:56,640
So we'll go ahead and do

2273
01:08:56,640 --> 01:08:59,280
that slash end for a new

2274
01:08:59,280 --> 01:08:59,560
line.

2275
01:08:59,660 --> 01:09:00,840
That way, every time somebody sends

2276
01:09:00,840 --> 01:09:01,800
a message, it's going to be

2277
01:09:01,800 --> 01:09:02,740
a new lined message.

2278
01:09:03,200 --> 01:09:04,960
And now if I refresh this

2279
01:09:04,960 --> 01:09:06,500
in theory, this should work.

2280
01:09:06,720 --> 01:09:07,920
So we'll go ahead and do

2281
01:09:07,920 --> 01:09:09,140
submit test.

2282
01:09:09,480 --> 01:09:09,920
Join.

2283
01:09:10,600 --> 01:09:14,620
Test to submit, test, join, test,

2284
01:09:14,720 --> 01:09:17,800
send, and it is very unhappy.

2285
01:09:18,040 --> 01:09:18,920
So let's take a look.

2286
01:09:19,080 --> 01:09:20,940
You can see the content here

2287
01:09:20,940 --> 01:09:22,920
is a string data.

2288
01:09:23,100 --> 01:09:24,140
So it looks like we're going

2289
01:09:24,140 --> 01:09:25,880
to need to JSON parse this

2290
01:09:25,880 --> 01:09:26,400
information.

2291
01:09:26,680 --> 01:09:29,700
So go JSON dot parse string,

2292
01:09:29,840 --> 01:09:31,900
and we'll go ahead and pass

2293
01:09:31,900 --> 01:09:32,620
that in.

2294
01:09:33,160 --> 01:09:34,220
And there we go.

2295
01:09:34,280 --> 01:09:35,520
And that should fix that problem.

2296
01:09:36,060 --> 01:09:38,220
Basically content is a JSON value.

2297
01:09:38,640 --> 01:09:40,400
So that's something that I didn't

2298
01:09:40,400 --> 01:09:40,520
think.

2299
01:09:40,600 --> 01:09:42,920
About I'm talking without thinking as

2300
01:09:42,920 --> 01:09:43,780
I'm doing this tutorial.

2301
01:09:43,980 --> 01:09:46,140
So forgive me, but we need

2302
01:09:46,140 --> 01:09:47,420
to actually parse that data.

2303
01:09:47,520 --> 01:09:48,920
So now if we hit send,

2304
01:09:49,120 --> 01:09:52,000
you'll see test, test, test.

2305
01:09:52,760 --> 01:09:55,680
This is a test message like,

2306
01:09:55,760 --> 01:09:57,980
so test two, this is a

2307
01:09:57,980 --> 01:09:58,660
test message.

2308
01:09:58,760 --> 01:10:00,320
And that's basically how you could

2309
01:10:00,320 --> 01:10:02,800
do a very basic communication system.

2310
01:10:03,200 --> 01:10:04,740
So now the question is, okay,

2311
01:10:04,840 --> 01:10:05,180
great.

2312
01:10:05,260 --> 01:10:06,100
That's fine.

2313
01:10:06,520 --> 01:10:08,620
But how do I actually do

2314
01:10:08,620 --> 01:10:09,480
group chats?

2315
01:10:10,620 --> 01:10:15,080
And in order to do group

2316
01:10:15,080 --> 01:10:16,540
chats, what we need to do

2317
01:10:16,540 --> 01:10:17,460
is we need to come in

2318
01:10:17,460 --> 01:10:17,700
here.

2319
01:10:18,300 --> 01:10:19,820
And we need to go ahead

2320
01:10:19,820 --> 01:10:22,600
and grab another joint chat here.

2321
01:10:22,820 --> 01:10:23,920
And what I'm going to do

2322
01:10:23,920 --> 01:10:25,220
is I'm going to unhide my

2323
01:10:25,220 --> 01:10:26,640
group section and I

2324
01:10:26,640 --> 01:10:28,800
guess I'll just move it over.

2325
01:10:28,940 --> 01:10:29,680
So we have a little bit

2326
01:10:29,680 --> 01:10:30,440
more space.

2327
01:10:30,980 --> 01:10:32,260
Let's grab this guy.

2328
01:10:32,340 --> 01:10:34,600
We'll drag them over like this.

2329
01:10:34,820 --> 01:10:36,840
It's getting a little on the

2330
01:10:36,840 --> 01:10:39,460
cramped side with our setup here.

2331
01:10:39,600 --> 01:10:40,280
So I might.

2332
01:10:40,280 --> 01:10:41,780
I might need to readjust some

2333
01:10:41,780 --> 01:10:43,860
stuff, but I don't think I

2334
01:10:43,860 --> 01:10:45,380
can fit it really up here.

2335
01:10:45,620 --> 01:10:47,480
So we'll just kind of push

2336
01:10:47,480 --> 01:10:49,160
it over here and that should

2337
01:10:49,160 --> 01:10:49,880
just work.

2338
01:10:49,980 --> 01:10:50,680
I mean, it's a little tight,

2339
01:10:50,820 --> 01:10:52,120
but it will work for the

2340
01:10:52,120 --> 01:10:53,560
demonstration we're trying to do here.

2341
01:10:53,740 --> 01:10:55,700
So if I grab this guy

2342
01:10:55,700 --> 01:10:58,700
here, I right click disconnect inspector,

2343
01:10:59,060 --> 01:11:00,780
change this to join a group

2344
01:11:00,780 --> 01:11:01,260
chat.

2345
01:11:02,120 --> 01:11:04,400
Like, so when you want to

2346
01:11:04,400 --> 01:11:05,880
do a group chat, all you

2347
01:11:05,880 --> 01:11:08,680
gotta do is come in and

2348
01:11:08,680 --> 01:11:09,260
basically.

2349
01:11:10,460 --> 01:11:12,060
I move this guy over.

2350
01:11:12,200 --> 01:11:12,820
There we go.

2351
01:11:13,220 --> 01:11:14,580
All you really need to do

2352
01:11:14,580 --> 01:11:15,360
is you need to come in

2353
01:11:15,360 --> 01:11:17,480
here, connect your button down.

2354
01:11:17,640 --> 01:11:18,880
So go ahead and connect that

2355
01:11:18,880 --> 01:11:19,300
over here.

2356
01:11:19,400 --> 01:11:20,940
And then we can come in

2357
01:11:20,940 --> 01:11:23,660
here and basically just grab this

2358
01:11:23,660 --> 01:11:25,320
exact code right here.

2359
01:11:25,380 --> 01:11:26,840
It's almost a duplication, right?

2360
01:11:26,900 --> 01:11:28,260
It's almost exactly the same.

2361
01:11:28,460 --> 01:11:29,940
We'll just drop that guy in

2362
01:11:29,940 --> 01:11:30,120
there.

2363
01:11:30,460 --> 01:11:32,480
And all we really need to

2364
01:11:32,480 --> 01:11:37,000
do is come in here and

2365
01:11:37,000 --> 01:11:40,100
when we do our join,

2366
01:11:40,280 --> 01:11:42,620
socket asynchronously, we just basically need

2367
01:11:42,620 --> 01:11:43,900
to pass in our group ID.

2368
01:11:44,160 --> 01:11:45,380
So we'll say, and I believe

2369
01:11:45,380 --> 01:11:47,040
we have a group, if I

2370
01:11:47,040 --> 01:11:47,760
remember correctly.

2371
01:11:47,920 --> 01:11:51,400
So selected group dot ID, and

2372
01:11:51,400 --> 01:11:52,860
then we can pass in type

2373
01:11:52,860 --> 01:11:53,960
for persistence.

2374
01:11:54,180 --> 01:11:54,960
We're going to want to say

2375
01:11:54,960 --> 01:11:56,480
true because we want to keep

2376
01:11:56,480 --> 01:11:57,420
that group around.

2377
01:11:57,660 --> 01:11:57,980
Right.

2378
01:11:58,620 --> 01:12:00,340
And then we want it to

2379
01:12:00,340 --> 01:12:01,200
be persistent.

2380
01:12:01,340 --> 01:12:02,780
And we also want to change

2381
01:12:02,780 --> 01:12:04,920
this to a type group chat.

2382
01:12:05,300 --> 01:12:07,180
And then what we can do

2383
01:12:07,180 --> 01:12:08,420
is we can come in here,

2384
01:12:08,600 --> 01:12:09,420
hit play.

2385
01:12:11,020 --> 01:12:13,940
Come over here, submit test.

2386
01:12:14,280 --> 01:12:16,100
We will go ahead and create

2387
01:12:16,100 --> 01:12:16,740
a group.

2388
01:12:16,860 --> 01:12:18,260
So that way now our group

2389
01:12:18,260 --> 01:12:19,240
actually exists.

2390
01:12:19,420 --> 01:12:21,200
So if we refresh our groups

2391
01:12:21,200 --> 01:12:22,540
off to re log in, because

2392
01:12:22,540 --> 01:12:23,500
this is another recording

2393
01:12:23,500 --> 01:12:25,020
session and you can see, we

2394
01:12:25,020 --> 01:12:26,400
now have a test group and

2395
01:12:26,400 --> 01:12:27,720
we are now a part of

2396
01:12:27,720 --> 01:12:27,880
it.

2397
01:12:27,960 --> 01:12:30,040
Now from here, we can join

2398
01:12:30,040 --> 01:12:31,860
that group with test two.

2399
01:12:31,980 --> 01:12:33,700
So we'll come in here and

2400
01:12:33,700 --> 01:12:34,980
I already did this once.

2401
01:12:35,040 --> 01:12:38,440
We'll do test to test, join

2402
01:12:38,440 --> 01:12:38,840
group.

2403
01:12:39,460 --> 01:12:40,120
And it.

2404
01:12:40,120 --> 01:12:41,220
I got mad at me because

2405
01:12:41,220 --> 01:12:43,260
our selected group is not correct

2406
01:12:43,260 --> 01:12:44,480
and that's my fault.

2407
01:12:44,560 --> 01:12:45,760
So that's totally fine.

2408
01:12:46,020 --> 01:12:47,860
So I will have to refresh

2409
01:12:47,860 --> 01:12:48,480
real quick.

2410
01:12:48,640 --> 01:12:51,260
So we'll say submit test.

2411
01:12:51,580 --> 01:12:53,420
We will go ahead and list

2412
01:12:53,420 --> 01:12:54,000
our groups.

2413
01:12:54,100 --> 01:12:56,040
We'll select our test group.

2414
01:12:56,140 --> 01:12:58,460
We'll do test to list our

2415
01:12:58,460 --> 01:13:00,500
groups, select it, join that group.

2416
01:13:00,640 --> 01:13:03,020
And then when we join our

2417
01:13:03,020 --> 01:13:04,780
chat, we could just join group

2418
01:13:04,780 --> 01:13:06,120
chat, growing group chat,

2419
01:13:06,160 --> 01:13:07,680
and then test, and you will

2420
01:13:07,680 --> 01:13:09,520
see that this guy now gets

2421
01:13:09,520 --> 01:13:09,700
it.

2422
01:13:09,700 --> 01:13:11,200
And if we go, this is

2423
01:13:11,200 --> 01:13:14,200
a test message and we send

2424
01:13:14,200 --> 01:13:14,720
that guy.

2425
01:13:14,780 --> 01:13:16,180
You can see that that message

2426
01:13:16,180 --> 01:13:16,860
gets sent.

2427
01:13:17,440 --> 01:13:18,920
Now you might be going, okay,

2428
01:13:19,040 --> 01:13:22,540
so why does this matter, right?

2429
01:13:22,620 --> 01:13:24,460
What is the benefit of a

2430
01:13:24,460 --> 01:13:27,280
group chat versus a dynamic chat?

2431
01:13:27,800 --> 01:13:31,440
Well, where a group chat matters

2432
01:13:31,440 --> 01:13:33,380
and why it's important is because

2433
01:13:33,380 --> 01:13:33,940
you can do

2434
01:13:33,940 --> 01:13:36,420
what's called listing the message history.

2435
01:13:36,680 --> 01:13:38,880
So because it's a persistent chat,

2436
01:13:39,140 --> 01:13:39,680
we're going to be.

2437
01:13:40,680 --> 01:13:43,640
So the reason why that's cool

2438
01:13:43,640 --> 01:13:45,800
is because we can come in

2439
01:13:45,800 --> 01:13:47,580
here and we can say, okay,

2440
01:13:47,660 --> 01:13:50,120
when the user joins a group,

2441
01:13:50,320 --> 01:13:52,320
which we'll have to scroll down

2442
01:13:52,320 --> 01:13:54,520
here to right here,

2443
01:13:54,680 --> 01:13:56,040
and we'll need to go ahead

2444
01:13:56,040 --> 01:13:59,020
and come in here and list

2445
01:13:59,020 --> 01:13:59,860
out that information.

2446
01:14:00,180 --> 01:14:03,700
So we'll say far result is

2447
01:14:03,700 --> 01:14:07,820
equal to a weight client dot

2448
01:14:07,820 --> 01:14:09,560
list channel.

2449
01:14:09,620 --> 01:14:09,660
And we're going to say, okay,

2450
01:14:09,660 --> 01:14:09,660
we're going to go ahead and

2451
01:14:09,660 --> 01:14:09,660
list that information.

2452
01:14:14,260 --> 01:14:15,620
And again, the first thing we'll

2453
01:14:15,620 --> 01:14:17,080
do is we're going to have

2454
01:14:17,080 --> 01:14:17,280
a fried

2455
01:14:17,280 --> 01:14:17,600
time, which if you check out

2456
01:14:17,600 --> 01:14:17,680
there, when we get there, it

2457
01:14:17,680 --> 01:14:17,680
looks fine.

2458
01:14:17,680 --> 01:14:17,680
It's super fresh and we've got

2459
01:14:17,680 --> 01:14:17,860
so much we don't do in

2460
01:14:17,860 --> 01:14:17,860
onsite,

2461
01:14:23,140 --> 01:14:23,780
and what I'm going to do

2462
01:14:23,780 --> 01:14:25,760
is I'll click on

2463
01:14:25,760 --> 01:14:25,860
product

2464
01:14:31,340 --> 01:14:31,860
period.

2465
01:14:31,860 --> 01:14:33,280
and that's what forward is is

2466
01:14:33,280 --> 01:14:35,020
forward is the newest so we'll

2467
01:14:35,020 --> 01:14:37,880
say forward so we'll say true

2468
01:14:37,880 --> 01:14:41,540
comma and then i believe they

2469
01:14:41,540 --> 01:14:43,560
have a cursor value as well

2470
01:14:43,560 --> 01:14:46,260
and cursor is if i remember

2471
01:14:46,260 --> 01:14:46,860
correctly it's

2472
01:14:46,860 --> 01:14:48,980
defaulted let's double check really quick

2473
01:14:48,980 --> 01:14:50,960
if we hit comma cursor variance

2474
01:14:50,960 --> 01:14:53,220
is null so cursor allows

2475
01:14:53,220 --> 01:14:54,540
you to say i want you

2476
01:14:54,540 --> 01:14:56,380
to start at this point so

2477
01:14:56,380 --> 01:14:58,080
if you're picking up the next

2478
01:14:58,080 --> 01:14:59,460
100 values let's say

2479
01:14:59,460 --> 01:15:01,420
you have 500 messages you can

2480
01:15:01,420 --> 01:15:04,320
pass in number 200 and then

2481
01:15:04,320 --> 01:15:06,040
it'll grab from 200 to 300

2482
01:15:06,040 --> 01:15:06,900
if that makes

2483
01:15:06,900 --> 01:15:08,540
sense so in our case i'll

2484
01:15:08,540 --> 01:15:10,100
just leave that as null because

2485
01:15:10,100 --> 01:15:11,320
it's just going to be easier

2486
01:15:11,320 --> 01:15:11,680
for us to

2487
01:15:11,680 --> 01:15:13,640
work with it now we can

2488
01:15:13,640 --> 01:15:17,720
go for message in result dot

2489
01:15:17,720 --> 01:15:22,940
message like that messages like that

2490
01:15:22,940 --> 01:15:24,140
and then

2491
01:15:24,140 --> 01:15:27,520
we can basically just go exactly

2492
01:15:27,520 --> 01:15:28,820
what we did before

2493
01:15:28,820 --> 01:15:29,440
so

2494
01:15:29,460 --> 01:15:30,840
we can come up here and

2495
01:15:30,840 --> 01:15:32,660
grab if you remember how we

2496
01:15:32,660 --> 01:15:36,020
actually parsed out our data which

2497
01:15:36,020 --> 01:15:36,740
arguably i

2498
01:15:36,740 --> 01:15:39,100
should move this down closer to

2499
01:15:39,100 --> 01:15:41,300
my actual message functionality so let's

2500
01:15:41,300 --> 01:15:42,220
go ahead and just do that

2501
01:15:42,220 --> 01:15:44,380
really quick we'll come down here

2502
01:15:44,380 --> 01:15:48,540
and just drop it right let's

2503
01:15:48,540 --> 01:15:50,780
see this is group stuff this

2504
01:15:50,780 --> 01:15:51,300
is chat

2505
01:15:51,300 --> 01:15:52,760
stuff so we'll go ahead and

2506
01:15:52,760 --> 01:15:54,320
just drop it right there and

2507
01:15:54,320 --> 01:15:55,920
that'll just kind of keep it

2508
01:15:55,920 --> 01:15:56,200
within

2509
01:15:56,200 --> 01:15:58,060
the group area so that way

2510
01:15:58,060 --> 01:15:59,100
i can basically

2511
01:15:59,100 --> 01:16:01,060
come in here and do this

2512
01:16:01,060 --> 01:16:05,400
and say chat room code right

2513
01:16:05,400 --> 01:16:06,540
here and that'll give me somewhere

2514
01:16:06,540 --> 01:16:06,960
to actually

2515
01:16:06,960 --> 01:16:08,940
look at this now what we

2516
01:16:08,940 --> 01:16:10,140
could do is we could basically

2517
01:16:10,140 --> 01:16:13,480
just grab this copy it and

2518
01:16:13,480 --> 01:16:14,980
paste and

2519
01:16:14,980 --> 01:16:16,040
that's all we need to do

2520
01:16:16,040 --> 01:16:18,060
and then in theory this should

2521
01:16:18,060 --> 01:16:19,760
just work so now if we

2522
01:16:19,760 --> 01:16:20,300
hit play

2523
01:16:21,100 --> 01:16:23,380
in theory if we're lucky it

2524
01:16:23,380 --> 01:16:24,660
will work so we'll go here

2525
01:16:24,660 --> 01:16:28,120
we'll say list groups select group

2526
01:16:28,120 --> 01:16:28,960
join group

2527
01:16:28,960 --> 01:16:31,520
chat and we got an error

2528
01:16:31,520 --> 01:16:35,500
message return response invalid channel id

2529
01:16:35,500 --> 01:16:38,200
so we have a failure here

2530
01:16:38,200 --> 01:16:38,500
that

2531
01:16:38,500 --> 01:16:39,860
says that our channel id is

2532
01:16:39,860 --> 01:16:44,380
incorrect so let's see join chat

2533
01:16:44,380 --> 01:16:48,620
asynchronously list channel messages

2534
01:16:49,020 --> 01:16:53,260
that should be correct is it

2535
01:16:53,260 --> 01:16:55,800
printing out what i expect let's

2536
01:16:55,800 --> 01:16:57,980
see so i don't think that

2537
01:16:57,980 --> 01:16:58,340
this

2538
01:16:58,340 --> 01:17:01,080
worked 100 here so let's try

2539
01:17:01,080 --> 01:17:05,720
submitting list groups select group that

2540
01:17:05,720 --> 01:17:06,880
should select our group

2541
01:17:10,120 --> 01:17:11,520
and then i should be able

2542
01:17:11,520 --> 01:17:13,580
to join group chat but it

2543
01:17:13,580 --> 01:17:15,440
did not take it so the

2544
01:17:15,440 --> 01:17:16,120
question is is

2545
01:17:16,120 --> 01:17:17,600
it because i failed to join

2546
01:17:17,600 --> 01:17:19,160
the group chat or did it

2547
01:17:19,160 --> 01:17:22,100
fail here so if we do

2548
01:17:22,100 --> 01:17:24,960
this the id of the group

2549
01:17:25,820 --> 01:17:27,960
id is string get return

2550
01:17:28,340 --> 01:17:29,740
return string if not string else

2551
01:17:29,740 --> 01:17:33,520
string await list channel messages try

2552
01:17:33,520 --> 01:17:35,380
refresh and it's going

2553
01:17:35,380 --> 01:17:36,920
to run through that real quick

2554
01:17:36,920 --> 01:17:40,700
but it didn't do anything as

2555
01:17:40,700 --> 01:17:45,440
expected so i drop a break

2556
01:17:45,440 --> 01:17:46,000
point here

2557
01:17:46,000 --> 01:17:50,460
what is result result is an

2558
01:17:50,460 --> 01:17:53,740
object id cacheable null null so

2559
01:17:53,740 --> 01:17:55,780
we got a nakama exception invalid

2560
01:17:55,780 --> 01:17:56,780
channel id

2561
01:17:58,340 --> 01:18:01,660
did our channel get saved let's

2562
01:18:01,660 --> 01:18:02,560
go ahead and take a look

2563
01:18:02,560 --> 01:18:05,080
at nakama really quick chat messages

2564
01:18:06,380 --> 01:18:09,440
group chat no messages found so

2565
01:18:09,440 --> 01:18:11,600
our group chat just doesn't exist

2566
01:18:11,600 --> 01:18:13,800
so that's not great so that

2567
01:18:13,800 --> 01:18:15,300
means something went wrong with how

2568
01:18:15,300 --> 01:18:17,240
we initialized our group chat i

2569
01:18:17,240 --> 01:18:19,140
think okay so i figured out

2570
01:18:19,140 --> 01:18:19,260
the

2571
01:18:19,260 --> 01:18:22,300
issue so basically when we do

2572
01:18:22,300 --> 01:18:24,920
our list channel messages async we

2573
01:18:24,920 --> 01:18:26,000
need to actually do our current

2574
01:18:26,000 --> 01:18:29,060
channel dot id instead so when

2575
01:18:29,060 --> 01:18:30,680
we do our join chat asynchronous

2576
01:18:30,680 --> 01:18:32,540
we pull back a channel and

2577
01:18:32,540 --> 01:18:33,960
that's the channel that we're currently

2578
01:18:33,960 --> 01:18:36,220
in and basically we need to

2579
01:18:36,220 --> 01:18:37,900
go and list those message

2580
01:18:37,900 --> 01:18:39,940
right here and then i have

2581
01:18:39,940 --> 01:18:41,620
a section here for messages in

2582
01:18:41,620 --> 01:18:44,500
result messages if the message

2583
01:18:44,500 --> 01:18:47,280
content does not contain an empty

2584
01:18:47,280 --> 01:18:48,720
so if for some reason a

2585
01:18:48,720 --> 01:18:50,080
message gets in there that's empty

2586
01:18:50,080 --> 01:18:50,340
when

2587
01:18:50,340 --> 01:18:51,300
we try to parse it it's

2588
01:18:51,300 --> 01:18:53,140
going to break so i have

2589
01:18:53,140 --> 01:18:55,060
this little if statement right here

2590
01:18:55,060 --> 01:18:55,740
that basically

2591
01:18:55,740 --> 01:18:57,200
just checks to see if it's

2592
01:18:57,200 --> 01:18:58,800
empty if it is ignore it

2593
01:18:58,800 --> 01:18:59,860
and there's no reason to have

2594
01:18:59,860 --> 01:19:01,300
it so now if i hit

2595
01:19:01,300 --> 01:19:04,840
play you'll notice that when i

2596
01:19:04,840 --> 01:19:05,860
come in here and i hit

2597
01:19:05,860 --> 01:19:08,200
submit i list my groups i

2598
01:19:08,200 --> 01:19:09,260
select my groups

2599
01:19:09,260 --> 01:19:10,620
and i join my group chat

2600
01:19:10,620 --> 01:19:12,280
you'll see i pull back those

2601
01:19:12,280 --> 01:19:14,880
messages and that's one of the

2602
01:19:14,880 --> 01:19:15,780
big cool

2603
01:19:15,780 --> 01:19:17,320
features of nakama is that it

2604
01:19:17,320 --> 01:19:19,620
keeps track of all of that

2605
01:19:19,620 --> 01:19:22,000
information because this is after we

2606
01:19:22,000 --> 01:19:25,280
removed and rebooted the system right

2607
01:19:25,280 --> 01:19:25,720
it actually

2608
01:19:25,740 --> 01:19:28,160
came back with the proper messages

2609
01:19:28,160 --> 01:19:31,680
that's basically what persistence does right

2610
01:19:31,680 --> 01:19:32,220
here

2611
01:19:32,220 --> 01:19:36,800
this true right here causes it

2612
01:19:36,800 --> 01:19:38,280
to be saved and to be

2613
01:19:38,280 --> 01:19:40,720
reusable later that's one of the

2614
01:19:40,720 --> 01:19:41,600
big cool

2615
01:19:41,600 --> 01:19:44,100
advantages here so now the question

2616
01:19:44,100 --> 01:19:46,000
is okay so how do i

2617
01:19:46,000 --> 01:19:48,880
do peer-to-peer messaging well

2618
01:19:48,880 --> 01:19:49,300
it's not

2619
01:19:49,300 --> 01:19:50,960
technically peer-to-peer but how

2620
01:19:50,960 --> 01:19:53,020
do i send messages directly to

2621
01:19:53,020 --> 01:19:55,460
a user well again

2622
01:19:55,740 --> 01:19:58,300
it's relatively simple if we come

2623
01:19:58,300 --> 01:20:02,140
into our stuff here we ctrl

2624
01:20:02,140 --> 01:20:04,380
c ctrl v join group chat

2625
01:20:04,380 --> 01:20:06,220
and then instead of join group

2626
01:20:06,220 --> 01:20:10,540
chat we have a join direct

2627
01:20:10,540 --> 01:20:13,440
chat i go ahead and grab

2628
01:20:13,440 --> 01:20:14,800
our where

2629
01:20:14,800 --> 01:20:16,560
is it join group chat right

2630
01:20:16,560 --> 01:20:18,020
here and i change this to

2631
01:20:18,020 --> 01:20:24,660
join direct chat like that we

2632
01:20:24,660 --> 01:20:25,320
can come in here

2633
01:20:25,740 --> 01:20:28,020
disconnect right click connect and connect

2634
01:20:28,020 --> 01:20:29,640
now in order to do a

2635
01:20:29,640 --> 01:20:30,700
direct chat it's actually

2636
01:20:30,700 --> 01:20:33,140
relatively easy it's exactly the same

2637
01:20:33,140 --> 01:20:34,960
as everything else you come in

2638
01:20:34,960 --> 01:20:37,420
here you go join chat room

2639
01:20:37,420 --> 01:20:37,640
right

2640
01:20:37,640 --> 01:20:39,640
here copy it come down here

2641
01:20:39,640 --> 01:20:42,040
paste well really actually we probably

2642
01:20:42,040 --> 01:20:43,200
should just grab this to

2643
01:20:43,200 --> 01:20:44,340
be honest it's going to save

2644
01:20:44,340 --> 01:20:45,660
us a bit of trouble so

2645
01:20:45,660 --> 01:20:46,940
if we paste this guy in

2646
01:20:46,940 --> 01:20:48,320
here change the channel

2647
01:20:48,320 --> 01:20:51,340
type to direct message like that

2648
01:20:51,340 --> 01:20:54,200
instead of having a selected group

2649
01:20:54,200 --> 01:20:55,620
id we need to

2650
01:20:55,740 --> 01:20:58,660
grab the user id in terms

2651
01:20:58,660 --> 01:21:00,000
of persistence we want to keep

2652
01:21:00,000 --> 01:21:01,400
true we also want to keep

2653
01:21:01,400 --> 01:21:02,260
false for hidden

2654
01:21:02,260 --> 01:21:04,960
but for this join chat asynchronous

2655
01:21:04,960 --> 01:21:06,700
we can go ahead and pass

2656
01:21:06,700 --> 01:21:10,180
in a user id so we

2657
01:21:10,180 --> 01:21:10,640
need to get

2658
01:21:10,640 --> 01:21:13,720
our actual user identifier and the

2659
01:21:13,720 --> 01:21:15,240
easiest way to do that is

2660
01:21:15,240 --> 01:21:17,040
by using the get users asynchronous

2661
01:21:17,040 --> 01:21:18,780
call if you remember we did

2662
01:21:18,780 --> 01:21:20,260
that earlier so we'll just say

2663
01:21:20,260 --> 01:21:23,800
var users is equal to await

2664
01:21:25,740 --> 01:21:29,720
dot get users asynchronous and then

2665
01:21:29,720 --> 01:21:31,740
we'll pass in our session and

2666
01:21:31,740 --> 01:21:33,180
we need to pass in a

2667
01:21:33,180 --> 01:21:34,100
id pack

2668
01:21:34,100 --> 01:21:35,880
string array and then the user

2669
01:21:35,880 --> 01:21:37,500
name that we're going to be

2670
01:21:37,500 --> 01:21:39,960
passing in so in our case

2671
01:21:39,960 --> 01:21:41,180
i think if

2672
01:21:41,180 --> 01:21:42,200
we take a look at our

2673
01:21:42,200 --> 01:21:43,880
user interface we have a chat

2674
01:21:43,880 --> 01:21:46,100
name we could probably just take

2675
01:21:46,100 --> 01:21:47,120
that i think

2676
01:21:47,120 --> 01:21:49,240
that will work so for the

2677
01:21:49,240 --> 01:21:51,080
chat name what i'll do is

2678
01:21:51,080 --> 01:21:53,180
i'll just pull this guy which

2679
01:21:53,180 --> 01:21:54,680
is chat name so

2680
01:21:54,680 --> 01:21:55,720
we'll come into our script and

2681
01:21:55,720 --> 01:21:55,720
we're going to have a chat

2682
01:21:55,720 --> 01:21:55,720
name and we're going to have

2683
01:21:55,720 --> 01:21:55,720
a chat name

2684
01:21:55,740 --> 01:21:58,360
we'll hit dollar sign chat name

2685
01:21:58,360 --> 01:22:02,900
dot text and then that should

2686
01:22:02,900 --> 01:22:05,480
bring back our users so now

2687
01:22:05,480 --> 01:22:05,920
we know

2688
01:22:05,920 --> 01:22:06,640
that it's going to bring back

2689
01:22:06,640 --> 01:22:08,640
one user and that's it so

2690
01:22:08,640 --> 01:22:09,620
since it's going to bring back

2691
01:22:09,620 --> 01:22:11,400
one user we

2692
01:22:11,400 --> 01:22:16,200
can basically just do if users

2693
01:22:16,200 --> 01:22:21,380
dot size is greater than zero

2694
01:22:21,380 --> 01:22:23,640
then we can do the rest

2695
01:22:23,640 --> 01:22:24,440
of this bit of

2696
01:22:24,440 --> 01:22:25,000
code here

2697
01:22:25,000 --> 01:22:25,720
and then we're going to have

2698
01:22:25,720 --> 01:22:25,720
a chat name and we're going

2699
01:22:25,720 --> 01:22:25,720
to have a chat name and

2700
01:22:25,720 --> 01:22:25,720
we're going to

2701
01:22:25,720 --> 01:22:26,640
and then we can just pass

2702
01:22:26,640 --> 01:22:28,560
in and say users bracket bracket

2703
01:22:28,560 --> 01:22:31,580
zero dot id and that'll pass

2704
01:22:31,580 --> 01:22:32,920
back a user id

2705
01:22:32,920 --> 01:22:35,780
that we can actually communicate with

2706
01:22:35,780 --> 01:22:37,920
so now in theory this should

2707
01:22:37,920 --> 01:22:39,260
work and of course as always

2708
01:22:39,260 --> 01:22:40,920
with theory it doesn't always work

2709
01:22:40,920 --> 01:22:43,000
but we'll see so we'll submit

2710
01:22:43,000 --> 01:22:44,880
as test we'll submit as test

2711
01:22:44,880 --> 01:22:45,300
two

2712
01:22:45,300 --> 01:22:48,620
and then we'll go test two

2713
01:22:48,620 --> 01:22:51,900
join direct chat it's mad and

2714
01:22:51,900 --> 01:22:54,960
that's because users came back

2715
01:22:57,220 --> 01:22:59,220
and that's because users came back

2716
01:22:59,220 --> 01:23:00,020
and that's because users came back

2717
01:23:00,020 --> 01:23:03,980
so we'll say users dot users

2718
01:23:03,980 --> 01:23:05,440
and i should probably just do

2719
01:23:05,440 --> 01:23:06,640
this as result then

2720
01:23:07,860 --> 01:23:11,840
or perhaps user result because we

2721
01:23:11,840 --> 01:23:14,100
don't want to mess with our

2722
01:23:14,100 --> 01:23:15,520
current code down here that has

2723
01:23:15,520 --> 01:23:17,480
results already we'll just do that

2724
01:23:17,480 --> 01:23:20,440
and then for this we'll just

2725
01:23:20,440 --> 01:23:23,000
say user result dot

2726
01:23:23,000 --> 01:23:25,520
users or perhaps user result dot

2727
01:23:25,520 --> 01:23:25,700
users or perhaps user result dot

2728
01:23:25,700 --> 01:23:25,700
users and then we'll just do

2729
01:23:25,700 --> 01:23:25,700
that

2730
01:23:25,720 --> 01:23:28,420
users bracket bracket zero because we

2731
01:23:28,420 --> 01:23:29,440
now know that we need to

2732
01:23:29,440 --> 01:23:31,000
go a little bit deeper than

2733
01:23:31,000 --> 01:23:31,140
what

2734
01:23:31,140 --> 01:23:33,180
we expected so now if we

2735
01:23:33,180 --> 01:23:37,000
go ahead and submit test to

2736
01:23:37,000 --> 01:23:39,580
join direct chat now we're in

2737
01:23:39,580 --> 01:23:40,320
a direct chat

2738
01:23:40,320 --> 01:23:43,280
if we go into test two

2739
01:23:43,280 --> 01:23:45,820
and we go to test join

2740
01:23:45,820 --> 01:23:48,880
direct chat we pass test in

2741
01:23:51,680 --> 01:23:53,460
okay so i think i figured

2742
01:23:53,460 --> 01:23:54,540
out what's going on here so

2743
01:23:54,540 --> 01:23:55,480
i commented this out

2744
01:23:55,480 --> 01:23:56,820
just so we could check it

2745
01:23:56,820 --> 01:23:58,500
out but what i think is

2746
01:23:58,500 --> 01:24:02,280
going on here is remember in

2747
01:24:02,280 --> 01:24:03,800
our previous tutorial

2748
01:24:03,800 --> 01:24:09,500
we had test block test two

2749
01:24:09,500 --> 01:24:12,340
and because they're blocked they can't

2750
01:24:12,340 --> 01:24:13,180
send them messages

2751
01:24:14,380 --> 01:24:16,200
so it completely stops them from

2752
01:24:16,200 --> 01:24:17,420
being able to communicate with each

2753
01:24:17,420 --> 01:24:17,660
other

2754
01:24:17,660 --> 01:24:18,860
and that's why we're in a

2755
01:24:18,860 --> 01:24:18,860
direct chat so we're going to

2756
01:24:18,860 --> 01:24:18,860
go ahead and submit test to

2757
01:24:18,860 --> 01:24:18,860
join direct chat

2758
01:24:18,860 --> 01:24:21,240
why this is happening so if

2759
01:24:21,240 --> 01:24:23,780
i remove this let's see what

2760
01:24:23,780 --> 01:24:25,640
happens if i do that so

2761
01:24:25,640 --> 01:24:26,020
we'll go ahead

2762
01:24:26,020 --> 01:24:27,840
and come in here we'll ctrl

2763
01:24:27,840 --> 01:24:30,460
s we'll hit play and then

2764
01:24:30,460 --> 01:24:31,860
we'll try it one more time

2765
01:24:31,860 --> 01:24:32,600
so we'll do

2766
01:24:32,600 --> 01:24:36,840
submit test to submit test join

2767
01:24:36,840 --> 01:24:40,140
direct chat test to join direct

2768
01:24:40,140 --> 01:24:42,280
chat test we will send a

2769
01:24:42,280 --> 01:24:42,600
message

2770
01:24:42,600 --> 01:24:45,260
and that will now work now

2771
01:24:45,260 --> 01:24:47,880
the reason why this didn't work

2772
01:24:47,880 --> 01:24:48,500
was because

2773
01:24:48,500 --> 01:24:50,700
because test had test2 blocked.

2774
01:24:50,980 --> 01:24:52,340
So since they're blocked, they can't

2775
01:24:52,340 --> 01:24:53,520
communicate at all.

2776
01:24:53,740 --> 01:24:55,600
So that's the reason why this

2777
01:24:55,600 --> 01:24:56,040
happened.

2778
01:24:57,000 --> 01:24:59,400
So it was my fault, but

2779
01:24:59,400 --> 01:25:01,100
that was basically the reasoning.

2780
01:25:01,260 --> 01:25:03,160
Now, if we go ahead and

2781
01:25:03,160 --> 01:25:04,280
stop this,

2782
01:25:04,420 --> 01:25:05,960
and then we come in here

2783
01:25:05,960 --> 01:25:08,740
and uncomment this with control K,

2784
01:25:08,900 --> 01:25:11,300
and then we run this bad

2785
01:25:11,300 --> 01:25:11,540
boy,

2786
01:25:11,640 --> 01:25:13,300
in theory, we should be able

2787
01:25:13,300 --> 01:25:14,740
to see our previous communications.

2788
01:25:14,740 --> 01:25:18,180
So test2, join direct chat,

2789
01:25:18,220 --> 01:25:20,500
and you will see there's all

2790
01:25:20,500 --> 01:25:21,200
of our messages.

2791
01:25:21,280 --> 01:25:22,420
Now I'm getting a little bit

2792
01:25:22,420 --> 01:25:23,340
additional messages,

2793
01:25:23,400 --> 01:25:26,240
mostly because of my testing,

2794
01:25:26,380 --> 01:25:28,720
not because of a problem with

2795
01:25:28,720 --> 01:25:29,140
Nakama.

2796
01:25:29,300 --> 01:25:30,760
That's just something that I did

2797
01:25:30,760 --> 01:25:32,160
on my own by accident.

2798
01:25:32,640 --> 01:25:34,580
But you can see here are

2799
01:25:34,580 --> 01:25:36,640
all of the messages that we

2800
01:25:36,640 --> 01:25:36,980
have.

2801
01:25:37,240 --> 01:25:40,300
So that's basically how you do

2802
01:25:43,240 --> 01:25:44,720
messages back and forth.

2803
01:25:44,740 --> 01:25:46,260
Inside of Nakama.

2804
01:25:49,020 --> 01:25:50,560
Hey guys, editor Mitch here.

2805
01:25:50,660 --> 01:25:52,500
So something that you should do

2806
01:25:52,500 --> 01:25:55,200
once you do your chat system

2807
01:25:55,200 --> 01:25:56,480
and you get that guy settled,

2808
01:25:56,600 --> 01:25:59,780
when you have this chat right

2809
01:25:59,780 --> 01:26:00,140
here,

2810
01:26:00,260 --> 01:26:02,860
what you should also do is

2811
01:26:02,860 --> 01:26:05,560
subscribe to everybody's channels.

2812
01:26:05,740 --> 01:26:07,700
So if you have friends or

2813
01:26:07,700 --> 01:26:09,180
some kind of channel system,

2814
01:26:09,460 --> 01:26:11,340
you need to subscribe to that

2815
01:26:11,340 --> 01:26:11,740
channel.

2816
01:26:11,880 --> 01:26:12,860
So what I'm going to do

2817
01:26:12,860 --> 01:26:14,480
is come up to my online

2818
01:26:14,740 --> 01:26:16,060
login, login button down.

2819
01:26:16,180 --> 01:26:17,500
So when I press my login,

2820
01:26:17,700 --> 01:26:18,740
I'm going to go ahead and

2821
01:26:18,740 --> 01:26:19,240
come in here

2822
01:26:19,240 --> 01:26:20,620
and I'm going to have sub

2823
01:26:20,620 --> 01:26:20,960
to

2824
01:26:23,960 --> 01:26:25,580
friend channels like that.

2825
01:26:27,000 --> 01:26:28,320
Now I'm going to scroll down

2826
01:26:28,320 --> 01:26:29,860
and I have a chat section

2827
01:26:29,860 --> 01:26:30,380
in here.

2828
01:26:30,500 --> 01:26:31,800
So you can see we have

2829
01:26:31,800 --> 01:26:33,640
our little group section right here.

2830
01:26:33,900 --> 01:26:35,100
We scroll down.

2831
01:26:35,340 --> 01:26:36,720
We have a chat room code

2832
01:26:36,720 --> 01:26:37,240
right here.

2833
01:26:37,300 --> 01:26:38,420
So this is our chat section.

2834
01:26:38,580 --> 01:26:40,780
So right here, just somewhere in

2835
01:26:42,140 --> 01:26:44,240
this general section here,

2836
01:26:44,740 --> 01:26:45,780
we're going to go ahead and

2837
01:26:45,780 --> 01:26:47,500
add in the ability

2838
01:26:47,500 --> 01:26:49,480
to sub to the friend channels,

2839
01:26:49,660 --> 01:26:49,800
right?

2840
01:26:49,880 --> 01:26:53,160
So we'll say funk sub to

2841
01:26:53,160 --> 01:26:57,720
friends channels like that.

2842
01:26:58,140 --> 01:26:59,200
And then what I'm going to

2843
01:26:59,200 --> 01:27:00,920
do is say var results

2844
01:27:01,720 --> 01:27:06,020
is equal to await client dot

2845
01:27:06,020 --> 01:27:08,780
list friends asynchronously.

2846
01:27:08,820 --> 01:27:09,720
I'm going to pass in my

2847
01:27:09,720 --> 01:27:10,140
session

2848
01:27:10,140 --> 01:27:11,780
and that'll just bring in all

2849
01:27:11,780 --> 01:27:12,400
of my friends.

2850
01:27:12,540 --> 01:27:13,420
And then from here,

2851
01:27:13,420 --> 01:27:14,820
I can go ahead and subscribe

2852
01:27:14,820 --> 01:27:16,020
to their channels.

2853
01:27:16,040 --> 01:27:19,720
So for I in result dot

2854
01:27:19,720 --> 01:27:20,380
friends.

2855
01:27:22,100 --> 01:27:22,700
Like that.

2856
01:27:22,740 --> 01:27:24,280
And then I'm going to go

2857
01:27:24,280 --> 01:27:25,920
ahead and say var type is

2858
01:27:25,920 --> 01:27:27,620
equal to Nakama

2859
01:27:27,620 --> 01:27:31,940
socket dot channel type dot direct

2860
01:27:31,940 --> 01:27:32,340
message.

2861
01:27:32,700 --> 01:27:34,680
And then I can go ahead

2862
01:27:34,680 --> 01:27:37,420
and pull back my chat that

2863
01:27:37,420 --> 01:27:37,760
I have.

2864
01:27:37,820 --> 01:27:38,620
So I can sub to that

2865
01:27:38,620 --> 01:27:39,000
channel.

2866
01:27:39,060 --> 01:27:41,700
So I can say await socket.

2867
01:27:43,500 --> 01:27:45,340
Oh, I have sub to friends

2868
01:27:45,340 --> 01:27:46,300
sub to friend.

2869
01:27:46,380 --> 01:27:48,160
So we'll do friend channels

2870
01:27:48,160 --> 01:27:50,080
and that'll fix that little function

2871
01:27:50,080 --> 01:27:50,660
not found.

2872
01:27:50,760 --> 01:27:54,060
So socket dot join chat async.

2873
01:27:54,080 --> 01:27:55,060
And then I'll go ahead and

2874
01:27:55,060 --> 01:27:56,700
pass an I dot user

2875
01:27:57,340 --> 01:28:00,100
dot ID comma type

2876
01:28:01,280 --> 01:28:03,660
comma true comma false.

2877
01:28:04,020 --> 01:28:06,020
And that'll basically allow me to

2878
01:28:06,020 --> 01:28:07,200
pull those sockets back.

2879
01:28:07,320 --> 01:28:09,320
Now this should return if I

2880
01:28:09,320 --> 01:28:10,900
remember correctly a channel.

2881
01:28:11,080 --> 01:28:11,980
So if we actually hit control

2882
01:28:11,980 --> 01:28:12,980
F you can see we have

2883
01:28:12,980 --> 01:28:14,260
a couple of me see we

2884
01:28:14,260 --> 01:28:15,520
have current channel right here.

2885
01:28:15,640 --> 01:28:16,940
So what I'm going to do

2886
01:28:16,940 --> 01:28:17,980
is I'm going to come in

2887
01:28:17,980 --> 01:28:18,360
here and say

2888
01:28:20,340 --> 01:28:23,660
chat channels is equal to a

2889
01:28:23,660 --> 01:28:24,340
weight socket.

2890
01:28:24,520 --> 01:28:26,080
Okay, and actually

2891
01:28:27,800 --> 01:28:29,220
now that I think about this,

2892
01:28:29,260 --> 01:28:29,760
let's do this.

2893
01:28:29,920 --> 01:28:31,200
So we'll do

2894
01:28:33,200 --> 01:28:33,640
channel.

2895
01:28:34,060 --> 01:28:36,780
Let's do this channel is equal

2896
01:28:36,780 --> 01:28:38,360
to this and then we can

2897
01:28:38,360 --> 01:28:39,960
come down here and just say

2898
01:28:39,960 --> 01:28:42,140
chat channels.

2899
01:28:44,080 --> 01:28:47,000
Bracket Bracket I dot user.

2900
01:28:47,460 --> 01:28:48,000
ID.

2901
01:28:49,160 --> 01:28:50,420
Actually, I wonder if I should

2902
01:28:50,420 --> 01:28:53,260
do dot user name instead that

2903
01:28:53,260 --> 01:28:53,460
way.

2904
01:28:53,500 --> 01:28:55,400
It's just a more common value

2905
01:28:55,400 --> 01:28:57,720
and I could go is equal

2906
01:28:57,720 --> 01:28:59,160
to channel.

2907
01:29:00,480 --> 01:29:03,120
Like that and that'll basically hook

2908
01:29:03,120 --> 01:29:05,860
our channel here to this object.

2909
01:29:06,000 --> 01:29:07,320
So I'll say var and then

2910
01:29:07,320 --> 01:29:09,980
there we go and chat channels

2911
01:29:09,980 --> 01:29:10,960
doesn't exist yet.

2912
01:29:11,000 --> 01:29:12,160
But now we have a key.

2913
01:29:12,160 --> 01:29:14,000
Value pair here that we can

2914
01:29:14,000 --> 01:29:15,560
use and that's going to be

2915
01:29:15,560 --> 01:29:16,880
really big for us if we

2916
01:29:16,880 --> 01:29:19,760
want to use those channels later.

2917
01:29:20,000 --> 01:29:21,800
So now I can go ahead

2918
01:29:21,800 --> 01:29:22,920
and grab chat channels.

2919
01:29:23,020 --> 01:29:23,540
I can go up to the

2920
01:29:23,540 --> 01:29:26,720
top var chat channels like that

2921
01:29:26,720 --> 01:29:29,220
and I can actually come in

2922
01:29:29,220 --> 01:29:31,640
here and now I have access

2923
01:29:31,640 --> 01:29:33,440
to all of my chats right

2924
01:29:33,440 --> 01:29:33,680
here.

2925
01:29:33,760 --> 01:29:34,580
So if I have like a

2926
01:29:34,580 --> 01:29:35,980
hundred chats, I could actually pull

2927
01:29:35,980 --> 01:29:38,260
back the channel information and switch

2928
01:29:38,260 --> 01:29:41,020
between them really easily using this

2929
01:29:41,020 --> 01:29:41,600
object.

2930
01:29:42,160 --> 01:29:44,500
And I'll probably go through that

2931
01:29:44,500 --> 01:29:47,040
later, but it's a way to

2932
01:29:47,040 --> 01:29:49,560
extend our chat to be a

2933
01:29:49,560 --> 01:29:51,540
bit more useful.

2934
01:29:51,780 --> 01:29:52,760
If that makes sense.

2935
01:29:53,320 --> 01:29:55,560
So if you think about it

2936
01:29:55,560 --> 01:29:57,520
like this, basically what we could

2937
01:29:57,520 --> 01:29:59,000
do is we could add in

2938
01:29:59,000 --> 01:30:00,580
a tab.

2939
01:30:02,860 --> 01:30:05,660
Container right here, make that guy

2940
01:30:05,660 --> 01:30:09,060
full screen and then underneath that

2941
01:30:09,060 --> 01:30:09,920
tab container.

2942
01:30:10,100 --> 01:30:11,980
You can actually switch between different.

2943
01:30:11,980 --> 01:30:14,620
Tabs right and I think what

2944
01:30:14,620 --> 01:30:15,400
we could do.

2945
01:30:17,480 --> 01:30:18,580
And again, this is going to

2946
01:30:18,580 --> 01:30:20,600
be a lot of coding and

2947
01:30:20,600 --> 01:30:22,120
then we could actually come in

2948
01:30:22,120 --> 01:30:22,440
here.

2949
01:30:22,620 --> 01:30:24,780
Make this about I don't know

2950
01:30:24,780 --> 01:30:26,420
about this big give or take

2951
01:30:26,420 --> 01:30:27,860
then we can put that chat

2952
01:30:27,860 --> 01:30:29,400
text underneath here, right?

2953
01:30:29,940 --> 01:30:32,160
And this would allow us to

2954
01:30:32,160 --> 01:30:35,180
in theory do this and then

2955
01:30:35,180 --> 01:30:37,120
change the title of this to

2956
01:30:37,120 --> 01:30:40,500
username like so you can see

2957
01:30:40,500 --> 01:30:40,860
here.

2958
01:30:41,000 --> 01:30:41,880
Here's the user.

2959
01:30:41,980 --> 01:30:42,140
Name.

2960
01:30:42,660 --> 01:30:45,080
So what we could do at

2961
01:30:45,080 --> 01:30:49,540
least in theory is on startup.

2962
01:30:49,620 --> 01:30:51,420
Once we subscribe to all of

2963
01:30:51,420 --> 01:30:53,220
those channels, it would just fill

2964
01:30:53,220 --> 01:30:53,820
this out.

2965
01:30:54,060 --> 01:30:55,440
So for instance, if we come

2966
01:30:55,440 --> 01:30:58,640
in here and we go and

2967
01:30:58,640 --> 01:31:00,760
subscribe to those friend channels.

2968
01:31:00,860 --> 01:31:02,200
So if we grab this guy,

2969
01:31:02,400 --> 01:31:04,880
bring it down here, come in

2970
01:31:04,880 --> 01:31:06,800
here and then basically just say

2971
01:31:06,800 --> 01:31:11,780
tab container, or I guess it's

2972
01:31:11,780 --> 01:31:14,020
going to be dollar sign tab

2973
01:31:14,020 --> 01:31:15,080
container.

2974
01:31:16,740 --> 01:31:17,300
Dot.

2975
01:31:18,320 --> 01:31:20,480
Add child and then we can

2976
01:31:20,480 --> 01:31:22,740
add a child of this text

2977
01:31:22,740 --> 01:31:23,460
box here.

2978
01:31:23,680 --> 01:31:27,680
So basically if we add a

2979
01:31:27,680 --> 01:31:29,440
child of this text box and

2980
01:31:29,440 --> 01:31:30,740
I'm just kind of thinking this

2981
01:31:30,740 --> 01:31:31,780
through as I talk to you

2982
01:31:31,780 --> 01:31:31,980
guys.

2983
01:31:32,040 --> 01:31:34,220
So my apologies for how confusing

2984
01:31:34,220 --> 01:31:35,560
this is probably going to end

2985
01:31:35,560 --> 01:31:35,980
up being.

2986
01:31:38,440 --> 01:31:40,680
But we could do a.

2987
01:31:41,780 --> 01:31:42,440
Text box.

2988
01:31:42,660 --> 01:31:43,720
So this is going to be

2989
01:31:43,720 --> 01:31:45,080
a text edit.

2990
01:31:45,160 --> 01:31:46,980
So VAR.

2991
01:31:49,140 --> 01:31:51,180
Current edit is equal to text

2992
01:31:51,180 --> 01:31:53,380
edit dot new like that.

2993
01:31:53,520 --> 01:31:55,060
And then we could pass in

2994
01:31:55,060 --> 01:31:58,280
our current edit like that to

2995
01:31:58,280 --> 01:32:00,140
make that a object.

2996
01:32:00,260 --> 01:32:01,400
And then we could do current

2997
01:32:01,400 --> 01:32:01,960
edit.

2998
01:32:03,500 --> 01:32:06,320
Dot name is equal to our

2999
01:32:06,320 --> 01:32:07,580
username right here.

3000
01:32:07,660 --> 01:32:11,440
So I dot user dot user.

3001
01:32:11,440 --> 01:32:12,540
Name like so.

3002
01:32:13,880 --> 01:32:16,100
And then when we log in,

3003
01:32:16,360 --> 01:32:18,140
you'll see that I'm going to

3004
01:32:18,140 --> 01:32:19,240
have a tab right here called

3005
01:32:19,240 --> 01:32:19,580
username.

3006
01:32:19,760 --> 01:32:21,720
But if I click on login

3007
01:32:21,720 --> 01:32:23,700
and it's mad at me, so

3008
01:32:23,700 --> 01:32:25,520
you can see invalid index test

3009
01:32:25,520 --> 01:32:25,980
too.

3010
01:32:26,320 --> 01:32:28,180
So let's take a look at

3011
01:32:28,180 --> 01:32:28,420
this.

3012
01:32:28,520 --> 01:32:29,700
So create chat.

3013
01:32:30,260 --> 01:32:30,760
No.

3014
01:32:30,900 --> 01:32:32,640
So this is a null object.

3015
01:32:32,800 --> 01:32:33,860
It needs to be a type

3016
01:32:33,860 --> 01:32:34,420
dictionary.

3017
01:32:34,720 --> 01:32:36,040
That's my guess at least.

3018
01:32:36,100 --> 01:32:37,200
So we'll come in here.

3019
01:32:37,340 --> 01:32:40,620
We'll say colon equals bracket bracket

3020
01:32:40,620 --> 01:32:41,340
like that.

3021
01:32:41,340 --> 01:32:42,280
And that'll make it into an

3022
01:32:42,280 --> 01:32:42,700
object.

3023
01:32:43,000 --> 01:32:44,380
And now if we try it,

3024
01:32:44,400 --> 01:32:45,680
it should in theory work.

3025
01:32:46,400 --> 01:32:47,140
There we go.

3026
01:32:47,220 --> 01:32:47,740
And you can see we have

3027
01:32:47,740 --> 01:32:49,740
test to and username right here.

3028
01:32:50,140 --> 01:32:52,100
And that means that we would

3029
01:32:52,100 --> 01:32:53,560
be able to go and fetch

3030
01:32:53,560 --> 01:32:56,440
any messages that we want from

3031
01:32:56,440 --> 01:32:57,260
that person.

3032
01:32:57,400 --> 01:32:58,680
So if we were to go

3033
01:32:58,680 --> 01:33:00,420
in here sub to friend chat,

3034
01:33:00,600 --> 01:33:01,400
go down here.

3035
01:33:01,660 --> 01:33:03,500
We could actually go and fetch

3036
01:33:03,500 --> 01:33:04,520
that person's information.

3037
01:33:04,760 --> 01:33:06,220
If you remember, we actually do

3038
01:33:06,220 --> 01:33:08,420
that right here.

3039
01:33:08,560 --> 01:33:10,140
We pull back the messages right

3040
01:33:10,140 --> 01:33:10,420
here.

3041
01:33:10,420 --> 01:33:12,480
So what we could do is

3042
01:33:12,480 --> 01:33:15,680
if we list channel messages asynchronously,

3043
01:33:15,840 --> 01:33:17,340
we should probably pull this out

3044
01:33:17,340 --> 01:33:22,700
and just do a list messages

3045
01:33:22,700 --> 01:33:23,400
like that.

3046
01:33:23,500 --> 01:33:24,020
Do this.

3047
01:33:24,220 --> 01:33:25,180
It's going to want to have

3048
01:33:25,180 --> 01:33:26,420
a current channel dot ID.

3049
01:33:26,620 --> 01:33:30,200
So current channel like that, and

3050
01:33:30,200 --> 01:33:31,200
then we could come in here

3051
01:33:31,200 --> 01:33:37,540
and just do current edit dot

3052
01:33:37,540 --> 01:33:39,580
text is equal to.

3053
01:33:40,640 --> 01:33:41,600
List messages.

3054
01:33:41,620 --> 01:33:42,760
And then we have to pass

3055
01:33:42,760 --> 01:33:43,660
in our current channel.

3056
01:33:43,800 --> 01:33:47,240
So that would be our, let's

3057
01:33:47,240 --> 01:33:48,420
see channel right here.

3058
01:33:48,540 --> 01:33:49,220
So channel.

3059
01:33:49,400 --> 01:33:50,860
So we'll pass it that channel.

3060
01:33:50,980 --> 01:33:52,520
That'll pass back all of the

3061
01:33:52,520 --> 01:33:53,820
text in that channel.

3062
01:33:54,420 --> 01:33:55,620
This is a co-routine.

3063
01:33:55,800 --> 01:33:56,700
So it must be called with

3064
01:33:56,700 --> 01:33:57,220
a weight.

3065
01:33:58,240 --> 01:33:59,140
That makes sense.

3066
01:33:59,320 --> 01:33:59,980
So a weight.

3067
01:34:02,220 --> 01:34:04,240
And then instead of doing this,

3068
01:34:04,340 --> 01:34:06,400
we'll just return that value.

3069
01:34:06,780 --> 01:34:09,900
So we'll just say bar text.

3070
01:34:10,420 --> 01:34:11,440
Oh, I guess I'm going to

3071
01:34:11,440 --> 01:34:12,380
have to create a text.

3072
01:34:12,480 --> 01:34:15,100
So var text is equal to

3073
01:34:15,100 --> 01:34:17,040
quote, and then we'll need to

3074
01:34:17,040 --> 01:34:19,360
just do text plus equals blah.

3075
01:34:19,660 --> 01:34:21,380
And then we can just return

3076
01:34:21,380 --> 01:34:24,100
our text like that.

3077
01:34:25,240 --> 01:34:27,860
And then that will return text

3078
01:34:27,860 --> 01:34:28,440
right here.

3079
01:34:28,520 --> 01:34:30,940
And then instead of doing this,

3080
01:34:31,120 --> 01:34:34,640
when we join a chat group,

3081
01:34:34,740 --> 01:34:36,400
we can just go dollar sign.

3082
01:34:37,920 --> 01:34:39,620
Or we could just go in

3083
01:34:39,620 --> 01:34:40,060
here.

3084
01:34:40,420 --> 01:34:42,380
And add in a panel, like

3085
01:34:42,380 --> 01:34:43,140
what we're doing right here.

3086
01:34:43,200 --> 01:34:44,000
You can see how we're joining

3087
01:34:44,000 --> 01:34:45,080
chat asynchronously.

3088
01:34:45,220 --> 01:34:47,080
So we really could just grab

3089
01:34:47,080 --> 01:34:47,600
this.

3090
01:34:49,620 --> 01:34:50,580
Section here.

3091
01:34:52,260 --> 01:34:54,340
And just paste it right here.

3092
01:34:55,500 --> 01:34:58,560
On this guy, like, so, and

3093
01:34:58,560 --> 01:35:00,980
that'll basically solve that problem right

3094
01:35:00,980 --> 01:35:01,320
there.

3095
01:35:01,360 --> 01:35:03,320
Now, technically this is duplicated code

3096
01:35:03,320 --> 01:35:04,680
and that's probably not the most

3097
01:35:04,680 --> 01:35:07,820
ideal situation, but that's probably okay

3098
01:35:07,820 --> 01:35:08,620
for right now.

3099
01:35:08,780 --> 01:35:10,380
And instead of.

3100
01:35:10,420 --> 01:35:11,360
Doing our.

3101
01:35:12,720 --> 01:35:14,760
Chat channel, I username.

3102
01:35:15,140 --> 01:35:16,540
What we would do is we

3103
01:35:16,540 --> 01:35:18,260
would do something like current channel

3104
01:35:18,260 --> 01:35:19,980
and then selected group.

3105
01:35:20,180 --> 01:35:20,700
So.

3106
01:35:22,880 --> 01:35:24,080
Selected group to ID.

3107
01:35:25,160 --> 01:35:27,840
The current name would also be

3108
01:35:27,840 --> 01:35:29,240
the selected group ID.

3109
01:35:29,440 --> 01:35:31,100
I guess we'd probably want to

3110
01:35:31,100 --> 01:35:32,100
come up with a better way.

3111
01:35:32,300 --> 01:35:33,600
Maybe we could just call it

3112
01:35:33,600 --> 01:35:34,760
current group, right?

3113
01:35:34,820 --> 01:35:35,600
Instead of the name.

3114
01:35:36,780 --> 01:35:39,260
Like, so, and then we could

3115
01:35:39,260 --> 01:35:40,100
probably come in.

3116
01:35:40,420 --> 01:35:42,860
Here and list our current channel

3117
01:35:42,860 --> 01:35:43,780
as well.

3118
01:35:43,900 --> 01:35:45,700
And in theory, that would work.

3119
01:35:45,820 --> 01:35:47,060
So now if we hit play

3120
01:35:47,060 --> 01:35:48,500
in theory, we would have a

3121
01:35:48,500 --> 01:35:50,760
tabular messaging system.

3122
01:35:50,920 --> 01:35:52,760
Now we can hit submit and

3123
01:35:52,760 --> 01:35:54,620
there's all of our messages right

3124
01:35:54,620 --> 01:35:55,040
there.

3125
01:35:55,240 --> 01:35:57,020
And we have different tabs that

3126
01:35:57,020 --> 01:35:57,720
we can work with.

3127
01:35:58,020 --> 01:35:59,360
I think if I do test,

3128
01:35:59,720 --> 01:36:00,940
it's probably going to get mad

3129
01:36:00,940 --> 01:36:02,480
at me in ballot index ID.

3130
01:36:03,060 --> 01:36:05,620
That makes sense because current channel.

3131
01:36:05,840 --> 01:36:06,420
Dot ID.

3132
01:36:09,120 --> 01:36:11,680
Current channel is no, my guess

3133
01:36:11,680 --> 01:36:13,000
is because I'm not in a

3134
01:36:13,000 --> 01:36:14,820
channel yet, so that would make

3135
01:36:14,820 --> 01:36:15,180
sense.

3136
01:36:15,500 --> 01:36:16,740
So what we would need to

3137
01:36:16,740 --> 01:36:18,060
do is we need to make

3138
01:36:18,060 --> 01:36:20,080
our tab container handle that when

3139
01:36:20,080 --> 01:36:22,000
the tab gets switched, which I

3140
01:36:22,000 --> 01:36:24,760
think there is a on tab

3141
01:36:24,760 --> 01:36:25,880
changed right here.

3142
01:36:26,020 --> 01:36:27,520
So we would have to keep

3143
01:36:27,520 --> 01:36:30,580
track of which index our stuff

3144
01:36:30,580 --> 01:36:31,780
is actually located in.

3145
01:36:31,860 --> 01:36:33,420
So I think that that's okay.

3146
01:36:33,540 --> 01:36:34,980
So we could actually just do

3147
01:36:34,980 --> 01:36:36,400
this on tab change.

3148
01:36:36,400 --> 01:36:38,380
Like, so, and then we could

3149
01:36:38,380 --> 01:36:40,780
just keep track of what index

3150
01:36:40,780 --> 01:36:42,880
we're on when the user changes

3151
01:36:42,880 --> 01:36:44,560
their tab, it kind of keeps

3152
01:36:44,560 --> 01:36:45,260
track of that.

3153
01:36:45,400 --> 01:36:47,200
So how I would do that

3154
01:36:47,200 --> 01:36:50,240
is if I go into where

3155
01:36:50,240 --> 01:36:53,860
the tabs are located, so you

3156
01:36:53,860 --> 01:36:56,020
could see here, and I know

3157
01:36:56,020 --> 01:36:57,260
this is probably a little bit

3158
01:36:57,260 --> 01:36:58,560
confusing and my apologies.

3159
01:36:58,860 --> 01:37:00,300
I'm just kind of working through

3160
01:37:00,300 --> 01:37:00,980
it with you guys.

3161
01:37:01,020 --> 01:37:02,380
But so you can see right

3162
01:37:02,380 --> 01:37:02,800
here.

3163
01:37:02,960 --> 01:37:05,540
We have a channel selected group

3164
01:37:05,540 --> 01:37:05,780
ID.

3165
01:37:05,780 --> 01:37:06,540
Current channel.

3166
01:37:06,760 --> 01:37:08,940
So what we could do is

3167
01:37:08,940 --> 01:37:11,000
when we do our tab container,

3168
01:37:11,360 --> 01:37:16,220
we could actually connect our tab

3169
01:37:16,220 --> 01:37:19,360
changed event and then bind the

3170
01:37:19,360 --> 01:37:22,300
user ID to it.

3171
01:37:22,380 --> 01:37:23,280
So we could do is we

3172
01:37:23,280 --> 01:37:26,200
could do dollar sign panel tab

3173
01:37:26,200 --> 01:37:28,680
container dot add child like so.

3174
01:37:28,780 --> 01:37:31,900
But we could do dot tab

3175
01:37:31,900 --> 01:37:33,840
changed dot.

3176
01:37:35,040 --> 01:37:35,760
Container.

3177
01:37:35,780 --> 01:37:36,200
Connect.

3178
01:37:37,620 --> 01:37:39,120
And then we can put on

3179
01:37:39,120 --> 01:37:42,460
tab changed, and I guess I

3180
01:37:42,460 --> 01:37:43,820
should do on chat.

3181
01:37:43,900 --> 01:37:47,140
Tab changed dot bind.

3182
01:37:47,380 --> 01:37:49,700
And I can pass in the

3183
01:37:49,700 --> 01:37:53,040
selected group ID like so.

3184
01:37:53,940 --> 01:37:55,760
And then we could come in

3185
01:37:55,760 --> 01:37:58,640
here and just say funk on

3186
01:37:58,640 --> 01:38:02,540
chat tab changed like so.

3187
01:38:02,680 --> 01:38:03,860
And then we could pass an

3188
01:38:03,860 --> 01:38:04,380
int.

3189
01:38:06,580 --> 01:38:08,380
tab, comma, or I guess it'd

3190
01:38:08,380 --> 01:38:09,700
be, I'm sorry, I'm trying to

3191
01:38:09,700 --> 01:38:12,000
code in C sharp, tab, colon,

3192
01:38:12,120 --> 01:38:14,480
int, comma, and then we could

3193
01:38:14,480 --> 01:38:18,040
pass in group ID or channel

3194
01:38:18,040 --> 01:38:24,460
ID like that. And that would

3195
01:38:24,460 --> 01:38:25,200
pass in

3196
01:38:25,200 --> 01:38:27,880
that value like that. And there

3197
01:38:27,880 --> 01:38:30,040
we go. So what that's going

3198
01:38:30,040 --> 01:38:31,080
to do is allow us to

3199
01:38:31,080 --> 01:38:31,500
print,

3200
01:38:31,500 --> 01:38:37,240
print, quote, tab, comma, channel ID

3201
01:38:37,240 --> 01:38:39,060
like that. And that will give

3202
01:38:39,060 --> 01:38:40,200
us the ability to work with

3203
01:38:40,200 --> 01:38:43,080
this. Now, we join a chat

3204
01:38:43,080 --> 01:38:44,300
group, that's how we have to

3205
01:38:44,300 --> 01:38:46,020
handle that. But when we do

3206
01:38:46,020 --> 01:38:46,760
our sub to

3207
01:38:46,760 --> 01:38:48,080
friends channel, we got to do

3208
01:38:48,080 --> 01:38:49,280
that as well. So that way

3209
01:38:49,280 --> 01:38:50,560
we can do it on both.

3210
01:38:50,720 --> 01:38:51,440
So now if I hit

3211
01:38:51,440 --> 01:38:54,120
play, in theory, if I do

3212
01:38:54,120 --> 01:38:57,020
submit, it's mad at me unable

3213
01:38:57,020 --> 01:38:59,180
to get index ID on base

3214
01:38:59,180 --> 01:39:00,140
nil, that's because

3215
01:39:00,140 --> 01:39:01,480
selected group is not available. So

3216
01:39:01,480 --> 01:39:01,480
that's why we have to do

3217
01:39:01,480 --> 01:39:01,480
that. So that's why we have

3218
01:39:01,480 --> 01:39:01,480
to do

3219
01:39:01,480 --> 01:39:04,340
is null. And that's because I'm

3220
01:39:04,340 --> 01:39:05,660
dumb, and I chose the wrong

3221
01:39:05,660 --> 01:39:06,960
bind, it's going to be I

3222
01:39:06,960 --> 01:39:07,980
dot user dot

3223
01:39:07,980 --> 01:39:10,980
username. So grab that, and paste

3224
01:39:10,980 --> 01:39:12,520
it right here. Let's try that

3225
01:39:12,520 --> 01:39:14,520
one more time. So I'm going

3226
01:39:14,520 --> 01:39:14,760
to come

3227
01:39:14,760 --> 01:39:15,360
in here, I'm going to go

3228
01:39:15,360 --> 01:39:17,520
submit. And it once again, is

3229
01:39:17,520 --> 01:39:18,700
going to be mad on non

3230
01:39:18,700 --> 01:39:20,040
existent function bind

3231
01:39:20,040 --> 01:39:23,580
on base int. That's mad about,

3232
01:39:23,880 --> 01:39:27,100
let me see. I think I

3233
01:39:27,100 --> 01:39:28,260
might have figured it out. What

3234
01:39:28,260 --> 01:39:29,280
if I do this

3235
01:39:30,400 --> 01:39:30,880
instead?

3236
01:39:31,480 --> 01:39:32,260
And then I have to go

3237
01:39:32,260 --> 01:39:34,420
and find my other bind, which

3238
01:39:34,420 --> 01:39:36,700
should be, I think I need

3239
01:39:36,700 --> 01:39:37,560
to put it out

3240
01:39:37,560 --> 01:39:42,880
inside the the signal connection. So

3241
01:39:42,880 --> 01:39:44,820
I'm connecting, I'm binding this to

3242
01:39:44,820 --> 01:39:45,320
the signal,

3243
01:39:45,380 --> 01:39:47,280
not to the connection function. I

3244
01:39:47,280 --> 01:39:48,840
think that's what's doing it. So

3245
01:39:48,840 --> 01:39:50,800
let's try that. Let's grab

3246
01:39:50,800 --> 01:39:52,240
the other one. So you can

3247
01:39:52,240 --> 01:39:54,740
see how this one connect dot

3248
01:39:54,740 --> 01:39:56,840
bind. Instead, I think I need

3249
01:39:56,840 --> 01:39:58,760
to bind and then

3250
01:39:58,760 --> 01:40:01,200
do that. And then I should,

3251
01:40:01,480 --> 01:40:02,680
be able to make that work.

3252
01:40:02,900 --> 01:40:06,280
And I believe it is index

3253
01:40:06,280 --> 01:40:08,400
and then channel ID. So let's

3254
01:40:08,400 --> 01:40:09,320
try that. Let's

3255
01:40:09,320 --> 01:40:11,580
see what that does. There we

3256
01:40:11,580 --> 01:40:12,360
go. And then if I click

3257
01:40:12,360 --> 01:40:15,020
test two, it should have displayed

3258
01:40:15,020 --> 01:40:16,080
test two

3259
01:40:16,080 --> 01:40:18,540
right there. So that's perfect. So

3260
01:40:18,540 --> 01:40:20,020
what that means is that we

3261
01:40:20,020 --> 01:40:23,180
can go current channel is equal

3262
01:40:23,180 --> 01:40:23,660
to

3263
01:40:24,820 --> 01:40:28,160
chat channels, bracket bracket channel ID.

3264
01:40:29,660 --> 01:40:30,460
Like that.

3265
01:40:31,560 --> 01:40:33,380
And then what that means is

3266
01:40:33,380 --> 01:40:34,820
now we should be able to,

3267
01:40:34,860 --> 01:40:36,520
since we're binding those parameters,

3268
01:40:36,940 --> 01:40:38,300
I should be able to send

3269
01:40:38,300 --> 01:40:40,660
a message and it should just

3270
01:40:40,660 --> 01:40:42,800
take it in theory, invalid, get

3271
01:40:42,800 --> 01:40:43,900
text on null.

3272
01:40:44,300 --> 01:40:46,140
That's fine. My guess is that's

3273
01:40:46,140 --> 01:40:49,020
because chat text box doesn't exist

3274
01:40:49,020 --> 01:40:50,400
anymore because now we're going

3275
01:40:50,400 --> 01:40:52,720
the opposite direction, right? So we're

3276
01:40:52,720 --> 01:40:54,480
sending a message. If you see

3277
01:40:54,480 --> 01:40:56,520
here, if you look at the

3278
01:40:56,520 --> 01:40:59,160
content messages, test type is zero.

3279
01:40:59,360 --> 01:41:00,900
And if you take a look

3280
01:41:00,900 --> 01:41:01,300
at this,

3281
01:41:01,480 --> 01:41:03,860
object, it has the channel ID,

3282
01:41:04,180 --> 01:41:07,520
sender ID, user ID, one, two,

3283
01:41:07,600 --> 01:41:10,140
and then user name. Now, if

3284
01:41:10,140 --> 01:41:10,540
we take

3285
01:41:10,540 --> 01:41:14,480
a look at our channel objects

3286
01:41:14,480 --> 01:41:17,040
right here, so chat channels, you

3287
01:41:17,040 --> 01:41:19,560
can see test two is our

3288
01:41:19,560 --> 01:41:20,340
parameter

3289
01:41:20,340 --> 01:41:21,940
here. That's going to be our

3290
01:41:21,940 --> 01:41:24,180
players information, if that makes sense.

3291
01:41:24,840 --> 01:41:28,520
So I think we could probably

3292
01:41:28,520 --> 01:41:30,480
get away with.

3293
01:41:31,480 --> 01:41:33,400
Since this is going to give

3294
01:41:33,400 --> 01:41:37,360
us test as its content and

3295
01:41:37,360 --> 01:41:38,860
the message is going to say

3296
01:41:38,860 --> 01:41:41,100
sender ID is right

3297
01:41:41,100 --> 01:41:44,120
here. The channel ID is right

3298
01:41:44,120 --> 01:41:45,380
here. I wonder if we should

3299
01:41:45,380 --> 01:41:47,060
pull because it has a username

3300
01:41:47,060 --> 01:41:47,820
right here,

3301
01:41:47,960 --> 01:41:48,940
but that's not going to hook

3302
01:41:48,940 --> 01:41:50,360
us up to our channel code.

3303
01:41:50,620 --> 01:41:54,580
So I'm curious if we need

3304
01:41:54,580 --> 01:41:55,520
to change how we

3305
01:41:55,520 --> 01:41:57,700
send our data across. So we

3306
01:41:57,700 --> 01:41:59,000
send our data, we're sending the

3307
01:41:59,000 --> 01:42:00,960
message and then the current channel

3308
01:42:01,480 --> 01:42:03,120
ID. Okay. So I think I

3309
01:42:03,120 --> 01:42:04,280
know what I'm going to do

3310
01:42:04,280 --> 01:42:05,620
here. So we're actually going to

3311
01:42:05,620 --> 01:42:07,420
change up a little

3312
01:42:07,420 --> 01:42:09,440
bit, how we're doing this. And

3313
01:42:09,440 --> 01:42:11,320
the reason why I'll show you,

3314
01:42:11,420 --> 01:42:13,860
if we take a look at

3315
01:42:13,860 --> 01:42:15,440
right here, we're

3316
01:42:15,440 --> 01:42:17,560
passing in our current channel. What

3317
01:42:17,560 --> 01:42:18,880
I'm going to do is I'm

3318
01:42:18,880 --> 01:42:21,340
going to come in here and

3319
01:42:21,340 --> 01:42:24,520
pass in, instead

3320
01:42:24,520 --> 01:42:26,800
of just a current channel, I'm

3321
01:42:26,800 --> 01:42:29,820
going to pass in channel like

3322
01:42:29,820 --> 01:42:30,140
that.

3323
01:42:30,200 --> 01:42:31,180
Colon current.

3324
01:42:31,480 --> 01:42:33,180
Channel. And then I'm also going

3325
01:42:33,180 --> 01:42:34,660
to pass in a label value

3326
01:42:34,660 --> 01:42:37,760
just so I can have the

3327
01:42:37,760 --> 01:42:39,080
label if I need it for

3328
01:42:39,080 --> 01:42:43,600
whatever reason. And the label in

3329
01:42:43,600 --> 01:42:45,720
the selected group ID will probably

3330
01:42:45,720 --> 01:42:49,100
just be group chat because it

3331
01:42:49,100 --> 01:42:49,300
really

3332
01:42:49,300 --> 01:42:50,700
doesn't need to have anything special.

3333
01:42:51,060 --> 01:42:52,680
And if we go to the

3334
01:42:52,680 --> 01:42:55,840
other one, so channel chats, we

3335
01:42:55,840 --> 01:42:58,080
go to the other

3336
01:42:58,080 --> 01:43:00,440
one, which is right here.

3337
01:43:00,600 --> 01:43:01,300
So this one.

3338
01:43:01,480 --> 01:43:03,700
Needs to go dot channel because

3339
01:43:03,700 --> 01:43:05,520
we're making that adjustment real quick.

3340
01:43:05,980 --> 01:43:07,340
You can see right here, we're

3341
01:43:07,340 --> 01:43:08,140
doing channel.

3342
01:43:08,280 --> 01:43:09,160
So you can see we'll need

3343
01:43:09,160 --> 01:43:10,900
to make that adjustment and then

3344
01:43:10,900 --> 01:43:12,740
we'll just copy this guy right

3345
01:43:12,740 --> 01:43:13,120
here.

3346
01:43:13,260 --> 01:43:15,560
We'll paste it like, so, and

3347
01:43:15,560 --> 01:43:16,520
then I'm going to go ahead

3348
01:43:16,520 --> 01:43:22,600
and pass in control X channel

3349
01:43:22,600 --> 01:43:23,340
like that.

3350
01:43:23,880 --> 01:43:25,720
And that will allow us to

3351
01:43:25,720 --> 01:43:27,680
have an object that has a

3352
01:43:27,680 --> 01:43:28,540
label here.

3353
01:43:28,700 --> 01:43:30,520
And then for the actual label

3354
01:43:30,520 --> 01:43:30,940
itself,

3355
01:43:31,480 --> 01:43:32,740
I'll just pass this guy in

3356
01:43:32,740 --> 01:43:33,680
like that.

3357
01:43:33,940 --> 01:43:35,540
And then I'll just do channel

3358
01:43:35,540 --> 01:43:37,240
dot ID like that.

3359
01:43:37,420 --> 01:43:39,960
And then if we have this,

3360
01:43:40,140 --> 01:43:41,840
then we should be able to

3361
01:43:41,840 --> 01:43:46,960
use this to pull back that

3362
01:43:46,960 --> 01:43:48,560
channel information instead.

3363
01:43:48,980 --> 01:43:50,400
And I know what you're thinking.

3364
01:43:50,600 --> 01:43:52,600
That doesn't sound like it's going

3365
01:43:52,600 --> 01:43:54,920
to work, but it's probably not

3366
01:43:54,920 --> 01:43:55,420
going to work.

3367
01:43:55,520 --> 01:43:58,820
So let's go ahead and say

3368
01:43:58,820 --> 01:44:00,080
on tab changed.

3369
01:44:00,080 --> 01:44:02,800
Spine selected group ID.

3370
01:44:03,080 --> 01:44:04,720
If I do on tab changed

3371
01:44:04,720 --> 01:44:10,200
bind channel ID like that.

3372
01:44:11,380 --> 01:44:13,540
And then when we produce our

3373
01:44:13,540 --> 01:44:16,020
message here, we're going to be

3374
01:44:16,020 --> 01:44:18,940
fetching back this on channel message,

3375
01:44:19,300 --> 01:44:21,560
parse the content.

3376
01:44:24,460 --> 01:44:27,240
And right here, we will have

3377
01:44:27,240 --> 01:44:28,760
a chat box.

3378
01:44:28,800 --> 01:44:29,460
So you can see we have

3379
01:44:29,460 --> 01:44:29,920
chat.

3380
01:44:29,920 --> 01:44:30,060
Chat.

3381
01:44:30,060 --> 01:44:30,920
Chat box.

3382
01:44:31,100 --> 01:44:34,620
It'll be tab container dot get

3383
01:44:34,620 --> 01:44:39,200
node like that content dot.

3384
01:44:40,360 --> 01:44:42,320
And if we take a look

3385
01:44:42,320 --> 01:44:43,640
at what our message is going

3386
01:44:43,640 --> 01:44:44,880
to be right here, see how

3387
01:44:44,880 --> 01:44:46,260
we have our right message asynchronous,

3388
01:44:46,780 --> 01:44:48,980
we'll just say content dot ID

3389
01:44:48,980 --> 01:44:49,920
like so.

3390
01:44:51,200 --> 01:44:52,640
And then here we can pass

3391
01:44:52,640 --> 01:44:56,440
in quote ID colon and fetch

3392
01:44:56,440 --> 01:44:58,460
back our channel information.

3393
01:44:58,600 --> 01:45:00,040
So chat channel.

3394
01:45:00,760 --> 01:45:01,760
Like, so.

3395
01:45:02,440 --> 01:45:03,560
Channel ID.

3396
01:45:04,800 --> 01:45:06,760
So it'd be current channel.

3397
01:45:08,580 --> 01:45:10,260
Dot ID right here.

3398
01:45:12,380 --> 01:45:13,300
Like that.

3399
01:45:13,320 --> 01:45:14,820
And that will pass back our

3400
01:45:14,820 --> 01:45:15,540
channel information.

3401
01:45:15,880 --> 01:45:17,440
And then from here, we could

3402
01:45:17,440 --> 01:45:18,260
just go dot.

3403
01:45:19,340 --> 01:45:19,900
Label.

3404
01:45:21,700 --> 01:45:23,860
And that should allow us to

3405
01:45:23,860 --> 01:45:25,540
fetch back the correct node and

3406
01:45:25,540 --> 01:45:27,540
set the proper information right there.

3407
01:45:27,720 --> 01:45:30,040
And in theory, that would work.

3408
01:45:30,060 --> 01:45:31,800
work. Let's try that and see

3409
01:45:31,800 --> 01:45:34,100
how that works. So if we

3410
01:45:34,100 --> 01:45:37,440
hit submit test to test send,

3411
01:45:37,620 --> 01:45:38,380
you'll see that

3412
01:45:38,380 --> 01:45:39,740
we now get our test information.

3413
01:45:40,060 --> 01:45:43,140
So this is a test message

3414
01:45:43,140 --> 01:45:45,000
like that. And we click go,

3415
01:45:45,140 --> 01:45:45,760
you'll see

3416
01:45:45,760 --> 01:45:47,560
this is a test message just

3417
01:45:47,560 --> 01:45:49,860
like that. And that's basically how

3418
01:45:49,860 --> 01:45:51,500
we can make a tabbed system

3419
01:45:51,500 --> 01:45:52,380
as well

3420
01:45:52,380 --> 01:45:55,820
that should actually work for our

3421
01:45:55,820 --> 01:45:58,680
chat system. So now that we

3422
01:45:58,680 --> 01:46:01,960
have a basic chatting system that

3423
01:46:01,960 --> 01:46:04,720
fully works, let's talk about how

3424
01:46:04,720 --> 01:46:06,440
we can host this out on

3425
01:46:06,440 --> 01:46:08,600
the cloud. Because the best way

3426
01:46:08,600 --> 01:46:09,520
to get your

3427
01:46:09,520 --> 01:46:11,820
networking working is by hosting it

3428
01:46:11,820 --> 01:46:13,400
out on the cloud. That means

3429
01:46:13,400 --> 01:46:14,440
that you have to pay a

3430
01:46:14,440 --> 01:46:14,820
server

3431
01:46:14,820 --> 01:46:17,500
to host that information. So if

3432
01:46:17,500 --> 01:46:19,160
you want a multiplayer game, you

3433
01:46:19,160 --> 01:46:20,380
need to actually pay to

3434
01:46:20,380 --> 01:46:22,160
host that data somewhere.

3435
01:46:22,380 --> 01:46:25,480
Right. And that is where DigitalOcean

3436
01:46:25,480 --> 01:46:30,740
comes in. DigitalOcean is a pretty

3437
01:46:30,740 --> 01:46:33,160
great tools kit that will

3438
01:46:33,160 --> 01:46:35,440
allow you to host your projects

3439
01:46:35,440 --> 01:46:38,260
right here on their servers. And

3440
01:46:38,260 --> 01:46:39,900
it's relatively cheap. If you

3441
01:46:39,900 --> 01:46:40,880
take a look at the pricing,

3442
01:46:41,020 --> 01:46:42,440
you can see they have some

3443
01:46:42,440 --> 01:46:43,960
pretty cheap droplets. So if you

3444
01:46:43,960 --> 01:46:44,640
wanted a

3445
01:46:44,640 --> 01:46:46,920
cheap like $5 server to host

3446
01:46:46,920 --> 01:46:48,780
your game, that's more or less

3447
01:46:48,780 --> 01:46:49,960
what this is for is it

3448
01:46:49,960 --> 01:46:50,840
allows you to

3449
01:46:50,840 --> 01:46:51,600
actually host.

3450
01:46:52,380 --> 01:46:53,740
Stuff out in the cloud for

3451
01:46:53,740 --> 01:46:57,020
relatively cheap. And I will drop

3452
01:46:57,020 --> 01:46:58,540
a link in the description below

3453
01:46:58,540 --> 01:46:59,080
that if

3454
01:46:59,080 --> 01:47:00,760
you guys use it, it will

3455
01:47:00,760 --> 01:47:02,140
give me credits to be able

3456
01:47:02,140 --> 01:47:03,740
to host my own stuff. Now

3457
01:47:03,740 --> 01:47:06,180
I will be hosting stuff

3458
01:47:06,180 --> 01:47:09,380
for this tutorial here. I'll be

3459
01:47:09,380 --> 01:47:10,460
giving you guys an IP address

3460
01:47:10,460 --> 01:47:11,820
and you guys can use it

3461
01:47:11,820 --> 01:47:12,600
for your testing.

3462
01:47:12,720 --> 01:47:15,340
But just know that if you

3463
01:47:15,340 --> 01:47:16,460
want to go out into production,

3464
01:47:16,720 --> 01:47:18,480
you need to use your own

3465
01:47:18,480 --> 01:47:20,460
server and something

3466
01:47:20,460 --> 01:47:21,560
to keep in mind.

3467
01:47:22,380 --> 01:47:23,960
You can host your own server

3468
01:47:23,960 --> 01:47:25,960
as well locally, but it's a

3469
01:47:25,960 --> 01:47:27,700
lot harder. It's not as safe

3470
01:47:27,700 --> 01:47:29,120
and people can hack into your

3471
01:47:29,120 --> 01:47:30,380
networks and things like that. So

3472
01:47:30,380 --> 01:47:31,620
it's really nice just to use

3473
01:47:31,620 --> 01:47:33,260
something like this to host it

3474
01:47:33,260 --> 01:47:36,120
for you so that you can

3475
01:47:36,120 --> 01:47:37,520
get your game out there and

3476
01:47:37,520 --> 01:47:39,020
get people playing it and playing

3477
01:47:39,020 --> 01:47:41,660
together. So let's go ahead and

3478
01:47:41,660 --> 01:47:42,880
create an account or

3479
01:47:42,880 --> 01:47:44,340
log in whichever one you guys

3480
01:47:44,340 --> 01:47:45,240
have. So I'm going to go

3481
01:47:45,240 --> 01:47:46,460
ahead and log in real quick.

3482
01:47:47,740 --> 01:47:50,080
So this is DigitalOcean and

3483
01:47:50,080 --> 01:47:52,360
basically the nice thing here is

3484
01:47:52,360 --> 01:47:52,360
that you can host your own

3485
01:47:52,360 --> 01:47:52,360
server. So if you want to

3486
01:47:52,360 --> 01:47:52,360
host your own server, you can

3487
01:47:52,360 --> 01:47:53,580
do this in your browser clipboard

3488
01:47:53,580 --> 01:47:53,900
but in this case that I'm

3489
01:47:53,900 --> 01:47:53,900
just running it from my laptop

3490
01:47:53,900 --> 01:47:53,900
here.

3491
01:47:54,120 --> 01:47:56,380
So this is the DigitalOcean dashboard.

3492
01:47:56,740 --> 01:47:58,240
If you're a big developer, this

3493
01:47:58,240 --> 01:47:58,280
has to be cool for you.

3494
01:47:59,040 --> 01:48:01,320
It has to be let that

3495
01:48:01,320 --> 01:48:02,740
person explain everything to you, and

3496
01:48:02,740 --> 01:48:03,300
it's got certain parameters to be

3497
01:48:03,300 --> 01:48:03,300
with at a time so that

3498
01:48:03,300 --> 01:48:03,300
you

3499
01:48:03,300 --> 01:48:03,300
can't just move the view member

3500
01:48:03,300 --> 01:48:04,400
for whatever it is that you're

3501
01:48:04,400 --> 01:48:05,100
using so if you get a

3502
01:48:05,100 --> 01:48:07,320
whole new location it may not

3503
01:48:07,320 --> 01:48:07,320
be

3504
01:48:07,320 --> 01:48:08,820
going to be a comfortable time

3505
01:48:08,820 --> 01:48:12,120
so you can make some adjustments,

3506
01:48:12,300 --> 01:48:12,880
but it's going to allow you

3507
01:48:12,880 --> 01:48:13,600
to hang out, surf there for

3508
01:48:13,600 --> 01:48:14,720
As well as just showing people

3509
01:48:14,720 --> 01:48:15,540
that you're camping, or store a

3510
01:48:15,540 --> 01:48:15,800
lot on the plane, or whatever

3511
01:48:15,800 --> 01:48:16,400
you're the case,

3512
01:48:16,840 --> 01:48:17,780
or whatever you're using on your

3513
01:48:17,780 --> 01:48:18,480
vlogging mission or other, but only

3514
01:48:18,480 --> 01:48:18,900
as far it's going to help

3515
01:48:18,900 --> 01:48:20,280
you to host your own server

3516
01:48:20,280 --> 01:48:20,280
or

3517
01:48:20,280 --> 01:48:20,380
actually create your own server or

3518
01:48:20,380 --> 01:48:21,000
having a live server.

3519
01:48:21,000 --> 01:48:23,260
right here so if you're using

3520
01:48:23,260 --> 01:48:25,840
nakama you can actually store your

3521
01:48:25,840 --> 01:48:28,140
database outside of your

3522
01:48:28,140 --> 01:48:31,400
droplet and allow for load balancing

3523
01:48:31,400 --> 01:48:32,980
they actually have a full built

3524
01:48:32,980 --> 01:48:34,840
-in load balancing system right

3525
01:48:34,840 --> 01:48:36,680
here spinning up a load balance

3526
01:48:36,680 --> 01:48:38,720
so you can actually choose different

3527
01:48:38,720 --> 01:48:40,320
data regions and pass

3528
01:48:40,320 --> 01:48:43,300
data in between different regions and

3529
01:48:43,300 --> 01:48:45,280
things like that by using their

3530
01:48:45,280 --> 01:48:47,240
load balancers now that being

3531
01:48:47,240 --> 01:48:49,600
said that's way beyond the scope

3532
01:48:49,600 --> 01:48:50,980
of this tutorial but that's what

3533
01:48:50,980 --> 01:48:52,020
i'm trying to say is digital

3534
01:48:52,020 --> 01:48:52,220
ocean

3535
01:48:52,220 --> 01:48:53,360
has a bunch of stuff for

3536
01:48:53,360 --> 01:48:55,680
you to use that can help

3537
01:48:55,680 --> 01:48:56,720
you get up to the point

3538
01:48:56,720 --> 01:48:57,740
where you can use nakama

3539
01:48:57,740 --> 01:49:00,140
premium and actually have them handle

3540
01:49:00,140 --> 01:49:00,960
a lot of that for you

3541
01:49:00,960 --> 01:49:02,100
but this is a good way

3542
01:49:02,100 --> 01:49:02,700
to kind of

3543
01:49:02,700 --> 01:49:05,060
get started into that if that

3544
01:49:05,060 --> 01:49:07,680
makes sense so let's go ahead

3545
01:49:07,680 --> 01:49:09,600
and talk about how to create

3546
01:49:09,600 --> 01:49:10,180
a droplet so

3547
01:49:10,180 --> 01:49:10,780
let's go up here to the

3548
01:49:10,780 --> 01:49:12,100
upper right hand corner click on

3549
01:49:12,100 --> 01:49:15,240
create click on droplet you could

3550
01:49:15,240 --> 01:49:15,660
do an

3551
01:49:15,660 --> 01:49:17,160
app platform that's technical

3552
01:49:17,240 --> 01:49:18,460
going to be cheaper but it's

3553
01:49:18,460 --> 01:49:19,820
a lot harder to get everything

3554
01:49:19,820 --> 01:49:21,500
set up properly so i'm just

3555
01:49:21,500 --> 01:49:21,840
going to do

3556
01:49:21,840 --> 01:49:26,080
a droplet for right now and

3557
01:49:26,080 --> 01:49:28,500
so we can pick what region

3558
01:49:28,500 --> 01:49:30,260
we want our droplet in so

3559
01:49:30,260 --> 01:49:30,720
right here i'm

3560
01:49:30,720 --> 01:49:31,700
going to choose new york new

3561
01:49:31,700 --> 01:49:32,820
york is the closest to me

3562
01:49:32,820 --> 01:49:34,840
so we'll choose that we'll come

3563
01:49:34,840 --> 01:49:35,340
down here

3564
01:49:35,340 --> 01:49:36,540
and you could choose an image

3565
01:49:36,540 --> 01:49:37,600
now if you have a specific

3566
01:49:37,600 --> 01:49:38,780
image that you're looking for go

3567
01:49:38,780 --> 01:49:38,960
ahead

3568
01:49:38,960 --> 01:49:40,320
and pick it right here in

3569
01:49:40,320 --> 01:49:41,500
my case i'm going to go

3570
01:49:41,500 --> 01:49:42,960
with ubuntu but if you want

3571
01:49:42,960 --> 01:49:43,940
to you can also look

3572
01:49:43,940 --> 01:49:45,720
at the marketplace and you can

3573
01:49:45,720 --> 01:49:47,080
pick different stuff so

3574
01:49:47,240 --> 01:49:49,500
docker on ubuntu probably would be

3575
01:49:49,500 --> 01:49:50,880
a good image to get or

3576
01:49:50,880 --> 01:49:54,320
maybe something like lamp if you're

3577
01:49:54,320 --> 01:49:55,420
trying to do a lamp server

3578
01:49:55,420 --> 01:49:57,120
or wordpress or something like that

3579
01:49:57,120 --> 01:49:58,340
they have so many different

3580
01:49:58,960 --> 01:50:01,200
droplets that you can actually use

3581
01:50:03,860 --> 01:50:06,260
have at your disposal you can

3582
01:50:06,260 --> 01:50:07,080
see here you can also do

3583
01:50:07,080 --> 01:50:08,380
custom images so if you have

3584
01:50:08,380 --> 01:50:08,820
an image

3585
01:50:08,820 --> 01:50:09,860
you can actually just spin it

3586
01:50:09,860 --> 01:50:11,660
up and have it work now

3587
01:50:11,660 --> 01:50:13,520
in my case i'm going to

3588
01:50:13,520 --> 01:50:14,520
go with os ubuntu

3589
01:50:14,520 --> 01:50:15,780
we're going to start from base

3590
01:50:15,780 --> 01:50:16,360
even though

3591
01:50:17,240 --> 01:50:20,260
technically docker on ubuntu probably is

3592
01:50:20,260 --> 01:50:22,820
a better option so i'm going

3593
01:50:22,820 --> 01:50:23,200
to go

3594
01:50:24,940 --> 01:50:26,340
so so i'm going to go

3595
01:50:26,340 --> 01:50:28,700
with marketplace docker on ubuntu that's

3596
01:50:28,700 --> 01:50:29,460
going to save us a lot

3597
01:50:29,460 --> 01:50:29,860
of trouble

3598
01:50:29,860 --> 01:50:30,940
and get it all set up

3599
01:50:30,940 --> 01:50:32,060
for us right so all we

3600
01:50:32,060 --> 01:50:32,640
have to do is get our

3601
01:50:32,640 --> 01:50:33,860
docker compose and then set up

3602
01:50:33,860 --> 01:50:33,960
our

3603
01:50:33,960 --> 01:50:35,400
firewall rules and we'll be good

3604
01:50:35,400 --> 01:50:36,980
to go so we'll go ahead

3605
01:50:36,980 --> 01:50:38,640
and add that guy now if

3606
01:50:38,640 --> 01:50:39,760
you come in here you

3607
01:50:39,760 --> 01:50:41,040
can see that you have a

3608
01:50:41,040 --> 01:50:43,120
bunch of different options for size

3609
01:50:43,120 --> 01:50:45,000
now it depends on what you're

3610
01:50:45,000 --> 01:50:45,820
trying to do

3611
01:50:50,420 --> 01:50:52,680
and typically what i tell people

3612
01:50:52,680 --> 01:50:54,380
is you want to pick the

3613
01:50:54,380 --> 01:50:56,960
lowest value that you can

3614
01:50:57,920 --> 01:51:00,340
and plus one so for instance

3615
01:51:00,340 --> 01:51:01,840
if you think that your game

3616
01:51:01,840 --> 01:51:02,960
is going to be really small

3617
01:51:02,960 --> 01:51:03,460
and not a

3618
01:51:03,460 --> 01:51:04,080
lot of people are going to

3619
01:51:04,080 --> 01:51:05,720
play it then something like the

3620
01:51:05,720 --> 01:51:07,360
14 a month one is probably

3621
01:51:07,360 --> 01:51:07,980
pretty good

3622
01:51:07,980 --> 01:51:10,100
if you're looking for something really

3623
01:51:10,100 --> 01:51:11,460
cheap just for testing if you

3624
01:51:11,460 --> 01:51:12,720
go to regular and you

3625
01:51:12,720 --> 01:51:14,400
kick it over you can see

3626
01:51:14,400 --> 01:51:16,100
that you can just do something

3627
01:51:16,100 --> 01:51:17,220
like the six dollar one and

3628
01:51:17,220 --> 01:51:17,220
that's it

3629
01:51:17,240 --> 01:51:17,340
if you're looking for something really

3630
01:51:17,340 --> 01:51:17,340
cheap you can just do something

3631
01:51:17,340 --> 01:51:17,580
like the six dollar a month

3632
01:51:17,580 --> 01:51:17,880
one

3633
01:51:17,880 --> 01:51:19,320
or even the four dollar a

3634
01:51:19,320 --> 01:51:21,400
month one if you can get

3635
01:51:21,400 --> 01:51:23,500
away with under 10 gigabytes if

3636
01:51:23,500 --> 01:51:24,180
you were to come

3637
01:51:24,180 --> 01:51:26,280
up here and choose os ubuntu

3638
01:51:26,280 --> 01:51:27,940
then you could go down to

3639
01:51:27,940 --> 01:51:30,080
four dollars a month at 512

3640
01:51:30,080 --> 01:51:31,860
megabytes now

3641
01:51:31,860 --> 01:51:34,060
once you get down that low

3642
01:51:34,060 --> 01:51:37,040
this is basically only used for

3643
01:51:37,040 --> 01:51:39,200
testing you want to at minimum

3644
01:51:39,200 --> 01:51:40,000
have six

3645
01:51:40,000 --> 01:51:41,500
dollars a month of one gigabyte

3646
01:51:41,500 --> 01:51:43,800
one cpu just because it's going

3647
01:51:43,800 --> 01:51:45,020
to allow you to have a

3648
01:51:45,020 --> 01:51:45,420
lot

3649
01:51:48,040 --> 01:51:51,040
more flexibility for your project now

3650
01:51:51,040 --> 01:51:53,000
since i'm doing a marketplace image

3651
01:51:53,000 --> 01:51:53,240
of

3652
01:51:55,040 --> 01:51:57,080
and now since this is going

3653
01:51:57,080 --> 01:51:58,980
to be a tutorial i should

3654
01:51:58,980 --> 01:52:01,200
probably just do ubuntu with the

3655
01:52:01,200 --> 01:52:01,440
four

3656
01:52:01,440 --> 01:52:03,860
because odds are you're not going

3657
01:52:03,860 --> 01:52:05,440
to have the funding to do

3658
01:52:05,440 --> 01:52:06,980
this or something like that so

3659
01:52:06,980 --> 01:52:08,280
we'll try the four we might

3660
01:52:08,280 --> 01:52:09,480
have to upgrade to six we'll

3661
01:52:09,480 --> 01:52:11,620
see and then you can see

3662
01:52:11,620 --> 01:52:12,600
here that you

3663
01:52:12,600 --> 01:52:14,080
can add a volume which will

3664
01:52:14,080 --> 01:52:15,600
allow you to expand your disk

3665
01:52:15,600 --> 01:52:17,100
space now in our case we

3666
01:52:17,240 --> 01:52:18,760
don't need that because it's fine

3667
01:52:18,760 --> 01:52:20,240
for right now and you can

3668
01:52:20,240 --> 01:52:21,980
see that we have authentication so

3669
01:52:21,980 --> 01:52:22,060
we

3670
01:52:22,060 --> 01:52:24,320
have ssh key and password now

3671
01:52:24,320 --> 01:52:25,120
in my case we're just going

3672
01:52:25,120 --> 01:52:28,140
to do so i'm going to

3673
01:52:28,140 --> 01:52:28,960
set my password

3674
01:52:28,960 --> 01:52:31,580
right here and we'll scroll down

3675
01:52:31,580 --> 01:52:33,160
here and you can see that

3676
01:52:33,160 --> 01:52:34,840
we can do improve metrics and

3677
01:52:34,840 --> 01:52:35,180
monitoring

3678
01:52:35,180 --> 01:52:37,240
for free so may as well

3679
01:52:37,240 --> 01:52:38,980
turn that on and i don't

3680
01:52:38,980 --> 01:52:39,920
think we need to do a

3681
01:52:39,920 --> 01:52:42,120
database cluster here but

3682
01:52:42,120 --> 01:52:43,460
we can look at that in

3683
01:52:43,460 --> 01:52:44,780
the future so you can see

3684
01:52:44,780 --> 01:52:46,400
here is our host name right

3685
01:52:46,400 --> 01:52:47,220
here which i'll call

3686
01:52:47,240 --> 01:52:49,860
it youtube2 tags i'm not worried

3687
01:52:49,860 --> 01:52:50,780
about it and then you'll see

3688
01:52:50,780 --> 01:52:52,360
that it has a project right

3689
01:52:52,360 --> 01:52:52,760
here now

3690
01:52:52,760 --> 01:52:54,280
this project is where it's going

3691
01:52:54,280 --> 01:52:56,040
to get build under so don't

3692
01:52:56,040 --> 01:52:57,660
worry it'll just get built under

3693
01:52:57,660 --> 01:52:57,840
your

3694
01:52:57,840 --> 01:52:59,180
account and then we'll click create

3695
01:52:59,180 --> 01:53:01,640
droplet now this is going to

3696
01:53:01,640 --> 01:53:03,860
allow us to have a droplet

3697
01:53:03,860 --> 01:53:04,560
once

3698
01:53:04,560 --> 01:53:06,900
it gets built which should be

3699
01:53:06,900 --> 01:53:09,640
relatively quick there we go you

3700
01:53:09,640 --> 01:53:10,460
can see it's in the middle

3701
01:53:10,460 --> 01:53:10,620
of

3702
01:53:10,620 --> 01:53:11,940
building it and it is now

3703
01:53:11,940 --> 01:53:14,020
completed so it actually created your

3704
01:53:14,020 --> 01:53:15,900
little droplet right here so now

3705
01:53:15,900 --> 01:53:16,300
at

3706
01:53:16,300 --> 01:53:17,220
this point what we're going to

3707
01:53:17,220 --> 01:53:17,220
do is we're going to go

3708
01:53:17,220 --> 01:53:17,220
ahead and create a new one

3709
01:53:17,220 --> 01:53:17,220
and we're going to

3710
01:53:17,220 --> 01:53:17,320
see how our project is going

3711
01:53:17,320 --> 01:53:17,660
to look like once we click

3712
01:53:17,660 --> 01:53:18,780
into it you can see here

3713
01:53:18,780 --> 01:53:21,220
is our youtube2

3714
01:53:21,220 --> 01:53:22,680
doplet you can see we have

3715
01:53:22,680 --> 01:53:25,360
our graphs for our bandwidth cpu

3716
01:53:25,360 --> 01:53:26,840
usage stuff like that we have

3717
01:53:26,840 --> 01:53:27,320
access

3718
01:53:27,320 --> 01:53:29,300
which allows us to adjust our

3719
01:53:29,300 --> 01:53:31,340
access to it we have power

3720
01:53:31,340 --> 01:53:32,480
which allows you to turn it

3721
01:53:32,480 --> 01:53:33,540
off and on we

3722
01:53:33,540 --> 01:53:35,000
have volumes which allow you to

3723
01:53:35,000 --> 01:53:37,600
have block storage resize which allows

3724
01:53:37,600 --> 01:53:39,900
you to change how big and

3725
01:53:39,900 --> 01:53:42,520
strong that droplet is so you're

3726
01:53:42,520 --> 01:53:44,480
welcome to go in and actually

3727
01:53:44,480 --> 01:53:46,560
upgrade this later so if you

3728
01:53:46,560 --> 01:53:48,240
need that one gig of memory

3729
01:53:48,240 --> 01:53:50,940
or that one 10 gigabyte ssd

3730
01:53:50,940 --> 01:53:53,100
right that's all stuff that right

3731
01:53:53,100 --> 01:53:55,000
here is available and then you

3732
01:53:55,000 --> 01:53:56,380
can come in here and go

3733
01:53:56,380 --> 01:53:58,280
into networking you can change your

3734
01:53:58,280 --> 01:53:58,500
network

3735
01:53:58,500 --> 01:54:01,480
ip address your firewall stuff you

3736
01:54:01,480 --> 01:54:02,460
can come in here and back

3737
01:54:02,460 --> 01:54:04,200
it up you can get snapshots

3738
01:54:04,200 --> 01:54:04,680
of it

3739
01:54:04,680 --> 01:54:06,400
so that way if you need

3740
01:54:06,400 --> 01:54:09,500
this droplet to be perfect and

3741
01:54:09,500 --> 01:54:11,200
snapshotted for backup purposes

3742
01:54:11,200 --> 01:54:13,080
this is what this is for

3743
01:54:13,080 --> 01:54:14,720
it allows you to basically go

3744
01:54:14,720 --> 01:54:15,760
back to that point in time

3745
01:54:15,760 --> 01:54:16,060
and

3746
01:54:16,060 --> 01:54:18,040
apply it to your image so

3747
01:54:18,040 --> 01:54:19,040
the nice thing is is if

3748
01:54:19,040 --> 01:54:21,320
you create snapshots and your stuff

3749
01:54:21,320 --> 01:54:21,860
gets hacked

3750
01:54:21,860 --> 01:54:22,800
or something like that you can

3751
01:54:22,800 --> 01:54:25,480
roll back to that snapshot and

3752
01:54:25,480 --> 01:54:28,320
stop that hack from happening kernel

3753
01:54:28,320 --> 01:54:30,680
is something that you're not going

3754
01:54:30,680 --> 01:54:32,100
to be using but basically it

3755
01:54:32,100 --> 01:54:33,420
allows you to upgrade your linux

3756
01:54:33,420 --> 01:54:34,620
kernel history

3757
01:54:34,680 --> 01:54:35,780
history is the history of it

3758
01:54:35,780 --> 01:54:37,580
destroy allows you to destroy that

3759
01:54:37,580 --> 01:54:39,180
droplet tags allows you to tag

3760
01:54:39,180 --> 01:54:39,340
it

3761
01:54:39,340 --> 01:54:41,420
and recovery allows you to try

3762
01:54:41,420 --> 01:54:44,300
to recover your droplet now that

3763
01:54:44,300 --> 01:54:46,080
we've gone through all of this

3764
01:54:46,080 --> 01:54:48,180
let's go up to our console

3765
01:54:48,180 --> 01:54:49,700
here and click on that you'll

3766
01:54:49,700 --> 01:54:50,760
see that that's going to pop

3767
01:54:50,760 --> 01:54:51,980
up a droplet

3768
01:54:51,980 --> 01:54:54,600
console now this is pretty cool

3769
01:54:54,600 --> 01:54:56,000
because you actually have a full

3770
01:54:56,000 --> 01:54:58,200
linux machine here so if

3771
01:54:58,200 --> 01:55:00,020
you don't know linux now is

3772
01:55:00,020 --> 01:55:01,540
the time to learn because linux

3773
01:55:01,540 --> 01:55:04,060
is very important to know so

3774
01:55:04,060 --> 01:55:04,360
first

3775
01:55:04,360 --> 01:55:04,660
thing first thing first thing first

3776
01:55:04,660 --> 01:55:04,660
thing first thing first thing first

3777
01:55:04,660 --> 01:55:04,660
thing first thing first

3778
01:55:04,660 --> 01:55:07,060
things first inside of ubuntu to

3779
01:55:07,060 --> 01:55:10,800
install docker what you need to

3780
01:55:10,800 --> 01:55:12,260
do is you need to type

3781
01:55:14,420 --> 01:55:18,080
sudo apt-get update and that's

3782
01:55:18,080 --> 01:55:20,280
going to update all of your

3783
01:55:20,280 --> 01:55:22,500
mirrors out there and then we

3784
01:55:22,500 --> 01:55:22,900
need to go

3785
01:55:22,900 --> 01:55:25,360
in and actually add the repository

3786
01:55:25,360 --> 01:55:27,620
because docker doesn't actually exist in

3787
01:55:27,620 --> 01:55:28,700
the repo by default

3788
01:55:28,700 --> 01:55:31,900
so we'll say sudo apt-get

3789
01:55:31,900 --> 01:55:34,180
install ca-

3790
01:55:35,880 --> 01:55:39,260
certificates curl like that and that's

3791
01:55:39,260 --> 01:55:41,120
going to go ahead and make

3792
01:55:41,120 --> 01:55:42,300
sure that we have curl installed

3793
01:55:42,300 --> 01:55:44,860
and then we'll sudo install dash

3794
01:55:44,860 --> 01:55:51,300
m 0755 dash d slash etc

3795
01:55:51,300 --> 01:55:54,960
slash apt slash key rings

3796
01:55:56,140 --> 01:55:57,920
and then we're going to go

3797
01:55:57,920 --> 01:56:00,060
in and curl out to the

3798
01:56:00,060 --> 01:56:03,480
docker linux ubuntu i will actually

3799
01:56:03,480 --> 01:56:03,960
leave

3800
01:56:03,960 --> 01:56:04,640
these in the browser and then

3801
01:56:04,640 --> 01:56:04,640
we're going to go in and

3802
01:56:04,640 --> 01:56:04,640
curl out to the docker linux

3803
01:56:04,640 --> 01:56:04,640
ubuntu i will

3804
01:56:04,640 --> 01:56:05,940
leave these commands in the comments

3805
01:56:05,940 --> 01:56:06,900
below by the way so you

3806
01:56:06,900 --> 01:56:08,660
guys can use it but sudo

3807
01:56:08,660 --> 01:56:09,060
curl

3808
01:56:11,720 --> 01:56:15,980
dash f s s dash l

3809
01:56:15,980 --> 01:56:20,640
f s capital s l https

3810
01:56:20,640 --> 01:56:24,820
colon slash slash download dot docker

3811
01:56:24,820 --> 01:56:25,920
dot com slash

3812
01:56:25,920 --> 01:56:30,540
linux slash ubuntu slash gpg dash

3813
01:56:30,540 --> 01:56:33,740
o space slash etc

3814
01:56:36,960 --> 01:56:40,760
slash apt slash key rings

3815
01:56:43,180 --> 01:56:47,080
slash docker dot asc and what

3816
01:56:47,080 --> 01:56:48,000
that's going to do is it's

3817
01:56:48,000 --> 01:56:50,560
going to actually create a docker

3818
01:56:51,460 --> 01:56:54,180
gpg apt repo for you so

3819
01:56:54,180 --> 01:56:55,340
that way you can actually go

3820
01:56:55,340 --> 01:56:56,900
and install docker and then we

3821
01:56:56,900 --> 01:56:57,460
need to allow

3822
01:56:57,460 --> 01:56:59,480
access to it so sudo ch

3823
01:56:59,480 --> 01:57:03,480
mod a plus r slash etc

3824
01:57:04,720 --> 01:57:09,000
slash apt slash key rings docker

3825
01:57:09,000 --> 01:57:11,500
asc and that basically allows us

3826
01:57:11,500 --> 01:57:11,840
to

3827
01:57:13,180 --> 01:57:16,320
execute and use that data that's

3828
01:57:16,320 --> 01:57:17,920
right there so basically linux is

3829
01:57:17,920 --> 01:57:18,500
a permission

3830
01:57:19,820 --> 01:57:22,520
system that is very very aggressive

3831
01:57:22,520 --> 01:57:23,680
so you need to make sure

3832
01:57:23,680 --> 01:57:26,840
that you keep that stuff under

3833
01:57:26,840 --> 01:57:27,160
wraps

3834
01:57:27,160 --> 01:57:29,120
if that makes sense so uh

3835
01:57:29,120 --> 01:57:31,200
linux by default does not give

3836
01:57:31,200 --> 01:57:32,880
you permissions to anything and you

3837
01:57:32,880 --> 01:57:33,020
have

3838
01:57:33,020 --> 01:57:34,760
to give yourself permissions to it

3839
01:57:34,760 --> 01:57:36,020
so that's kind of what we're

3840
01:57:36,020 --> 01:57:38,180
doing right here so then

3841
01:57:38,180 --> 01:57:40,500
we can come in here and

3842
01:57:40,500 --> 01:57:43,620
finally fire off our apt resources

3843
01:57:43,620 --> 01:57:46,440
now this command is going to

3844
01:57:46,440 --> 01:57:46,480
be

3845
01:57:46,480 --> 01:57:48,160
really difficult to do so we'll

3846
01:57:48,160 --> 01:57:50,680
do echo slash enter and that's

3847
01:57:50,680 --> 01:57:51,760
going to allow us to kind

3848
01:57:51,760 --> 01:57:51,960
of

3849
01:57:52,460 --> 01:57:54,580
get a actual script going here

3850
01:57:54,580 --> 01:57:57,080
so we'll say quote deb space

3851
01:57:57,080 --> 01:58:01,680
bracket arch equals dollar sign

3852
01:58:03,360 --> 01:58:10,080
dpkg dash dash print dash architecture

3853
01:58:12,800 --> 01:58:13,900
side by

3854
01:58:18,000 --> 01:58:22,220
equals slash etc slash apt slash

3855
01:58:22,220 --> 01:58:25,020
key rings

3856
01:58:26,900 --> 01:58:32,380
slash docker dot asc bracket https

3857
01:58:33,020 --> 01:58:37,280
colon slash slash download dot docker

3858
01:58:37,280 --> 01:58:41,740
dot com slash linux slash ubuntu

3859
01:58:44,640 --> 01:58:46,580
and then we're going to put

3860
01:58:46,580 --> 01:58:51,160
that in dollar sign dot slash

3861
01:58:51,160 --> 01:58:55,200
etc slash os dash release

3862
01:58:56,190 --> 01:58:58,640
and we're going to echo our

3863
01:58:58,640 --> 01:58:59,760
version code name

3864
01:59:04,100 --> 01:59:05,560
and we're going to pull back

3865
01:59:05,560 --> 01:59:09,520
the stable version like that we're

3866
01:59:09,520 --> 01:59:10,680
going to pass in a pipe

3867
01:59:10,680 --> 01:59:11,060
and we're

3868
01:59:11,060 --> 01:59:12,640
going to pipe that into sudo

3869
01:59:12,640 --> 01:59:17,580
t slash etc slash apt slash

3870
01:59:17,580 --> 01:59:21,480
source dot list dot d

3871
01:59:23,920 --> 01:59:27,600
slash docker dot list greater than

3872
01:59:27,600 --> 01:59:29,480
sign slash dev

3873
01:59:31,060 --> 01:59:32,460
slash null

3874
01:59:32,460 --> 01:59:33,000
slash null

3875
01:59:33,020 --> 01:59:44,340
use full than nut verify

3876
01:59:44,340 --> 01:59:44,340
and that was it for this

3877
01:59:44,340 --> 01:59:50,200
episode of docker reasons

3878
01:59:50,200 --> 01:59:52,520
so guys if you guys were

3879
01:59:52,520 --> 01:59:53,520
curious about some of the array

3880
01:59:53,520 --> 01:59:55,740
you can just go to each

3881
01:59:55,740 --> 02:00:00,300
writing

3882
02:00:02,540 --> 02:00:03,000
from han

3883
02:00:03,000 --> 02:00:03,980
So let me double check this

3884
02:00:03,980 --> 02:00:04,220
command

3885
02:00:04,690 --> 02:00:05,880
and make sure that I'm happy

3886
02:00:05,880 --> 02:00:06,260
with it.

3887
02:00:06,400 --> 02:00:10,020
So we have arch $dpackage, our

3888
02:00:10,020 --> 02:00:11,080
print architecture.

3889
02:00:11,340 --> 02:00:12,780
We're going to sign it by

3890
02:00:12,780 --> 02:00:15,080
our Docker ASC file

3891
02:00:15,080 --> 02:00:16,140
and we're going to go out

3892
02:00:16,140 --> 02:00:17,700
to our Docker Linux Ubuntu

3893
02:00:17,700 --> 02:00:19,220
and we're going to pull back

3894
02:00:19,220 --> 02:00:22,720
the OS release

3895
02:00:24,400 --> 02:00:26,960
and I misspelled echo right here.

3896
02:00:27,060 --> 02:00:27,880
You can see I made a

3897
02:00:27,880 --> 02:00:28,160
mistake.

3898
02:00:28,420 --> 02:00:29,860
As always, you make a million

3899
02:00:29,860 --> 02:00:30,860
mistakes when you do this.

3900
02:00:30,860 --> 02:00:31,560
So echo.

3901
02:00:38,040 --> 02:00:40,020
So that's E-C-H-O.

3902
02:00:40,240 --> 02:00:41,780
And then we have our version

3903
02:00:41,780 --> 02:00:42,580
code name

3904
02:00:42,580 --> 02:00:44,540
that we are echoing into our

3905
02:00:44,540 --> 02:00:45,100
release.

3906
02:00:45,340 --> 02:00:47,280
We're pulling back the stable edition.

3907
02:00:47,480 --> 02:00:48,420
We're going to pipe that into

3908
02:00:48,420 --> 02:00:50,460
sudo t right here

3909
02:00:50,460 --> 02:00:52,420
into our Docker lists and we're

3910
02:00:52,420 --> 02:00:54,320
greater than slash dev null.

3911
02:00:54,760 --> 02:00:56,140
And we'll run that.

3912
02:00:57,540 --> 02:00:59,520
Command E-C-O is not

3913
02:00:59,520 --> 02:00:59,900
found.

3914
02:01:00,000 --> 02:01:00,840
That's because I just typed it

3915
02:01:00,840 --> 02:01:00,840
in.

3916
02:01:00,840 --> 02:01:02,180
I spelled echo wrong.

3917
02:01:02,440 --> 02:01:03,920
So I guess it's good thing

3918
02:01:03,920 --> 02:01:06,060
that it failed immediately.

3919
02:01:06,360 --> 02:01:09,540
So E-C-H-O and

3920
02:01:09,540 --> 02:01:11,180
we will try running it.

3921
02:01:11,240 --> 02:01:12,400
Hopefully this doesn't blow up.

3922
02:01:14,560 --> 02:01:15,340
All right.

3923
02:01:15,400 --> 02:01:17,080
So we have no such file

3924
02:01:17,080 --> 02:01:18,260
or directory.

3925
02:01:18,700 --> 02:01:20,580
So, all right.

3926
02:01:20,600 --> 02:01:21,380
So I think I figured it

3927
02:01:21,380 --> 02:01:21,540
out.

3928
02:01:21,600 --> 02:01:22,940
Basically there was an issue with

3929
02:01:22,940 --> 02:01:24,000
the command for,

3930
02:01:24,260 --> 02:01:26,380
I think it was this area

3931
02:01:26,380 --> 02:01:26,900
here.

3932
02:01:27,120 --> 02:01:29,940
So don't worry, just copy what

3933
02:01:29,940 --> 02:01:30,740
I have.

3934
02:01:30,740 --> 02:01:32,880
In my description and just use

3935
02:01:32,880 --> 02:01:33,160
that.

3936
02:01:33,300 --> 02:01:34,560
And it will just work for

3937
02:01:34,560 --> 02:01:34,680
you.

3938
02:01:34,920 --> 02:01:36,260
So now all I got to

3939
02:01:36,260 --> 02:01:39,840
do is type sudo apt-get

3940
02:01:39,840 --> 02:01:42,220
update like that.

3941
02:01:42,280 --> 02:01:43,360
And that's going to update all

3942
02:01:43,360 --> 02:01:45,480
of our packages in our repo.

3943
02:01:45,560 --> 02:01:46,720
And it's going to go and

3944
02:01:46,720 --> 02:01:49,700
fetch out to the Docker system

3945
02:01:50,140 --> 02:01:52,320
and pull back the actual Docker

3946
02:01:52,320 --> 02:01:53,420
packages.

3947
02:01:53,480 --> 02:01:54,500
So you can see right here,

3948
02:01:54,620 --> 02:01:56,680
it's actually pulling down that information

3949
02:01:56,680 --> 02:01:57,340
right there.

3950
02:01:57,420 --> 02:01:58,380
And then we're going to go

3951
02:01:58,380 --> 02:01:59,480
ahead and install Docker.

3952
02:01:59,600 --> 02:02:00,720
So sudo apt-get update.

3953
02:02:00,720 --> 02:02:02,800
You have sudo apt-get install

3954
02:02:02,800 --> 02:02:09,140
docker-ce docker-ce-cli

3955
02:02:12,760 --> 02:02:19,000
container.io docker-build-plugin and

3956
02:02:19,000 --> 02:02:19,540
finally,

3957
02:02:19,780 --> 02:02:21,680
the most important one of the

3958
02:02:21,680 --> 02:02:22,100
group,

3959
02:02:22,180 --> 02:02:27,000
docker-compose-plugin, and that's the

3960
02:02:27,000 --> 02:02:27,440
big one.

3961
02:02:27,500 --> 02:02:29,040
That's the one that's actually going

3962
02:02:29,040 --> 02:02:30,680
to matter for our,

3963
02:02:30,700 --> 02:02:31,980
project for the most part i

3964
02:02:31,980 --> 02:02:32,680
mean the rest of these are

3965
02:02:32,680 --> 02:02:34,460
obviously important docker ce is the

3966
02:02:34,460 --> 02:02:34,980
docker

3967
02:02:36,060 --> 02:02:38,580
runtime docker ce cli is this

3968
02:02:38,580 --> 02:02:41,840
command line interface the uh containered

3969
02:02:41,840 --> 02:02:42,540
is the actual

3970
02:02:42,540 --> 02:02:46,080
container uh system docker build plugins

3971
02:02:46,080 --> 02:02:47,860
is to build your own docker

3972
02:02:47,860 --> 02:02:49,060
containers and then docker

3973
02:02:49,060 --> 02:02:51,060
compose allows you to actually compose

3974
02:02:51,060 --> 02:02:53,240
dockers based off of a docker

3975
02:02:53,240 --> 02:02:54,880
composition file if you

3976
02:02:54,880 --> 02:02:56,660
remember before when we talked about

3977
02:02:56,660 --> 02:02:58,360
how to build nakama that was

3978
02:02:58,360 --> 02:02:59,480
one of the big things that

3979
02:02:59,480 --> 02:02:59,560
you

3980
02:02:59,560 --> 02:03:00,880
needed to use so we'll hit

3981
02:03:00,880 --> 02:03:01,920
enter it's going to go ahead

3982
02:03:01,920 --> 02:03:03,060
and try to pull it it

3983
02:03:03,060 --> 02:03:03,700
says that it cannot

3984
02:03:03,700 --> 02:03:06,060
locate the docker build plugin my

3985
02:03:06,060 --> 02:03:07,500
guess is i spelled something wrong

3986
02:03:07,500 --> 02:03:10,420
here so let's see docker

3987
02:03:10,420 --> 02:03:13,880
build x plugin there we go

3988
02:03:13,880 --> 02:03:16,020
hit go and it should go

3989
02:03:16,020 --> 02:03:18,720
ahead and download and install docker

3990
02:03:20,480 --> 02:03:22,060
now we might need to upgrade

3991
02:03:22,060 --> 02:03:24,220
to the next step up to

3992
02:03:24,220 --> 02:03:25,660
the one gigabyte edition but we're

3993
02:03:25,660 --> 02:03:25,820
going to

3994
02:03:25,820 --> 02:03:26,800
see if we can get away

3995
02:03:26,800 --> 02:03:28,880
with the four dollar a month

3996
02:03:28,880 --> 02:03:29,400
version

3997
02:03:29,400 --> 02:03:31,280
first and if we can't then

3998
02:03:31,280 --> 02:03:33,540
we'll upgrade to the six dollar

3999
02:03:33,540 --> 02:03:35,160
a month version and then we

4000
02:03:35,160 --> 02:03:35,680
can run our

4001
02:03:35,680 --> 02:03:37,840
docker setup here so we'll see

4002
02:03:37,840 --> 02:03:39,240
how this works but we'll go

4003
02:03:39,240 --> 02:03:42,680
from there so it looks like

4004
02:03:42,680 --> 02:03:43,180
it is

4005
02:03:43,180 --> 02:03:44,860
running if we type ps you

4006
02:03:44,860 --> 02:03:46,620
will see that we have a

4007
02:03:46,620 --> 02:03:49,680
bash and ps running

4008
02:03:52,100 --> 02:03:54,620
so if we type docker is

4009
02:03:54,620 --> 02:03:55,980
it going to pop up and

4010
02:03:55,980 --> 02:03:57,220
there we go so we do

4011
02:03:57,220 --> 02:03:59,380
have docker running so we're

4012
02:03:59,400 --> 02:04:01,340
going to docker build and then

4013
02:04:01,340 --> 02:04:01,340
we're going to docker build and

4014
02:04:01,340 --> 02:04:01,340
then we're going to docker build

4015
02:04:01,340 --> 02:04:04,500
so now from here we need

4016
02:04:04,500 --> 02:04:06,480
to get a docker compose file

4017
02:04:06,480 --> 02:04:08,460
on to here so if we

4018
02:04:08,460 --> 02:04:10,040
type ls right here

4019
02:04:10,040 --> 02:04:11,800
you can see that we have

4020
02:04:11,800 --> 02:04:13,900
nothing going on so what we

4021
02:04:13,900 --> 02:04:15,980
can do is we can type

4022
02:04:15,980 --> 02:04:20,100
mkdir nakama cd nakama

4023
02:04:20,100 --> 02:04:21,580
like that and that's going to

4024
02:04:21,580 --> 02:04:22,820
get us into that directory so

4025
02:04:22,820 --> 02:04:25,740
mkdir makes the directory cd nakama

4026
02:04:25,740 --> 02:04:27,020
just brings us into the nakama

4027
02:04:27,020 --> 02:04:29,380
directory so we're going to type

4028
02:04:29,380 --> 02:04:29,380
mkdir nakama and then we're going

4029
02:04:29,380 --> 02:04:29,380
to

4030
02:04:29,400 --> 02:04:30,940
now we can come in here

4031
02:04:30,940 --> 02:04:34,840
and basically compose our docker file

4032
02:04:34,840 --> 02:04:38,320
so if we're lucky we'll be

4033
02:04:38,320 --> 02:04:38,440
able

4034
02:04:38,440 --> 02:04:40,040
to just copy and paste our

4035
02:04:40,040 --> 02:04:41,520
composition file so if we go

4036
02:04:41,520 --> 02:04:43,320
out here we go to documents

4037
02:04:43,320 --> 02:04:44,540
and we find

4038
02:04:44,540 --> 02:04:46,720
our nakama instance i believe i

4039
02:04:46,720 --> 02:04:50,520
have a nakama server tutorial docker

4040
02:04:50,520 --> 02:04:52,480
compose dot yaml so if

4041
02:04:52,480 --> 02:04:54,260
we open this guy up you'll

4042
02:04:54,260 --> 02:04:57,020
see this is what our docker

4043
02:04:57,020 --> 02:04:58,800
compose file looks like

4044
02:04:59,400 --> 02:05:00,440
you can see right here this

4045
02:05:00,440 --> 02:05:01,380
is what it looks like so

4046
02:05:01,380 --> 02:05:03,180
if we hit ctrl a ctrl

4047
02:05:03,180 --> 02:05:05,180
c and then we go

4048
02:05:05,180 --> 02:05:08,520
into our web browser here and

4049
02:05:08,520 --> 02:05:13,980
we type nano docker dash compose

4050
02:05:13,980 --> 02:05:18,220
dot yml and then we right

4051
02:05:18,220 --> 02:05:19,040
click paste

4052
02:05:19,040 --> 02:05:21,340
it should paste all that data

4053
02:05:21,340 --> 02:05:23,460
right into here so that way

4054
02:05:23,460 --> 02:05:24,600
we don't actually have to set

4055
02:05:24,600 --> 02:05:24,980
up file

4056
02:05:24,980 --> 02:05:26,540
zilla because one of the things

4057
02:05:26,540 --> 02:05:28,540
that's unfortunate is a lot of

4058
02:05:28,540 --> 02:05:29,160
times if you're doing

4059
02:05:29,400 --> 02:05:32,460
godot networking you need to actually

4060
02:05:32,460 --> 02:05:35,760
put files up into file zilla

4061
02:05:35,760 --> 02:05:37,820
and into the ftp and bring

4062
02:05:37,820 --> 02:05:38,140
them

4063
02:05:38,140 --> 02:05:40,420
over to digital oceans to your

4064
02:05:40,420 --> 02:05:42,780
digital ocean droplet so thankfully we

4065
02:05:42,780 --> 02:05:43,600
can just copy and paste

4066
02:05:43,600 --> 02:05:46,720
this in ctrl x y and

4067
02:05:46,720 --> 02:05:49,000
it'll be docker compose dot yaml

4068
02:05:49,000 --> 02:05:52,000
and now from here we should

4069
02:05:52,000 --> 02:05:53,280
be able to just

4070
02:05:53,280 --> 02:05:55,800
get it to run if we're

4071
02:05:55,800 --> 02:05:58,900
lucky so what we'll do come

4072
02:05:58,900 --> 02:05:59,380
in here and we're going to

4073
02:05:59,380 --> 02:05:59,380
go to our docker compose

4074
02:05:59,400 --> 02:06:02,720
and type docker compose up and

4075
02:06:02,720 --> 02:06:03,940
you'll see it's going to go

4076
02:06:03,940 --> 02:06:05,160
ahead and attempt to pull

4077
02:06:05,160 --> 02:06:07,920
and build our docker instance right

4078
02:06:07,920 --> 02:06:09,760
here now we might run out

4079
02:06:09,760 --> 02:06:11,240
of ram it just kind of

4080
02:06:11,240 --> 02:06:11,560
depends

4081
02:06:11,560 --> 02:06:14,500
but hopefully with 512 megs of

4082
02:06:14,500 --> 02:06:15,520
ram it's going to be really

4083
02:06:15,520 --> 02:06:16,920
tight i don't know if this

4084
02:06:16,920 --> 02:06:17,280
is going to

4085
02:06:17,280 --> 02:06:18,400
work we're probably going to need

4086
02:06:18,400 --> 02:06:19,860
a gig but we can see

4087
02:06:19,860 --> 02:06:21,560
so we'll let this run and

4088
02:06:21,560 --> 02:06:21,920
we'll attempt

4089
02:06:21,920 --> 02:06:23,480
to run it and it looks

4090
02:06:23,480 --> 02:06:26,960
like it might have worked so

4091
02:06:26,960 --> 02:06:28,460
what we can do is if

4092
02:06:28,460 --> 02:06:29,180
we go out

4093
02:06:29,400 --> 02:06:32,800
to our youtube 2 we grab

4094
02:06:32,800 --> 02:06:34,520
our public ip we go to

4095
02:06:34,520 --> 02:06:37,580
our nakama console and we just

4096
02:06:37,580 --> 02:06:39,100
put in actually i'll

4097
02:06:39,100 --> 02:06:41,040
just make a new thing colon

4098
02:06:41,040 --> 02:06:45,100
and we'll put in 7351 so

4099
02:06:45,100 --> 02:06:49,040
7351 enter does it do anything

4100
02:06:49,040 --> 02:06:50,020
that's the first

4101
02:06:50,020 --> 02:06:52,760
question it doesn't look like it's

4102
02:06:52,760 --> 02:06:54,440
going to so now we got

4103
02:06:54,440 --> 02:06:56,760
to figure out is it this

4104
02:06:56,760 --> 02:06:57,540
guy's fault

4105
02:06:57,540 --> 02:06:59,320
it looks like this is

4106
02:06:59,400 --> 02:07:04,440
running so my question is server

4107
02:07:04,440 --> 02:07:06,060
is ready to receive web requests

4108
02:07:06,060 --> 02:07:07,900
so it did spin up properly

4109
02:07:07,900 --> 02:07:09,940
it started the rule manager properly

4110
02:07:09,940 --> 02:07:13,320
so that's good news oh you

4111
02:07:13,320 --> 02:07:14,940
can see it is just absolutely

4112
02:07:14,940 --> 02:07:16,700
chugging though so if we take

4113
02:07:16,700 --> 02:07:19,140
a look at our youtube docker

4114
02:07:19,140 --> 02:07:21,900
container let's see it looks

4115
02:07:21,900 --> 02:07:23,780
like our cpu utilization is pretty

4116
02:07:23,780 --> 02:07:25,920
high our disk io is relatively

4117
02:07:25,920 --> 02:07:28,020
high as well we probably need

4118
02:07:28,020 --> 02:07:28,160
to

4119
02:07:28,160 --> 02:07:28,500
upgrade

4120
02:07:28,500 --> 02:07:29,380
to the

4121
02:07:29,380 --> 02:07:31,780
have one gig of ram but

4122
02:07:31,780 --> 02:07:35,740
at least it is running so

4123
02:07:35,740 --> 02:07:38,240
there is that the question is

4124
02:07:38,240 --> 02:07:39,520
so i was able

4125
02:07:39,520 --> 02:07:40,640
to get it to stop so

4126
02:07:40,640 --> 02:07:42,040
what we'll do is we'll close

4127
02:07:42,040 --> 02:07:43,300
it we'll go to our youtube

4128
02:07:43,300 --> 02:07:45,140
we'll go over to upgrade

4129
02:07:45,140 --> 02:07:46,940
droplet and then we'll go ahead

4130
02:07:46,940 --> 02:07:48,460
and just upgrade that up to

4131
02:07:48,460 --> 02:07:51,080
one size larger to the one

4132
02:07:51,080 --> 02:07:51,560
gigabyte

4133
02:07:51,560 --> 02:07:53,900
edition so we'll do that and

4134
02:07:53,900 --> 02:07:57,660
then we'll click cpu ram when

4135
02:07:57,660 --> 02:07:58,800
it's going to ask us to

4136
02:07:58,800 --> 02:07:59,240
turn off

4137
02:07:59,380 --> 02:08:00,500
our droplet so we'll go up

4138
02:08:00,500 --> 02:08:02,360
to power we'll power it off

4139
02:08:02,360 --> 02:08:03,860
because there's nothing on here anyway

4140
02:08:03,860 --> 02:08:04,080
so

4141
02:08:04,080 --> 02:08:05,320
we can just power cycle it

4142
02:08:05,320 --> 02:08:07,100
pretty hard there we go it's

4143
02:08:07,100 --> 02:08:08,840
powered down we'll go to resize

4144
02:08:08,840 --> 02:08:10,040
and we'll

4145
02:08:10,040 --> 02:08:12,180
adjust it up one size just

4146
02:08:12,180 --> 02:08:13,880
to let it be the proper

4147
02:08:13,880 --> 02:08:15,940
size that it needs to be

4148
02:08:15,940 --> 02:08:17,260
we're gonna let that run

4149
02:08:17,260 --> 02:08:18,780
you'll see it's thinking about it

4150
02:08:18,780 --> 02:08:21,180
there we go and now we

4151
02:08:21,180 --> 02:08:23,520
got a one size bigger droplet

4152
02:08:23,520 --> 02:08:24,740
now we can go

4153
02:08:24,740 --> 02:08:26,140
ahead and power cycle that bad

4154
02:08:26,140 --> 02:08:27,860
boy back on let's go into

4155
02:08:27,860 --> 02:08:29,360
our networking let's come back to

4156
02:08:29,360 --> 02:08:29,360
our

4157
02:08:29,360 --> 02:08:32,260
firewall and create a firewall now

4158
02:08:32,260 --> 02:08:33,660
the firewall is just going to

4159
02:08:33,660 --> 02:08:36,060
be test firewall and what we'll

4160
02:08:36,060 --> 02:08:37,740
do is we'll have an inbound

4161
02:08:37,740 --> 02:08:39,720
of ssh we're also going to

4162
02:08:39,720 --> 02:08:46,520
allow a custom one and we're

4163
02:08:46,520 --> 02:08:46,840
going to

4164
02:08:46,840 --> 02:08:51,380
allow for 7351 so we'll copy

4165
02:08:51,380 --> 02:08:53,640
that bad boy and we'll go

4166
02:08:53,640 --> 02:08:55,580
ahead and paste it like that

4167
02:08:55,580 --> 02:08:56,020
and then

4168
02:08:56,020 --> 02:08:57,720
we'll do the same thing for

4169
02:08:57,720 --> 02:08:59,340
7351

4170
02:08:59,360 --> 02:09:02,280
as well and then we're going

4171
02:09:02,280 --> 02:09:05,060
to allow another one which is

4172
02:09:05,060 --> 02:09:07,700
going to be 7351 udp and

4173
02:09:07,700 --> 02:09:10,440
7350 udp

4174
02:09:10,440 --> 02:09:12,240
that way we can have all

4175
02:09:12,240 --> 02:09:13,460
of our stuff all of our

4176
02:09:13,460 --> 02:09:14,340
ducks in a row and everything

4177
02:09:14,340 --> 02:09:15,140
kind of covered

4178
02:09:15,140 --> 02:09:16,500
now you can see here all

4179
02:09:16,500 --> 02:09:18,660
outbound is good and we should

4180
02:09:18,660 --> 02:09:19,700
be good to go so we'll

4181
02:09:19,700 --> 02:09:20,320
go ahead and hit

4182
02:09:20,320 --> 02:09:23,120
create firewall and that should create

4183
02:09:23,120 --> 02:09:25,520
that firewall onto that networking system

4184
02:09:25,520 --> 02:09:26,120
so if we

4185
02:09:26,120 --> 02:09:27,540
go to our droplet and we

4186
02:09:27,540 --> 02:09:29,200
go to youtube 2 you should

4187
02:09:29,200 --> 02:09:29,340
see that it's going to be

4188
02:09:29,340 --> 02:09:29,340
7351 and we're

4189
02:09:29,360 --> 02:09:31,060
going to see right here under

4190
02:09:31,060 --> 02:09:36,560
our firewall networking no firewalls are

4191
02:09:36,560 --> 02:09:37,280
applied to this

4192
02:09:37,280 --> 02:09:38,960
droplet so i need to apply

4193
02:09:38,960 --> 02:09:41,380
this firewall so let's see if

4194
02:09:41,380 --> 02:09:44,200
we need droplets we can choose

4195
02:09:44,200 --> 02:09:44,500
our

4196
02:09:44,500 --> 02:09:46,680
droplet add droplet and then we

4197
02:09:46,680 --> 02:09:50,060
will search for youtube 2 and

4198
02:09:50,060 --> 02:09:51,480
we'll go ahead and connect it

4199
02:09:51,480 --> 02:09:51,720
to

4200
02:09:51,720 --> 02:09:53,400
that droplet so now that should

4201
02:09:53,400 --> 02:09:55,880
give our droplet the firewall it

4202
02:09:55,880 --> 02:09:57,620
needs to do its job so

4203
02:09:57,620 --> 02:09:57,900
now we

4204
02:09:57,900 --> 02:09:58,500
should be able to go to

4205
02:09:58,500 --> 02:09:58,840
console

4206
02:09:59,360 --> 02:10:01,720
and fire that up and then

4207
02:10:01,720 --> 02:10:07,520
hit cd nakama and then docker

4208
02:10:07,520 --> 02:10:10,120
compose up and in theory it

4209
02:10:10,120 --> 02:10:10,800
should run a

4210
02:10:10,800 --> 02:10:12,320
lot faster which it is you

4211
02:10:12,320 --> 02:10:13,540
can see it's actually firing off

4212
02:10:13,540 --> 02:10:15,780
just well the init node was

4213
02:10:15,780 --> 02:10:16,180
successfully

4214
02:10:16,180 --> 02:10:18,980
done cockroach database is up so

4215
02:10:18,980 --> 02:10:20,300
now we're starting to get the

4216
02:10:20,300 --> 02:10:22,100
proper logs that we expect so

4217
02:10:22,100 --> 02:10:23,740
my guess is it had something

4218
02:10:23,740 --> 02:10:25,060
to do with the lack of

4219
02:10:25,060 --> 02:10:26,820
ram that we had so let's

4220
02:10:26,820 --> 02:10:28,140
try that we'll refresh

4221
02:10:29,360 --> 02:10:29,400
it and see if we can

4222
02:10:29,400 --> 02:10:29,400
get it up and running and

4223
02:10:29,400 --> 02:10:30,480
there we go so you can

4224
02:10:30,480 --> 02:10:32,040
see now we have nakama

4225
02:10:32,040 --> 02:10:36,500
running out on our website which

4226
02:10:36,500 --> 02:10:42,020
is 198-199-80-118 and

4227
02:10:42,020 --> 02:10:43,240
you guys of course can go

4228
02:10:43,240 --> 02:10:44,700
to this and use it

4229
02:10:44,700 --> 02:10:46,760
so if you type admin password

4230
02:10:46,760 --> 02:10:49,220
you can see we have our

4231
02:10:49,220 --> 02:10:52,020
nakama instance just like before and

4232
02:10:52,020 --> 02:10:52,200
it's

4233
02:10:52,200 --> 02:10:54,340
exactly the same so you guys

4234
02:10:54,340 --> 02:10:56,400
can actually use this for your

4235
02:10:56,400 --> 02:10:58,780
own project providing that it doesn't

4236
02:10:58,780 --> 02:10:58,900
get

4237
02:10:59,360 --> 02:11:01,640
down immediately because for some reason

4238
02:11:01,640 --> 02:11:03,340
it gets shut down sometimes and

4239
02:11:03,340 --> 02:11:04,460
that causes some issues

4240
02:11:06,500 --> 02:11:08,520
but that's how easy it is

4241
02:11:08,520 --> 02:11:10,180
to get this to fire off

4242
02:11:10,180 --> 02:11:12,300
now and in order to detach

4243
02:11:12,300 --> 02:11:13,360
let's hit ctrl c

4244
02:11:13,360 --> 02:11:15,600
we'll stop our docker connection right

4245
02:11:15,600 --> 02:11:17,700
here and you'll see in a

4246
02:11:17,700 --> 02:11:18,820
second it's going to gracefully

4247
02:11:18,820 --> 02:11:20,100
stop so we'll give it a

4248
02:11:20,100 --> 02:11:24,440
minute to kill everything we'll hit

4249
02:11:24,440 --> 02:11:27,460
docker compose up dash dash detach

4250
02:11:28,300 --> 02:11:29,160
and with that

4251
02:11:29,360 --> 02:11:30,720
should do is it should allow

4252
02:11:30,720 --> 02:11:32,500
us to fire this up and

4253
02:11:32,500 --> 02:11:34,480
be detached and there you go

4254
02:11:34,480 --> 02:11:35,200
so now we're

4255
02:11:35,200 --> 02:11:36,460
detached so if we hit ps

4256
02:11:36,460 --> 02:11:38,680
you'll see that it's not running

4257
02:11:38,680 --> 02:11:40,360
but if i come in here

4258
02:11:40,360 --> 02:11:41,580
and i refresh you

4259
02:11:41,580 --> 02:11:42,960
can see that nakama is running

4260
02:11:42,960 --> 02:11:44,960
if i close this and i

4261
02:11:44,960 --> 02:11:47,000
refresh you'll see that nakama is

4262
02:11:47,000 --> 02:11:47,400
running

4263
02:11:47,400 --> 02:11:49,680
even though we are no longer

4264
02:11:49,680 --> 02:11:52,560
connected to our docker instance so

4265
02:11:52,560 --> 02:11:53,520
that's how we can actually

4266
02:11:53,520 --> 02:11:56,280
get that to run without needing

4267
02:11:56,280 --> 02:11:59,240
to keep that window open because

4268
02:11:59,240 --> 02:11:59,340
it should do is it should

4269
02:11:59,340 --> 02:11:59,340
allow us to fire this up

4270
02:11:59,340 --> 02:11:59,340
and be detached and there you

4271
02:11:59,340 --> 02:11:59,340
go so now we're

4272
02:11:59,340 --> 02:12:00,060
if you were to have closed

4273
02:12:00,060 --> 02:12:02,980
the window when nakama's running like

4274
02:12:02,980 --> 02:12:04,020
that previously without

4275
02:12:04,020 --> 02:12:06,580
running the dash dash detach then

4276
02:12:06,580 --> 02:12:08,520
it would have closed that docker

4277
02:12:08,520 --> 02:12:09,700
instance and then your whole

4278
02:12:09,700 --> 02:12:11,360
project would have been gone so

4279
02:12:11,360 --> 02:12:13,820
that's basically how that works so

4280
02:12:13,820 --> 02:12:15,780
now if we head out to

4281
02:12:15,780 --> 02:12:16,740
godot here

4282
02:12:16,740 --> 02:12:17,880
we can come up to here

4283
02:12:17,880 --> 02:12:21,780
and change this value to our

4284
02:12:21,780 --> 02:12:23,800
nakama instance so if we come

4285
02:12:23,800 --> 02:12:24,180
in here

4286
02:12:24,180 --> 02:12:26,060
you can see here is our

4287
02:12:26,060 --> 02:12:27,740
nakama instance right here so we'll

4288
02:12:27,740 --> 02:12:29,220
copy that we'll paste

4289
02:12:29,220 --> 02:12:32,080
this like so and then if

4290
02:12:32,080 --> 02:12:36,020
we hit play you'll see that

4291
02:12:36,020 --> 02:12:39,940
we can now submit and log

4292
02:12:39,940 --> 02:12:41,500
in so you'll see

4293
02:12:41,500 --> 02:12:43,600
that i have logged in so

4294
02:12:43,600 --> 02:12:44,540
now if i take a look

4295
02:12:44,540 --> 02:12:46,460
at my nakama instance out here

4296
02:12:46,460 --> 02:12:48,520
on the web if i refresh

4297
02:12:48,520 --> 02:12:50,400
you'll see that when we go

4298
02:12:50,400 --> 02:12:52,000
to accounts i have an account

4299
02:12:52,000 --> 02:12:55,060
right here just like as if

4300
02:12:55,060 --> 02:12:55,880
i was playing

4301
02:12:55,880 --> 02:12:58,140
the game locally so this is

4302
02:12:58,140 --> 02:12:59,200
how that works if i go

4303
02:12:59,200 --> 02:12:59,200
to my account i have an

4304
02:12:59,200 --> 02:12:59,200
account right here

4305
02:12:59,200 --> 02:12:59,900
and you can come in here

4306
02:12:59,900 --> 02:13:02,720
and go test two and you'll

4307
02:13:02,720 --> 02:13:04,900
see that if i click name

4308
02:13:04,900 --> 02:13:06,040
of match test

4309
02:13:06,980 --> 02:13:10,240
join create test join create we

4310
02:13:10,240 --> 02:13:12,340
just joined our match and then

4311
02:13:12,340 --> 02:13:14,780
if the host says start game

4312
02:13:14,780 --> 02:13:15,220
and

4313
02:13:15,220 --> 02:13:17,160
then start game you'll see that

4314
02:13:17,160 --> 02:13:18,900
we both started our game now

4315
02:13:18,900 --> 02:13:21,000
something here is broken but i

4316
02:13:21,000 --> 02:13:21,200
don't

4317
02:13:21,200 --> 02:13:22,620
think that that's a nakama issue

4318
02:13:22,620 --> 02:13:24,460
i think that's just a my

4319
02:13:24,460 --> 02:13:27,240
code issue so you can see

4320
02:13:27,240 --> 02:13:27,880
that we are

4321
02:13:27,880 --> 02:13:29,180
transferring the data to our game

4322
02:13:29,180 --> 02:13:29,180
and then we're going to go

4323
02:13:29,180 --> 02:13:29,180
to our game and we're going

4324
02:13:29,180 --> 02:13:29,180
to

4325
02:13:29,200 --> 02:13:31,720
as expected here in our nakama

4326
02:13:31,720 --> 02:13:33,840
instance so we do have the

4327
02:13:33,840 --> 02:13:36,480
presences as expected but i feel

4328
02:13:36,480 --> 02:13:36,840
like

4329
02:13:36,840 --> 02:13:40,060
something here is wonky a little

4330
02:13:40,060 --> 02:13:41,780
bit and i think that's because

4331
02:13:41,780 --> 02:13:43,980
i'm not in the right scene

4332
02:13:43,980 --> 02:13:44,760
to do

4333
02:13:44,760 --> 02:13:45,560
this i think i have to

4334
02:13:45,560 --> 02:13:48,100
go to game manager.tscn if

4335
02:13:48,100 --> 02:13:49,420
you remember this is our game

4336
02:13:49,420 --> 02:13:50,520
manager here so

4337
02:13:50,520 --> 02:13:53,220
let's refresh this guy let's try

4338
02:13:53,220 --> 02:13:55,280
rerunning it so we'll hit test

4339
02:13:55,280 --> 02:13:58,200
test two test

4340
02:13:59,200 --> 02:14:02,200
join create test join create start

4341
02:14:02,200 --> 02:14:04,140
game start game and you can

4342
02:14:04,140 --> 02:14:05,860
see that our game is now

4343
02:14:05,860 --> 02:14:06,380
running

4344
02:14:07,040 --> 02:14:09,580
not locally anymore so this will

4345
02:14:09,580 --> 02:14:11,780
work with your friends across the

4346
02:14:11,780 --> 02:14:12,880
web and what i'm going to

4347
02:14:12,880 --> 02:14:13,060
do

4348
02:14:13,060 --> 02:14:13,840
is i'm going to go get

4349
02:14:13,840 --> 02:14:15,220
one of my friends and i

4350
02:14:15,220 --> 02:14:17,720
will have him hold my code

4351
02:14:17,720 --> 02:14:19,140
and then he will also

4352
02:14:19,140 --> 02:14:20,100
do this and i'll show you

4353
02:14:20,100 --> 02:14:21,360
guys that it does work out

4354
02:14:21,360 --> 02:14:23,140
on the internet so i will

4355
02:14:23,140 --> 02:14:23,600
be right back

4356
02:14:25,960 --> 02:14:27,540
okay and then hit start game

4357
02:14:29,200 --> 02:14:30,760
and as you guys can see

4358
02:14:30,760 --> 02:14:33,360
right here my friend and i

4359
02:14:33,360 --> 02:14:35,880
are both working together and playing

4360
02:14:35,880 --> 02:14:36,240
the same

4361
02:14:36,240 --> 02:14:38,180
game at the same time over

4362
02:14:38,180 --> 02:14:40,540
the internet using our nakama instance

4363
02:14:40,540 --> 02:14:42,780
now you can see here that

4364
02:14:42,780 --> 02:14:43,760
there is a little bit of

4365
02:14:43,760 --> 02:14:45,180
lag and i think the reason

4366
02:14:45,180 --> 02:14:47,080
for that is because we're flooding

4367
02:14:47,080 --> 02:14:47,920
the

4368
02:14:47,920 --> 02:14:52,040
actual nakama instance because it has

4369
02:14:52,040 --> 02:14:54,180
a bunch of data that it's

4370
02:14:54,180 --> 02:14:55,240
passing through so we should

4371
02:14:55,240 --> 02:14:56,540
probably figure out a better way

4372
02:14:56,540 --> 02:14:58,620
to optimize this but at least

4373
02:14:58,620 --> 02:14:59,180
we have it we're going to

4374
02:14:59,180 --> 02:14:59,180
be able to

4375
02:14:59,200 --> 02:15:02,120
work for now so at this

4376
02:15:02,120 --> 02:15:03,980
point we've gone through quite a

4377
02:15:03,980 --> 02:15:06,100
few things we talked about groups

4378
02:15:06,100 --> 02:15:06,420
we

4379
02:15:06,420 --> 02:15:08,320
talked about chatting and we talked

4380
02:15:08,320 --> 02:15:09,820
about how to get our stuff

4381
02:15:09,820 --> 02:15:12,060
to work out on the internet

4382
02:15:12,060 --> 02:15:13,100
for our

4383
02:15:13,100 --> 02:15:15,240
project and allow us to work

4384
02:15:15,240 --> 02:15:17,860
on multiple networks with each other

4385
02:15:17,860 --> 02:15:19,040
so if you like this video

4386
02:15:19,040 --> 02:15:19,280
go and

4387
02:15:19,280 --> 02:15:20,580
hit that like button hey you

4388
02:15:20,580 --> 02:15:21,560
know if you dislike this video

4389
02:15:21,560 --> 02:15:22,520
go and hit that dislike button

4390
02:15:22,520 --> 02:15:22,760
because

4391
02:15:22,760 --> 02:15:24,100
i am here to make content

4392
02:15:24,100 --> 02:15:26,020
for you guys this video was

4393
02:15:26,020 --> 02:15:27,260
a viewer suggested video so if

4394
02:15:27,260 --> 02:15:27,440
you have any

4395
02:15:27,440 --> 02:15:29,000
suggestions please leave them in the

4396
02:15:29,000 --> 02:15:29,180
comments below and i'll see you

4397
02:15:29,180 --> 02:15:29,180
in the next one bye bye

4398
02:15:29,200 --> 02:15:30,640
comments below or jump on my

4399
02:15:30,640 --> 02:15:32,100
github link is in the description

4400
02:15:32,100 --> 02:15:33,740
and put in a service ticket

4401
02:15:33,740 --> 02:15:34,260
and i'll be

4402
02:15:34,260 --> 02:15:35,120
more than happy to add it

4403
02:15:35,120 --> 02:15:36,580
to my list of tutorials for

4404
02:15:36,580 --> 02:15:37,780
the future and hey if you

4405
02:15:37,780 --> 02:15:38,360
have any questions

4406
02:15:38,360 --> 02:15:40,380
or comments about this video go

4407
02:15:40,380 --> 02:15:41,040
ahead and leave them in the

4408
02:15:41,040 --> 02:15:42,500
comments below or jump on my

4409
02:15:42,500 --> 02:15:42,800
discord

4410
02:15:42,800 --> 02:15:44,300
link is in the description and

4411
02:15:44,300 --> 02:15:45,080
i'll be more than happy to

4412
02:15:45,080 --> 02:15:47,500
help you out but that is

4413
02:15:47,500 --> 02:15:48,020
all i have for

4414
02:15:48,020 --> 02:15:49,580
you guys today so thank you

4415
02:15:49,580 --> 02:15:52,260
so much again for watching i

4416
02:15:52,260 --> 02:15:53,260
will see you all next time

4417
02:15:53,260 --> 02:15:54,220
thanks

4418
02:16:01,040 --> 02:16:02,440
so

4419
02:16:19,660 --> 02:16:21,060
you

